/* eslint-disable */
// For license information, see `https://assets.adobedtm.com/1281f6ff0c59/dc38a8a8cf5c/launch-29c7dabd5722-development.js`.
(window._satellite = window._satellite || {}),
  (window._satellite.container = {
    buildInfo: {
      minified: !0,
      buildDate: '2025-02-19T21:44:23Z',
      turbineBuildDate: '2025-02-06T21:08:04Z',
      turbineVersion: '28.1.0',
    },
    environment: {
      id: 'EN7c4f2884691a470dafcd3c9ed54d9918',
      stage: 'development',
    },
    dataElements: {
      identityM: {
        modulePath: 'core/src/lib/dataElements/customCode.js',
        settings: {
          source: function () {
            return { ECID: [{ id: '68669774529250157325579584343949770920' }] };
          },
        },
      },
      xdm: {
        modulePath: 'adobe-alloy-nina/dist/lib/dataElements/xdmObject/index.js',
        settings: {
          data: { eventType: 'page-load', identityMap: '%identityM%' },
          sandbox: { name: 'prod' },
        },
      },
    },
    extensions: {
      core: {
        displayName: 'Core',
        hostedLibFilesBaseUrl:
          'https://assets.adobedtm.com/extensions/EPdea2007e025e4854a6b4ed545e844745/',
        modules: {
          'core/src/lib/dataElements/customCode.js': {
            name: 'custom-code',
            displayName: 'Custom Code',
            script: function (e) {
              'use strict';
              e.exports = function (e, n) {
                return e.source(n);
              };
            },
          },
          'core/src/lib/events/libraryLoaded.js': {
            name: 'library-loaded',
            displayName: 'Library Loaded (Page Top)',
            script: function (e, n, t) {
              'use strict';
              var r = t('./helpers/pageLifecycleEvents');
              e.exports = function (e, n) {
                r.registerLibraryLoadedTrigger(n);
              };
            },
          },
          'core/src/lib/events/helpers/pageLifecycleEvents.js': {
            script: function (e, n, t) {
              'use strict';
              var r = t('@adobe/reactor-window'),
                o = t('@adobe/reactor-document'),
                i = -1 !== r.navigator.appVersion.indexOf('MSIE 10'),
                a = 'WINDOW_LOADED',
                c = 'DOM_READY',
                u = 'PAGE_BOTTOM',
                s = [u, c, a],
                d = function (e, n) {
                  return { element: e, target: e, nativeEvent: n };
                },
                l = {};
              s.forEach(function (e) {
                l[e] = [];
              });
              var f = function (e, n) {
                  s.slice(0, g(e) + 1).forEach(function (e) {
                    m(n, e);
                  });
                },
                p = function () {
                  return 'complete' === o.readyState
                    ? a
                    : 'interactive' === o.readyState
                    ? i
                      ? null
                      : c
                    : void 0;
                },
                g = function (e) {
                  return s.indexOf(e);
                },
                m = function (e, n) {
                  l[n].forEach(function (n) {
                    v(e, n);
                  }),
                    (l[n] = []);
                },
                v = function (e, n) {
                  var t = n.trigger,
                    r = n.syntheticEventFn;
                  t(r ? r(e) : null);
                };
              (r._satellite = r._satellite || {}),
                (r._satellite.pageBottom = f.bind(null, u)),
                o.addEventListener('DOMContentLoaded', f.bind(null, c), !0),
                r.addEventListener('load', f.bind(null, a), !0),
                r.setTimeout(function () {
                  var e = p();
                  e && f(e);
                }, 0),
                (e.exports = {
                  registerLibraryLoadedTrigger: function (e) {
                    e();
                  },
                  registerPageBottomTrigger: function (e) {
                    l[u].push({ trigger: e });
                  },
                  registerDomReadyTrigger: function (e) {
                    l[c].push({
                      trigger: e,
                      syntheticEventFn: d.bind(null, o),
                    });
                  },
                  registerWindowLoadedTrigger: function (e) {
                    l[a].push({
                      trigger: e,
                      syntheticEventFn: d.bind(null, r),
                    });
                  },
                });
            },
          },
        },
      },
      'adobe-alloy-nina': {
        displayName: 'Adobe Experience Platform Web SDK(Brand-Concierge)',
        hostedLibFilesBaseUrl:
          'https://assets.adobedtm.com/extensions/EPcbeff48a5c4b480093e8d64986ca090c/',
        settings: {
          instances: [
            {
              name: 'alloy',
              edgeConfigId: '211312ed-d9ca-4f51-b09c-2de37a2a24d0',
            },
          ],
        },
        modules: {
          'adobe-alloy-nina/dist/lib/dataElements/xdmObject/index.js': {
            name: 'xdm-object',
            displayName: 'XDM object',
            script: function (e) {
              'use strict';
              e.exports = function (e) {
                return e.data;
              };
            },
          },
          'adobe-alloy-nina/dist/lib/actions/sendEvent/index.js': {
            name: 'send-event',
            displayName: 'Send event',
            script: function (e, n, t, r) {
              'use strict';
              var o,
                i = t('./createSendEvent'),
                a = t('../../instanceManager/index'),
                c = t('../../index').sendEventCallbackStorage,
                u = t('../../utils/createGetConfigOverrides');
              e.exports = i({
                instanceManager: a,
                sendEventCallbackStorage: c,
                getConfigOverrides: u(
                  null === (o = r.environment) || void 0 === o
                    ? void 0
                    : o.stage
                ),
              });
            },
          },
          'adobe-alloy-nina/dist/lib/instanceManager/index.js': {
            script: function (e, n, t, r) {
              'use strict';
              var o,
                i = t('../alloy'),
                a = i.createInstance,
                c = i.createEventMergeId,
                u = t('./createInstanceManager'),
                s = t('./injectWrapOnBeforeEventSend'),
                d = t('../utils/createGetConfigOverrides'),
                l = s({ version: '2.27.0' });
              e.exports = u({
                turbine: r,
                window: window,
                createInstance: a,
                createEventMergeId: c,
                orgId: _satellite.company.orgId,
                wrapOnBeforeEventSend: l,
                getConfigOverrides: d(
                  null === (o = r.environment) || void 0 === o
                    ? void 0
                    : o.stage
                ),
              });
            },
          },
          'adobe-alloy-nina/dist/lib/actions/sendEvent/createSendEvent.js': {
            script: function (e, n, t) {
              'use strict';
              function r(e, n) {
                if (null == e) return {};
                var t,
                  r,
                  i = o(e, n);
                if (Object.getOwnPropertySymbols) {
                  var a = Object.getOwnPropertySymbols(e);
                  for (r = 0; r < a.length; r++)
                    (t = a[r]),
                      n.includes(t) ||
                        ({}.propertyIsEnumerable.call(e, t) && (i[t] = e[t]));
                }
                return i;
              }
              function o(e, n) {
                if (null == e) return {};
                var t = {};
                for (var r in e)
                  if ({}.hasOwnProperty.call(e, r)) {
                    if (n.includes(r)) continue;
                    t[r] = e[r];
                  }
                return t;
              }
              var i = ['instanceName'],
                a = t('../../utils/clone');
              e.exports = function (e) {
                var n = e.instanceManager,
                  t = e.sendEventCallbackStorage,
                  o = e.getConfigOverrides;
                return function (e) {
                  var c = e.instanceName,
                    u = r(e, i);
                  u.edgeConfigOverrides = o(u);
                  var s = n.getInstance(c);
                  if (!s)
                    throw new Error(
                      'Failed to send event for instance "'.concat(
                        c,
                        '". No matching instance was configured with this name.'
                      )
                    );
                  return (
                    u.xdm && (u.xdm = a(u.xdm)),
                    u.data && (u.data = a(u.data)),
                    s('sendEvent', u).then(function (e) {
                      t.triggerEvent(e);
                    })
                  );
                };
              };
            },
          },
          'adobe-alloy-nina/dist/lib/index.js': {
            script: function (e, n, t) {
              'use strict';
              var r = t('./createEventMergeIdCache'),
                o = t('./createSendEventCallbackStorage'),
                i = t('./createMediaCollectionSessionStorage'),
                a = t('./createVariableStore');
              (n.eventMergeIdCache = r()),
                (n.sendEventCallbackStorage = o()),
                (n.mediaCollectionSessionStorage = i()),
                (n.variableStore = a());
            },
          },
          'adobe-alloy-nina/dist/lib/utils/createGetConfigOverrides.js': {
            script: function (e) {
              'use strict';
              function n(e) {
                return (
                  (n =
                    'function' == typeof Symbol &&
                    'symbol' == typeof Symbol.iterator
                      ? function (e) {
                          return typeof e;
                        }
                      : function (e) {
                          return e &&
                            'function' == typeof Symbol &&
                            e.constructor === Symbol &&
                            e !== Symbol.prototype
                            ? 'symbol'
                            : typeof e;
                        }),
                  n(e)
                );
              }
              function t(e, n) {
                var t = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                  var r = Object.getOwnPropertySymbols(e);
                  n &&
                    (r = r.filter(function (n) {
                      return Object.getOwnPropertyDescriptor(e, n).enumerable;
                    })),
                    t.push.apply(t, r);
                }
                return t;
              }
              function r(e) {
                for (var n = 1; n < arguments.length; n++) {
                  var r = null != arguments[n] ? arguments[n] : {};
                  n % 2
                    ? t(Object(r), !0).forEach(function (n) {
                        o(e, n, r[n]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                        e,
                        Object.getOwnPropertyDescriptors(r)
                      )
                    : t(Object(r)).forEach(function (n) {
                        Object.defineProperty(
                          e,
                          n,
                          Object.getOwnPropertyDescriptor(r, n)
                        );
                      });
                }
                return e;
              }
              function o(e, n, t) {
                return (
                  (n = i(n)) in e
                    ? Object.defineProperty(e, n, {
                        value: t,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                      })
                    : (e[n] = t),
                  e
                );
              }
              function i(e) {
                var t = a(e, 'string');
                return 'symbol' == n(t) ? t : t + '';
              }
              function a(e, t) {
                if ('object' != n(e) || !e) return e;
                var r = e[Symbol.toPrimitive];
                if (void 0 !== r) {
                  var o = r.call(e, t || 'default');
                  if ('object' != n(o)) return o;
                  throw new TypeError(
                    '@@toPrimitive must return a primitive value.'
                  );
                }
                return ('string' === t ? String : Number)(e);
              }
              var c = function (e) {
                return function (n) {
                  var t,
                    o,
                    i,
                    a,
                    c,
                    u = n.edgeConfigOverrides;
                  if (u) {
                    if (u[e]) c = r({}, u[e]);
                    else {
                      if (u.development || u.staging || u.production) return;
                      c = u;
                    }
                    if (0 !== Object.keys(c).length && !1 !== c.enabled) {
                      if (
                        (delete c.enabled,
                        (null === (t = c.com_adobe_analytics) ||
                        void 0 === t ||
                        null === (t = t.reportSuites) ||
                        void 0 === t
                          ? void 0
                          : t.length) > 0 &&
                          (c.com_adobe_analytics.reportSuites =
                            c.com_adobe_analytics.reportSuites
                              .flatMap(function (e) {
                                return e.includes(',') ? e.split(/,\s*/gi) : e;
                              })
                              .map(function (e) {
                                return e.trim();
                              })
                              .filter(Boolean)),
                        void 0 !==
                          (null === (o = c.com_adobe_identity) || void 0 === o
                            ? void 0
                            : o.idSyncContainerId) &&
                          null !==
                            (null === (i = c.com_adobe_identity) || void 0 === i
                              ? void 0
                              : i.idSyncContainerId) &&
                          'string' ==
                            typeof (null === (a = c.com_adobe_identity) ||
                            void 0 === a
                              ? void 0
                              : a.idSyncContainerId))
                      ) {
                        var s = parseInt(
                          c.com_adobe_identity.idSyncContainerId.trim(),
                          10
                        );
                        if (Number.isNaN(s))
                          throw new Error(
                            'The ID sync container ID "'.concat(
                              c.com_adobe_identity.idSyncContainerId,
                              '" is not a valid integer.'
                            )
                          );
                        c.com_adobe_identity.idSyncContainerId = s;
                      }
                      return c;
                    }
                  }
                };
              };
              e.exports = c;
            },
          },
          'adobe-alloy-nina/dist/lib/utils/clone.js': {
            script: function (e) {
              'use strict';
              e.exports = function (e) {
                return JSON.parse(JSON.stringify(e));
              };
            },
          },
          'adobe-alloy-nina/dist/lib/alloy.js': {
            script: function (e, n, t) {
              'use strict';
              function r(e) {
                return e && e.__esModule ? e : { default: e };
              }
              function o(e, n) {
                if (null == e) return {};
                var t,
                  r,
                  o = i(e, n);
                if (Object.getOwnPropertySymbols) {
                  var a = Object.getOwnPropertySymbols(e);
                  for (r = 0; r < a.length; r++)
                    (t = a[r]),
                      n.includes(t) ||
                        ({}.propertyIsEnumerable.call(e, t) && (o[t] = e[t]));
                }
                return o;
              }
              function i(e, n) {
                if (null == e) return {};
                var t = {};
                for (var r in e)
                  if ({}.hasOwnProperty.call(e, r)) {
                    if (n.includes(r)) continue;
                    t[r] = e[r];
                  }
                return t;
              }
              function a(e, n) {
                return s(e) || u(e, n) || y(e, n) || c();
              }
              function c() {
                throw new TypeError(
                  'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                );
              }
              function u(e, n) {
                var t =
                  null == e
                    ? null
                    : ('undefined' != typeof Symbol && e[Symbol.iterator]) ||
                      e['@@iterator'];
                if (null != t) {
                  var r,
                    o,
                    i,
                    a,
                    c = [],
                    u = !0,
                    s = !1;
                  try {
                    if (((i = (t = t.call(e)).next), 0 === n)) {
                      if (Object(t) !== t) return;
                      u = !1;
                    } else
                      for (
                        ;
                        !(u = (r = i.call(t)).done) &&
                        (c.push(r.value), c.length !== n);
                        u = !0
                      );
                  } catch (e) {
                    (s = !0), (o = e);
                  } finally {
                    try {
                      if (
                        !u &&
                        null != t.return &&
                        ((a = t.return()), Object(a) !== a)
                      )
                        return;
                    } finally {
                      if (s) throw o;
                    }
                  }
                  return c;
                }
              }
              function s(e) {
                if (Array.isArray(e)) return e;
              }
              function d(e, n) {
                var t = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                  var r = Object.getOwnPropertySymbols(e);
                  n &&
                    (r = r.filter(function (n) {
                      return Object.getOwnPropertyDescriptor(e, n).enumerable;
                    })),
                    t.push.apply(t, r);
                }
                return t;
              }
              function l(e) {
                for (var n = 1; n < arguments.length; n++) {
                  var t = null != arguments[n] ? arguments[n] : {};
                  n % 2
                    ? d(Object(t), !0).forEach(function (n) {
                        f(e, n, t[n]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                        e,
                        Object.getOwnPropertyDescriptors(t)
                      )
                    : d(Object(t)).forEach(function (n) {
                        Object.defineProperty(
                          e,
                          n,
                          Object.getOwnPropertyDescriptor(t, n)
                        );
                      });
                }
                return e;
              }
              function f(e, n, t) {
                return (
                  (n = p(n)) in e
                    ? Object.defineProperty(e, n, {
                        value: t,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                      })
                    : (e[n] = t),
                  e
                );
              }
              function p(e) {
                var n = g(e, 'string');
                return 'symbol' == E(n) ? n : n + '';
              }
              function g(e, n) {
                if ('object' != E(e) || !e) return e;
                var t = e[Symbol.toPrimitive];
                if (void 0 !== t) {
                  var r = t.call(e, n || 'default');
                  if ('object' != E(r)) return r;
                  throw new TypeError(
                    '@@toPrimitive must return a primitive value.'
                  );
                }
                return ('string' === n ? String : Number)(e);
              }
              function m(e) {
                return b(e) || h(e) || y(e) || v();
              }
              function v() {
                throw new TypeError(
                  'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                );
              }
              function y(e, n) {
                if (e) {
                  if ('string' == typeof e) return w(e, n);
                  var t = {}.toString.call(e).slice(8, -1);
                  return (
                    'Object' === t && e.constructor && (t = e.constructor.name),
                    'Map' === t || 'Set' === t
                      ? Array.from(e)
                      : 'Arguments' === t ||
                        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)
                      ? w(e, n)
                      : void 0
                  );
                }
              }
              function h(e) {
                if (
                  ('undefined' != typeof Symbol &&
                    null != e[Symbol.iterator]) ||
                  null != e['@@iterator']
                )
                  return Array.from(e);
              }
              function b(e) {
                if (Array.isArray(e)) return w(e);
              }
              function w(e, n) {
                (null == n || n > e.length) && (n = e.length);
                for (var t = 0, r = Array(n); t < n; t++) r[t] = e[t];
                return r;
              }
              function E(e) {
                return (
                  (E =
                    'function' == typeof Symbol &&
                    'symbol' == typeof Symbol.iterator
                      ? function (e) {
                          return typeof e;
                        }
                      : function (e) {
                          return e &&
                            'function' == typeof Symbol &&
                            e.constructor === Symbol &&
                            e !== Symbol.prototype
                            ? 'symbol'
                            : typeof e;
                        }),
                  E(e)
                );
              }
              function C(e) {
                for (var n = 1; n < arguments.length; n++) {
                  var t = arguments[n];
                  for (var r in t) e[r] = t[r];
                }
                return e;
              }
              function I(e, n) {
                function t(t, r, o) {
                  if ('undefined' != typeof document) {
                    'number' == typeof (o = C({}, n, o)).expires &&
                      (o.expires = new Date(Date.now() + 864e5 * o.expires)),
                      o.expires && (o.expires = o.expires.toUTCString()),
                      (t = encodeURIComponent(t)
                        .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)
                        .replace(/[()]/g, escape));
                    var i = '';
                    for (var a in o)
                      o[a] &&
                        ((i += '; ' + a),
                        !0 !== o[a] && (i += '=' + o[a].split(';')[0]));
                    return (document.cookie = t + '=' + e.write(r, t) + i);
                  }
                }
                function r(n) {
                  if (
                    'undefined' != typeof document &&
                    (!arguments.length || n)
                  ) {
                    for (
                      var t = document.cookie
                          ? document.cookie.split('; ')
                          : [],
                        r = {},
                        o = 0;
                      o < t.length;
                      o++
                    ) {
                      var i = t[o].split('='),
                        a = i.slice(1).join('=');
                      try {
                        var c = decodeURIComponent(i[0]);
                        if (((r[c] = e.read(a, c)), n === c)) break;
                      } catch (e) {}
                    }
                    return n ? r[n] : r;
                  }
                }
                return Object.create(
                  {
                    set: t,
                    get: r,
                    remove: function (e, n) {
                      t(e, '', C({}, n, { expires: -1 }));
                    },
                    withAttributes: function (e) {
                      return I(this.converter, C({}, this.attributes, e));
                    },
                    withConverter: function (e) {
                      return I(C({}, this.converter, e), this.attributes);
                    },
                  },
                  {
                    attributes: { value: Object.freeze(n) },
                    converter: { value: Object.freeze(e) },
                  }
                );
              }
              function S(e) {
                return e &&
                  e.__esModule &&
                  Object.prototype.hasOwnProperty.call(e, 'default')
                  ? e.default
                  : e;
              }
              function k() {
                return (
                  me ||
                    ((me = 1),
                    (ge = function (e) {
                      var n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {};
                      if (e) {
                        for (
                          var t = {
                              key: [
                                'source',
                                'protocol',
                                'authority',
                                'userInfo',
                                'user',
                                'password',
                                'host',
                                'port',
                                'relative',
                                'path',
                                'directory',
                                'file',
                                'query',
                                'anchor',
                              ],
                              q: {
                                name: 'queryKey',
                                parser: /(?:^|&)([^&=]*)=?([^&]*)/g,
                              },
                              parser: {
                                strict:
                                  /^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                                loose:
                                  /^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/,
                              },
                            },
                            r =
                              t.parser[n.strictMode ? 'strict' : 'loose'].exec(
                                e
                              ),
                            o = {},
                            i = 14;
                          i--;

                        )
                          o[t.key[i]] = r[i] || '';
                        return (
                          (o[t.q.name] = {}),
                          o[t.key[12]].replace(t.q.parser, function (e, n, r) {
                            n && (o[t.q.name][n] = r);
                          }),
                          o
                        );
                      }
                    })),
                  ge
                );
              }
              function O(e) {
                var n =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0;
                return (
                  St[e[n + 0]] +
                  St[e[n + 1]] +
                  St[e[n + 2]] +
                  St[e[n + 3]] +
                  '-' +
                  St[e[n + 4]] +
                  St[e[n + 5]] +
                  '-' +
                  St[e[n + 6]] +
                  St[e[n + 7]] +
                  '-' +
                  St[e[n + 8]] +
                  St[e[n + 9]] +
                  '-' +
                  St[e[n + 10]] +
                  St[e[n + 11]] +
                  St[e[n + 12]] +
                  St[e[n + 13]] +
                  St[e[n + 14]] +
                  St[e[n + 15]]
                ).toLowerCase();
              }
              function P() {
                if (!ve) {
                  if ('undefined' == typeof crypto || !crypto.getRandomValues)
                    throw new Error(
                      'crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported'
                    );
                  ve = crypto.getRandomValues.bind(crypto);
                }
                return ve(Ot);
              }
              function D(e, n, t) {
                if (Pt.randomUUID && !n && !e) return Pt.randomUUID();
                var r = (e = e || {}).random || (e.rng || P)();
                if (
                  ((r[6] = (15 & r[6]) | 64), (r[8] = (63 & r[8]) | 128), n)
                ) {
                  t = t || 0;
                  for (var o = 0; o < 16; ++o) n[t + o] = r[o];
                  return n;
                }
                return O(r);
              }
              function T(e) {
                return 'object' === E(e) || void 0 === e;
              }
              function R() {
                return {
                  matches: function (e, n) {
                    var t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                    if (T(e[n])) return !1;
                    for (
                      var r = String(e[n]).toLowerCase(), o = 0;
                      o < t.length;
                      o += 1
                    )
                      if (!T(t[o]) && r === String(t[o]).toLowerCase())
                        return !0;
                    return !1;
                  },
                };
              }
              function N() {
                return {
                  matches: function (e, n) {
                    var t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                    if (T(e[n])) return !1;
                    for (
                      var r = String(e[n]).toLowerCase(), o = 0;
                      o < t.length;
                      o += 1
                    )
                      if (!T(t[o]) && r === String(t[o]).toLowerCase())
                        return !1;
                    return !0;
                  },
                };
              }
              function A() {
                return {
                  matches: function (e, n) {
                    return void 0 !== e[n] && null !== e[n];
                  },
                };
              }
              function x() {
                return {
                  matches: function (e, n) {
                    return void 0 === e[n] || null === e[n];
                  },
                };
              }
              function M(e) {
                return 'number' == typeof e;
              }
              function j() {
                return {
                  matches: function (e, n) {
                    var t =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : [],
                      r = e[n];
                    if (!M(r)) return !1;
                    for (var o = 0; o < t.length; o += 1)
                      if (M(t[o]) && r > t[o]) return !0;
                    return !1;
                  },
                };
              }
              function _() {
                return {
                  matches: function (e, n) {
                    var t =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : [],
                      r = e[n];
                    if (!M(r)) return !1;
                    for (var o = 0; o < t.length; o += 1)
                      if (M(t[o]) && r >= t[o]) return !0;
                    return !1;
                  },
                };
              }
              function L() {
                return {
                  matches: function (e, n) {
                    var t =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : [],
                      r = e[n];
                    if (!M(r)) return !1;
                    for (var o = 0; o < t.length; o += 1)
                      if (M(t[o]) && r < t[o]) return !0;
                    return !1;
                  },
                };
              }
              function q() {
                return {
                  matches: function (e, n) {
                    var t =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : [],
                      r = e[n];
                    if (!M(r)) return !1;
                    for (var o = 0; o < t.length; o += 1)
                      if (M(t[o]) && r <= t[o]) return !0;
                    return !1;
                  },
                };
              }
              function U() {
                return {
                  matches: function (e, n) {
                    var t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                    if (T(e[n])) return !1;
                    for (
                      var r = String(e[n]).toLowerCase(), o = 0;
                      o < t.length;
                      o += 1
                    )
                      if (
                        !T(t[o]) &&
                        -1 !== r.indexOf(String(t[o]).toLowerCase())
                      )
                        return !0;
                    return !1;
                  },
                };
              }
              function B() {
                return {
                  matches: function (e, n) {
                    var t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                    if (T(e[n])) return !1;
                    for (
                      var r = String(e[n]).toLowerCase(), o = 0;
                      o < t.length;
                      o += 1
                    )
                      if (
                        !T(t[o]) &&
                        -1 !== r.indexOf(String(t[o]).toLowerCase())
                      )
                        return !1;
                    return !0;
                  },
                };
              }
              function F() {
                return {
                  matches: function (e, n) {
                    var t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                    if (T(e[n])) return !1;
                    for (
                      var r = String(e[n]).toLowerCase(), o = 0;
                      o < t.length;
                      o += 1
                    )
                      if (!T(t[o]) && r.startsWith(String(t[o]).toLowerCase()))
                        return !0;
                    return !1;
                  },
                };
              }
              function V() {
                return {
                  matches: function (e, n) {
                    var t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                    if (T(e[n])) return !1;
                    for (
                      var r = String(e[n]).toLowerCase(), o = 0;
                      o < t.length;
                      o += 1
                    )
                      if (!T(t[o]) && r.endsWith(t[o].toLowerCase())) return !0;
                    return !1;
                  },
                };
              }
              function H(e) {
                return Gc[e];
              }
              function z(e) {
                return void 0 === e;
              }
              function J(e, n, t) {
                switch (n) {
                  case Hc.GREATER_THAN:
                    return e > t;
                  case Hc.GREATER_THAN_OR_EQUAL_TO:
                    return e >= t;
                  case Hc.LESS_THAN:
                    return e < t;
                  case Hc.LESS_THAN_OR_EQUAL_TO:
                    return e <= t;
                  case Hc.EQUALS:
                    return e === t;
                  case Hc.NOT_EQUALS:
                    return e !== t;
                  default:
                    return !1;
                }
              }
              function G(e, n) {
                for (var t = 0; t < n.length; t += 1)
                  if (!z(e[n[t]])) return e[n[t]];
              }
              function Q(e, n) {
                for (var t = Object.keys(e), r = 0; r < t.length; r += 1) {
                  var o = t[r],
                    i = n.event;
                  if ((void 0 === i ? {} : i)[t[r]] !== e[o]) return !1;
                }
                return !0;
              }
              function W(e, n, t, r) {
                return e.reduce(function (e, o) {
                  var i = G(o, Qc);
                  if (!i) return e;
                  var a = n.events[i];
                  if (!a) return e;
                  var c = G(o, Wc);
                  if (!c) return e;
                  var u = a[c];
                  if (!u) return e;
                  if (!Q(o, u)) return e;
                  var s = u.count,
                    d = void 0 === s ? 1 : s;
                  return z(t) || z(r) || (u.timestamp >= t && u.timestamp <= r)
                    ? e + d
                    : e;
                }, 0);
              }
              function X(e, n, t, r) {
                var o = t;
                return e.every(function (e) {
                  var t = G(e, Qc);
                  if (!t) return !1;
                  var i = n.events[t];
                  if (!i) return !1;
                  var a = G(e, Wc);
                  if (!a) return !1;
                  var c = i[a];
                  if (!Q(e, c)) return !1;
                  if (null === c || z(c) || 0 === c.count) return !1;
                  var u =
                    (z(o) || c.timestamp >= o) && (z(r) || c.timestamp <= r);
                  return (o = c.timestamp), u;
                })
                  ? 1
                  : 0;
              }
              function $(e, n) {
                for (var t = !0, r = 0; r < n.length; r += 1)
                  t = t && n[r].evaluate(e);
                return t;
              }
              function Y(e, n) {
                for (var t = !1, r = 0; r < n.length; r += 1)
                  if ((t = t || n[r].evaluate(e))) return !0;
                return !1;
              }
              function K(e, n) {
                return { version: e, rules: n };
              }
              function Z(e, n) {
                return {
                  execute: function (t) {
                    return e.evaluate(t) ? n : [];
                  },
                  toString: function () {
                    return 'Rule{condition='
                      .concat(e, ', consequences=')
                      .concat(n, '}');
                  },
                };
              }
              function ee(e, n) {
                return {
                  evaluate: function (e) {
                    return n.evaluate(e);
                  },
                  toString: function () {
                    return 'Condition{type='
                      .concat(e, ', definition=')
                      .concat(n, '}');
                  },
                };
              }
              function ne(e, n, t) {
                return { id: e, type: n, detail: t };
              }
              function te(e, n) {
                return {
                  evaluate: function (t) {
                    return zc.AND === e ? $(t, n) : zc.OR === e && Y(t, n);
                  },
                };
              }
              function re(e, n, t) {
                return {
                  evaluate: function (r) {
                    var o = H(n);
                    return !!o && o.matches(r, e, t);
                  },
                };
              }
              function oe(e, n, t, r, o, i) {
                return {
                  evaluate: function (a) {
                    return J(
                      Jc.ORDERED === i ? X(e, a, r, o) : W(e, a, r, o),
                      n,
                      t
                    );
                  },
                };
              }
              function ie(e) {
                return re(e.key, e.matcher, e.values);
              }
              function ae(e) {
                return te(e.logic, e.conditions.map(ue));
              }
              function ce(e) {
                var n = e.events,
                  t = e.from,
                  r = e.to;
                return oe(n, e.matcher, e.value, t, r, e.searchType);
              }
              function ue(e) {
                var n = e.type,
                  t = e.definition;
                if (Vc.MATCHER === n) return ee(n, ie(t));
                if (Vc.GROUP === n) return ee(n, ae(t));
                if (Vc.HISTORICAL === n) return ee(n, ce(t));
                throw new Error('Can not parse condition');
              }
              function se(e) {
                return ne(e.id, e.type, e.detail);
              }
              function de(e) {
                var n = e.condition,
                  t = e.consequences;
                return Z(ue(n), t.map(se));
              }
              function le(e) {
                return K(e.version, e.rules.map(de));
              }
              function fe(e) {
                var n = le(e),
                  t = n.version,
                  r = n.rules;
                return {
                  execute: function (e) {
                    return r
                      .map(function (n) {
                        return n.execute(e);
                      })
                      .filter(function (e) {
                        return e.length > 0;
                      });
                  },
                  getVersion: function () {
                    return t;
                  },
                  numRules: function () {
                    return r.length;
                  },
                };
              }
              Object.defineProperty(n, '__esModule', { value: !0 }),
                (n.deepAssign =
                  n.createInstance =
                  n.createEventMergeId =
                    void 0);
              for (
                var pe,
                  ge,
                  me,
                  ve,
                  ye = r(t('@adobe/reactor-query-string')),
                  he = ['datastreamId'],
                  be = ['edgeConfigOverrides'],
                  we = [
                    'xdm',
                    'data',
                    'documentUnloading',
                    'type',
                    'mergeId',
                    'datasetId',
                    'edgeConfigOverrides',
                  ],
                  Ee = ['priority'],
                  Ce = ['priority'],
                  Ie = ['priority'],
                  Se = ['trackingLabel', 'scopeType'],
                  ke = ['standard', 'version'],
                  Oe = function (e) {
                    return null == e;
                  },
                  Pe = function (e) {
                    return !Oe(e) && !Array.isArray(e) && 'object' === E(e);
                  },
                  De = function () {
                    for (
                      var e = arguments.length, n = new Array(e), t = 0;
                      t < e;
                      t++
                    )
                      n[t] = arguments[t];
                    return n.length < 2
                      ? Object.assign.apply(Object, n)
                      : n.reduce(function (e, n) {
                          return (
                            Pe(n) &&
                              Object.keys(n).forEach(function (t) {
                                var r;
                                Array.isArray(n[t])
                                  ? Array.isArray(e[t])
                                    ? (r = e[t]).push.apply(r, m(n[t]))
                                    : (e[t] = m(n[t]))
                                  : (e[t] = n[t]);
                              }),
                            e
                          );
                        });
                  },
                  Te = I(
                    {
                      read: function (e) {
                        return (
                          '"' === e[0] && (e = e.slice(1, -1)),
                          e.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent)
                        );
                      },
                      write: function (e) {
                        return encodeURIComponent(e).replace(
                          /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,
                          decodeURIComponent
                        );
                      },
                    },
                    { path: '/' }
                  ),
                  Re = {
                    get: Te.get.bind(Te),
                    set: Te.set.bind(Te),
                    remove: Te.remove.bind(Te),
                    withConverter: Te.withConverter.bind(Te),
                  },
                  Ne = function (e, n) {
                    Object.keys(n).forEach(function (t) {
                      Pe(e[t]) && Pe(n[t]) ? Ne(e[t], n[t]) : (e[t] = n[t]);
                    });
                  },
                  Ae = (n.deepAssign = function (e) {
                    if (Oe(e))
                      throw new TypeError(
                        'deepAssign "target" cannot be null or undefined'
                      );
                    for (
                      var n = Object(e),
                        t = arguments.length,
                        r = new Array(t > 1 ? t - 1 : 0),
                        o = 1;
                      o < t;
                      o++
                    )
                      r[o - 1] = arguments[o];
                    return (
                      r.forEach(function (e) {
                        return Ne(n, Object(e));
                      }),
                      n
                    );
                  }),
                  xe = function (e, n) {
                    return function (t) {
                      var r = n.split('.').reduce(function (e, n) {
                        return (e[n] = e[n] || {}), e[n];
                      }, e);
                      Ae(r, t);
                    };
                  },
                  Me = function () {
                    var e = [];
                    return {
                      add: function (n) {
                        e.push(n);
                      },
                      call: function () {
                        for (
                          var n = arguments.length, t = new Array(n), r = 0;
                          r < n;
                          r++
                        )
                          t[r] = arguments[r];
                        return Promise.all(
                          e.map(function (e) {
                            return e.apply(void 0, t);
                          })
                        );
                      },
                    };
                  },
                  je = function (e) {
                    var n = e.logger,
                      t = e.cookieJar;
                    return l(
                      l({}, t),
                      {},
                      {
                        set: function (e, r, o) {
                          n.info('Setting cookie', l({ name: e, value: r }, o)),
                            t.set(e, r, o);
                        },
                      }
                    );
                  },
                  _e = function () {
                    var e = 0,
                      n = Promise.resolve();
                    return {
                      addTask: function (t) {
                        e += 1;
                        var r = function () {
                          return t().finally(function () {
                            e -= 1;
                          });
                        };
                        return (n = n.then(r, r));
                      },
                      get length() {
                        return e;
                      },
                    };
                  },
                  Le = (function () {
                    for (var e = [], n = 0; n < 256; n++) {
                      for (var t = n, r = 0; r < 8; r++)
                        t = 1 & t ? 3988292384 ^ (t >>> 1) : t >>> 1;
                      e.push(t);
                    }
                    return function (n, t) {
                      (n = unescape(encodeURIComponent(n))),
                        t || (t = 0),
                        (t = ~t);
                      for (var r = 0; r < n.length; r++) {
                        var o = 255 & (t ^ n.charCodeAt(r));
                        t = (t >>> 8) ^ e[o];
                      }
                      return (t = ~t) >>> 0;
                    };
                  })(),
                  qe = function () {
                    var e = {};
                    return (
                      (e.promise = new Promise(function (n, t) {
                        (e.resolve = n), (e.reject = t);
                      })),
                      e
                    );
                  },
                  Ue = function (e, n) {
                    return e === n;
                  },
                  Be = function (e, n, t) {
                    for (var r = 0; r < e.length; r += 1)
                      if (t(e[r], n)) return r;
                    return -1;
                  },
                  Fe = function (e) {
                    var n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : Ue;
                    return e.filter(function (t, r) {
                      return Be(e, t, n) === r;
                    });
                  },
                  Ve = function (e, n) {
                    return e.appendChild(n);
                  },
                  He = function (e, n) {
                    Object.keys(n).forEach(function (t) {
                      if ('style' === t && Pe(n[t])) {
                        var r = n[t];
                        Object.keys(r).forEach(function (n) {
                          e.style[n] = r[n];
                        });
                      } else e[t] = n[t];
                    });
                  },
                  ze = function (e) {
                    var n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {},
                      t =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : {},
                      r =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : [],
                      o = (
                        arguments.length > 4 && void 0 !== arguments[4]
                          ? arguments[4]
                          : document
                      ).createElement(e);
                    return (
                      Object.keys(n).forEach(function (e) {
                        o.setAttribute(e, n[e]);
                      }),
                      He(o, t),
                      r.forEach(function (e) {
                        return Ve(o, e);
                      }),
                      o
                    );
                  },
                  Je = 'BODY',
                  Ge = 'IFRAME',
                  Qe = 'IMG',
                  We = 'DIV',
                  Xe = 'STYLE',
                  $e = 'SCRIPT',
                  Ye = 'HEAD',
                  Ke = function (e) {
                    var n = e.src,
                      t = e.currentDocument,
                      r = void 0 === t ? document : t;
                    return new Promise(function (e, t) {
                      ze(
                        Qe,
                        { src: n },
                        { onload: e, onerror: t, onabort: t },
                        [],
                        r
                      );
                    });
                  },
                  Ze = function (e) {
                    return 'function' == typeof e;
                  },
                  en = function (e) {
                    return Array.isArray(e) && e.length > 0;
                  },
                  nn = function (e) {
                    return Array.isArray(e)
                      ? e
                      : null == e
                      ? []
                      : [].slice.call(e);
                  },
                  tn = /^\s*>/,
                  rn = function (e, n) {
                    return tn.test(n)
                      ? nn(e.querySelectorAll(':scope '.concat(n)))
                      : nn(e.querySelectorAll(n));
                  },
                  on = ':shadow',
                  an = function (e) {
                    return e.split(on);
                  },
                  cn = function (e, n) {
                    var t = n;
                    if (!t.startsWith('>')) return t;
                    var r =
                      e instanceof Element || e instanceof Document
                        ? ':scope'
                        : ':host';
                    return ''.concat(r, ' ').concat(t);
                  },
                  un = function (e, n) {
                    var t = an(n);
                    if (t.length < 2) return rn(e, n);
                    for (var r = e, o = 0; o < t.length; o += 1) {
                      var i = t[o].trim();
                      if ('' === i && r.shadowRoot) r = r.shadowRoot;
                      else {
                        var a = cn(r, i),
                          c = rn(r, a);
                        if (0 === c.length || !c[0] || !c[0].shadowRoot)
                          return c;
                        r = c[0].shadowRoot;
                      }
                    }
                  },
                  sn = function (e) {
                    return -1 !== e.indexOf(on);
                  },
                  dn = function (e) {
                    var n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : document;
                    return sn(e) ? un(n, e) : rn(n, e);
                  },
                  ln = 'MutationObserver',
                  fn = 'requestAnimationFrame',
                  pn = { childList: !0, subtree: !0 },
                  gn = 'visibilityState',
                  mn = 'visible',
                  vn = 100,
                  yn = 5e3,
                  hn = function (e) {
                    return new Error('Could not find: '.concat(e));
                  },
                  bn = function (e) {
                    return new Promise(e);
                  },
                  wn = function (e) {
                    return Ze(e[ln]);
                  },
                  En = function (e, n, t, r, o) {
                    return bn(function (i, a) {
                      var c,
                        u = new e[ln](function () {
                          var e = o(t);
                          en(e) && (u.disconnect(), c && clearTimeout(c), i(e));
                        });
                      (c = setTimeout(function () {
                        u.disconnect(), a(hn(t));
                      }, r)),
                        u.observe(n, pn);
                    });
                  },
                  Cn = function (e) {
                    return e[gn] === mn;
                  },
                  In = function (e, n, t, r) {
                    return bn(function (o, i) {
                      var a = function () {
                        var t = r(n);
                        en(t) ? o(t) : e[fn](a);
                      };
                      a(),
                        setTimeout(function () {
                          i(hn(n));
                        }, t);
                    });
                  },
                  Sn = function (e, n, t) {
                    return bn(function (r, o) {
                      var i = function () {
                        var n = t(e);
                        en(n) ? r(n) : setTimeout(i, vn);
                      };
                      i(),
                        setTimeout(function () {
                          o(hn(e));
                        }, n);
                    });
                  },
                  kn = function (e) {
                    var n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : dn,
                      t =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : yn,
                      r =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : window,
                      o =
                        arguments.length > 4 && void 0 !== arguments[4]
                          ? arguments[4]
                          : document,
                      i = n(e);
                    return en(i)
                      ? Promise.resolve(i)
                      : wn(r)
                      ? En(r, o, e, t, n)
                      : Cn(o)
                      ? In(r, e, t, n)
                      : Sn(e, t, n);
                  },
                  On = function (e, n) {
                    return n.matches ? n.matches(e) : n.msMatchesSelector(e);
                  },
                  Pn = function (e) {
                    var n = e.parentNode;
                    return n ? n.removeChild(e) : null;
                  },
                  Dn = { name: 'Adobe Alloy' },
                  Tn = { style: { display: 'none', width: 0, height: 0 } },
                  Rn = function () {
                    var e,
                      n =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      t = n.appendNode,
                      r = void 0 === t ? Ve : t,
                      o = n.awaitSelector,
                      i = void 0 === o ? kn : o,
                      c = n.createNode,
                      u = void 0 === c ? ze : c,
                      s = n.fireImage,
                      d = void 0 === s ? Ke : s,
                      l = d,
                      f = function () {
                        return i(Je).then(function (n) {
                          var t = a(n, 1)[0];
                          return e || ((e = u(Ge, Dn, Tn)), r(t, e));
                        });
                      },
                      p = function (e) {
                        var n = e.src;
                        return f().then(function (e) {
                          var t = e.contentWindow.document;
                          return d({ src: n, currentDocument: t });
                        });
                      };
                    return function (e) {
                      var n = e.hideReferrer,
                        t = e.url;
                      return n ? p({ src: t }) : l({ src: t });
                    };
                  },
                  Nn = function (e) {
                    return Pe(e) && 0 === Object.keys(e).length;
                  },
                  An = function (e, n) {
                    return Oe(e) || !Pe(e)
                      ? e
                      : Object.keys(e).reduce(function (t, r) {
                          var o = e[r];
                          if (Pe(o)) {
                            var i = An(o, n);
                            return Nn(i) ? t : l(l({}, t), {}, f({}, r, i));
                          }
                          return n(o) ? l(l({}, t), {}, f({}, r, o)) : t;
                        }, {});
                  },
                  xn = 'com.adobe.alloy.',
                  Mn = function (e, n) {
                    return e.slice(-n);
                  },
                  jn = ''.concat(xn, 'getTld'),
                  _n = function (e, n) {
                    for (
                      var t = '',
                        r = e.location.hostname.toLowerCase().split('.'),
                        o = 1;
                      o < r.length && !n.get(jn);

                    )
                      (t = Mn(r, (o += 1)).join('.')),
                        n.set(jn, jn, { domain: t });
                    return n.remove(jn, { domain: t }), t;
                  },
                  Ln = 'kndctr',
                  qn = function (e) {
                    return e.replace('@', '_');
                  },
                  Un = function (e, n) {
                    return ''.concat(Ln, '_').concat(qn(e), '_').concat(n);
                  },
                  Bn = function (e, n) {
                    var t = {};
                    return (
                      e.forEach(function (e) {
                        var r = n(e);
                        t[r] || (t[r] = []), t[r].push(e);
                      }),
                      t
                    );
                  },
                  Fn = 'Chrome',
                  Vn = 'Edge',
                  Hn = 'EdgeChromium',
                  zn = 'Firefox',
                  Jn = 'IE',
                  Gn = 'Safari',
                  Qn = 'Unknown',
                  Wn = function (e) {
                    var n,
                      t = !1;
                    return function () {
                      return t || ((t = !0), (n = e())), n;
                    };
                  },
                  Xn = [Fn, Vn, Hn, Jn, Qn],
                  $n = function (e) {
                    var n = e.getBrowser;
                    return Wn(function () {
                      return Xn.includes(n());
                    });
                  },
                  Yn = 'identity',
                  Kn = 'consent',
                  Zn = 'cluster',
                  et = function (e) {
                    var n = e.orgId,
                      t = Un(n, Yn);
                    return function () {
                      return Boolean(Re.get(t));
                    };
                  },
                  nt = function (e, n) {
                    for (var t = Object.keys(e), r = 0; r < t.length; r += 1) {
                      var o = t[r];
                      if (e[o].test(n)) return o;
                    }
                    return Qn;
                  },
                  tt = function (e) {
                    var n = e.userAgent;
                    return Wn(function () {
                      return nt(
                        f(
                          f(
                            f(
                              f(
                                f(
                                  f({}, Vn, /Edge\/([0-9\._]+)/),
                                  Hn,
                                  /Edg\/([0-9\.]+)/
                                ),
                                Fn,
                                /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/
                              ),
                              zn,
                              /Firefox\/([0-9\.]+)(?:\s|$)/
                            ),
                            Jn,
                            /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/
                          ),
                          Gn,
                          /Version\/([0-9\._]+).*Safari/
                        ),
                        n
                      );
                    });
                  },
                  rt = function (e, n, t) {
                    return {
                      getItem: function (r) {
                        try {
                          return e[n].getItem(t + r);
                        } catch (e) {
                          return null;
                        }
                      },
                      setItem: function (r, o) {
                        try {
                          return e[n].setItem(t + r, o), !0;
                        } catch (e) {
                          return !1;
                        }
                      },
                      clear: function () {
                        try {
                          return (
                            Object.keys(e[n]).forEach(function (r) {
                              r.startsWith(t) && e[n].removeItem(r);
                            }),
                            !0
                          );
                        } catch (e) {
                          return !1;
                        }
                      },
                    };
                  },
                  ot = function (e) {
                    return function (n) {
                      var t = xn + n;
                      return {
                        session: rt(e, 'sessionStorage', t),
                        persistent: rt(e, 'localStorage', t),
                      };
                    };
                  },
                  it = function (e, n) {
                    return e.filter(function (e) {
                      return n.includes(e);
                    });
                  },
                  at = function (e) {
                    return 'boolean' == typeof e;
                  },
                  ct = function (e) {
                    return 'number' == typeof e && !Number.isNaN(e);
                  },
                  ut = function (e) {
                    var n = parseInt(e, 10);
                    return ct(n) && e === n;
                  },
                  st = function (e, n) {
                    return (
                      0 === n.indexOf(''.concat(Ln, '_').concat(qn(e), '_'))
                    );
                  },
                  dt = function (e) {
                    return 'string' == typeof e;
                  },
                  lt = function (e) {
                    return dt(e) && e.length > 0;
                  },
                  ft = function () {},
                  pt = S(k()),
                  gt = function (e) {
                    var n = {},
                      t = e.split('.');
                    switch (t.length) {
                      case 1:
                        (n.subdomain = ''),
                          (n.domain = e),
                          (n.topLevelDomain = '');
                        break;
                      case 2:
                        (n.subdomain = ''),
                          (n.domain = e),
                          (n.topLevelDomain = t[1]);
                        break;
                      case 3:
                        (n.subdomain = 'www' === t[0] ? '' : t[0]),
                          (n.domain = e),
                          (n.topLevelDomain = t[2]);
                        break;
                      case 4:
                        (n.subdomain = 'www' === t[0] ? '' : t[0]),
                          (n.domain = e),
                          (n.topLevelDomain = ''
                            .concat(t[2], '.')
                            .concat(t[3]));
                    }
                    return n;
                  },
                  mt = function (e) {
                    var n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : gt;
                    dt(e) || (e = '');
                    var t = pt(e) || {},
                      r = t.host,
                      o = void 0 === r ? '' : r,
                      i = t.path,
                      a = void 0 === i ? '' : i,
                      c = t.query,
                      u = void 0 === c ? '' : c,
                      s = t.anchor;
                    return l(
                      { path: a, query: u, fragment: void 0 === s ? '' : s },
                      n(o)
                    );
                  },
                  vt = function (e) {
                    if (Oe(e) || 'object' !== E(e)) return null;
                    var n = An(e, function (e) {
                      return !(Oe(e) || (!at(e) && !ct(e) && !lt(e) && !en(e)));
                    });
                    return Nn(n) ? null : n;
                  },
                  yt = function (e) {
                    return e instanceof Error ? e : new Error(e);
                  },
                  ht = function (e) {
                    var n = e.error,
                      t = e.message;
                    try {
                      n.message = t;
                    } catch (e) {}
                  },
                  bt = function (e) {
                    var n = e.error,
                      t = e.message,
                      r = yt(n),
                      o = ''.concat(t, '\nCaused by: ').concat(r.message);
                    return ht({ error: r, message: o }), r;
                  },
                  wt = function (e) {
                    return dt(e) && 'true' === e.toLowerCase();
                  },
                  Et = function (e, n) {
                    if (ct(e) || dt(e)) {
                      var t = Math.round(Number(e));
                      if (!Number.isNaN(t)) return t;
                    }
                    return n;
                  },
                  Ct = function (e, n, t) {
                    return ''.concat(e).padStart(n, t);
                  },
                  It = function (e) {
                    var n = e.getFullYear(),
                      t = Ct(e.getMonth() + 1, 2, '0'),
                      r = Ct(e.getDate(), 2, '0'),
                      o = Ct(e.getHours(), 2, '0'),
                      i = Ct(e.getMinutes(), 2, '0'),
                      a = Ct(e.getSeconds(), 2, '0'),
                      c = Ct(e.getMilliseconds(), 3, '0'),
                      u = Et(e.getTimezoneOffset(), 0),
                      s = u > 0 ? '-' : '+',
                      d = Ct(Math.floor(Math.abs(u) / 60), 2, '0'),
                      l = Ct(Math.abs(u) % 60, 2, '0');
                    return ''
                      .concat(n, '-')
                      .concat(t, '-')
                      .concat(r, 'T')
                      .concat(o, ':')
                      .concat(i, ':')
                      .concat(a, '.')
                      .concat(c)
                      .concat(s)
                      .concat(d, ':')
                      .concat(l);
                  },
                  St = [],
                  kt = 0;
                kt < 256;
                ++kt
              )
                St.push((kt + 256).toString(16).slice(1));
              var Ot = new Uint8Array(16),
                Pt = {
                  randomUUID:
                    'undefined' != typeof crypto &&
                    crypto.randomUUID &&
                    crypto.randomUUID.bind(crypto),
                },
                Dt = function (e) {
                  return function (n, t) {
                    return null == n ? n : e.call(this, n, t);
                  };
                },
                Tt = function (e, n) {
                  return function (t, r) {
                    return n.call(this, e.call(this, t, r), r);
                  };
                },
                Rt = function (e, n) {
                  return function (t, r) {
                    var o = this,
                      i = [],
                      a = [e, n].reduce(function (e, n) {
                        try {
                          return n.call(o, e, r);
                        } catch (n) {
                          return i.push(n), e;
                        }
                      }, t);
                    if (i.length) throw new Error(i.join('\n'));
                    return a;
                  };
                },
                Nt = function (e, n, t) {
                  return Object.assign(Tt(e, n), e, t);
                },
                At = function (e, n, t) {
                  return Object.assign(Tt(e, Dt(n)), e, t);
                },
                xt = function (e, n, t) {
                  return Object.assign(Rt(Dt(n), e), e, t);
                },
                Mt = function (e, n, t, r) {
                  if (!e)
                    throw new Error(
                      "'"
                        .concat(t, "': Expected ")
                        .concat(r, ', but got ')
                        .concat(JSON.stringify(n), '.')
                    );
                },
                jt = function (e, n) {
                  return Mt(at(e), e, n, 'true or false'), e;
                },
                _t = function (e, n) {
                  return Mt(Ze(e), e, n, 'a function'), e;
                },
                Lt = function (e, n) {
                  return function (t, r) {
                    var o,
                      i = this,
                      a = e.find(function (e) {
                        try {
                          return (o = e.call(i, t, r)), !0;
                        } catch (e) {
                          return !1;
                        }
                      });
                    return Mt(a, t, r, n), o;
                  };
                },
                qt = function (e) {
                  return function (n, t) {
                    var r = this;
                    Mt(Array.isArray(n), n, t, 'an array');
                    var o = [],
                      i = n.map(function (i, a) {
                        try {
                          return e.call(
                            r,
                            i,
                            ''.concat(t, '[').concat(a, ']'),
                            n
                          );
                        } catch (e) {
                          return void o.push(e.message);
                        }
                      });
                    if (o.length) throw new Error(o.join('\n'));
                    return i;
                  };
                },
                Ut = function (e) {
                  return function (n) {
                    return null == n ? e : n;
                  };
                },
                Bt = function () {
                  var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : 'This field has been deprecated';
                  return function (n, t) {
                    var r = e;
                    return (
                      void 0 !== n &&
                        (t && (r = "'".concat(t, "': ").concat(r)),
                        this && this.logger && this.logger.warn(r)),
                      n
                    );
                  };
                },
                Ft = function (e) {
                  return function (n, t) {
                    return Mt(n === e, n, t, ''.concat(e)), n;
                  };
                },
                Vt = function (e) {
                  return function (n, t) {
                    var r = this;
                    Mt(Pe(n), n, t, 'an object');
                    var o = [],
                      i = {};
                    if (
                      (Object.keys(n).forEach(function (a) {
                        var c = n[a],
                          u = t ? ''.concat(t, '.').concat(a) : a;
                        try {
                          var s = e.call(r, c, u);
                          void 0 !== s && (i[a] = s);
                        } catch (e) {
                          o.push(e.message);
                        }
                      }),
                      o.length)
                    )
                      throw new Error(o.join('\n'));
                    return i;
                  };
                },
                Ht = function (e, n) {
                  return function (t, r) {
                    return (
                      Mt(
                        t >= n,
                        t,
                        r,
                        ''.concat(e, ' greater than or equal to ').concat(n)
                      ),
                      t
                    );
                  };
                },
                zt = function (e, n) {
                  return function (t, r) {
                    return (
                      Mt(
                        t <= n,
                        t,
                        r,
                        ''.concat(e, ' less than or equal to ').concat(n)
                      ),
                      t
                    );
                  };
                },
                Jt = function (e) {
                  return function (n, t) {
                    var r = [];
                    if (
                      (Object.keys(n).forEach(function (n) {
                        if (!e[n]) {
                          var o = t ? ''.concat(t, '.').concat(n) : n;
                          r.push("'".concat(o, "': Unknown field."));
                        }
                      }),
                      r.length)
                    )
                      throw new Error(r.join('\n'));
                    return n;
                  };
                },
                Gt = function (e) {
                  return function (n, t) {
                    return (
                      Pe(n) ? Mt(!Nn(n), n, t, e) : Mt(n.length > 0, n, t, e), n
                    );
                  };
                },
                Qt = function (e) {
                  return function (n, t) {
                    var r = this;
                    Mt(Pe(n), n, t, 'an object');
                    var o = [],
                      i = {};
                    if (
                      (Object.keys(e).forEach(function (a) {
                        var c = n[a],
                          u = e[a],
                          s = t ? ''.concat(t, '.').concat(a) : a;
                        try {
                          var d = u.call(r, c, s);
                          void 0 !== d && (i[a] = d);
                        } catch (e) {
                          o.push(e.message);
                        }
                      }),
                      Object.keys(n).forEach(function (e) {
                        Object.prototype.hasOwnProperty.call(i, e) ||
                          (i[e] = n[e]);
                      }),
                      o.length)
                    )
                      throw new Error(o.join('\n'));
                    return i;
                  };
                },
                Wt = function (e, n, t) {
                  return function (r, i) {
                    Mt(Pe(r), r, i, 'an object');
                    var a = r[e],
                      c = r[t],
                      u = o(r, [e, t].map(p)),
                      s = n(a, i);
                    if (void 0 !== s) {
                      var d = "The field '"
                        .concat(e, "' is deprecated. Use '")
                        .concat(t, "' instead.");
                      if (
                        (i && (d = "'".concat(i, "': ").concat(d)),
                        void 0 !== c && c !== s)
                      )
                        throw new Error(d);
                      this && this.logger && this.logger.warn(d);
                    }
                    return l(f({}, t, c || s), u);
                  };
                },
                Xt = function () {
                  var e = [];
                  return function (n, t) {
                    return (
                      Mt(
                        -1 === e.indexOf(n),
                        n,
                        t,
                        'a unique value across instances'
                      ),
                      e.push(n),
                      n
                    );
                  };
                },
                $t = function (e) {
                  for (
                    var n = Object.create(null), t = 0;
                    t < e.length;
                    t += 1
                  ) {
                    var r = e[t];
                    if (r in n) return !1;
                    n[r] = !0;
                  }
                  return !0;
                },
                Yt = function () {
                  return function (e, n) {
                    return Mt($t(e), e, n, 'array values to be unique'), e;
                  };
                },
                Kt = /^[a-z0-9.-]{1,}$/i,
                Zt = function (e, n) {
                  return Mt(Kt.test(e), e, n, 'a valid domain'), e;
                },
                er = function (e, n) {
                  return Mt(ut(e), e, n, 'an integer'), e;
                },
                nr = function (e, n) {
                  return Mt(ct(e), e, n, 'a number'), e;
                },
                tr = function (e) {
                  try {
                    return null !== RegExp(e);
                  } catch (e) {
                    return !1;
                  }
                },
                rr = function (e, n) {
                  return Mt(tr(e), e, n, 'a regular expression'), e;
                },
                or = function (e, n) {
                  if (null == e)
                    throw new Error("'".concat(n, "' is a required option"));
                  return e;
                },
                ir = function (e, n) {
                  return Mt(dt(e), e, n, 'a string'), e;
                },
                ar = function (e) {
                  return function (n, t) {
                    return (
                      Mt(
                        e.test(n),
                        n,
                        t,
                        'does not match the '.concat(e.toString())
                      ),
                      n
                    );
                  };
                },
                cr = function (e) {
                  return e;
                };
              (cr.default = function (e) {
                return Nt(this, Ut(e));
              }),
                (cr.required = function () {
                  return Nt(this, or);
                }),
                (cr.deprecated = function (e) {
                  return Nt(this, Bt(e));
                });
              var ur = function () {
                  return At(this, Zt);
                },
                sr = function (e) {
                  return At(this, Ht('an integer', e));
                },
                dr = function (e) {
                  return At(this, Ht('a number', e));
                },
                lr = function (e) {
                  return At(this, zt('a number', e));
                },
                fr = function () {
                  return At(this, er, { minimum: sr });
                },
                pr = function () {
                  return At(this, Gt('a non-empty string'));
                },
                gr = function () {
                  return At(this, Gt('a non-empty array'));
                },
                mr = function () {
                  return At(this, Gt('a non-empty object'));
                },
                vr = function () {
                  return At(this, rr);
                },
                yr = function (e) {
                  return At(this, ar(e));
                },
                hr = function () {
                  return At(this, Xt());
                },
                br = function () {
                  return At(this, Yt());
                },
                wr = function () {
                  return this;
                },
                Er = function (e) {
                  return At(this, qt(e), { nonEmpty: gr, uniqueItems: br });
                },
                Cr = function () {
                  return At(this, jt);
                },
                Ir = function () {
                  return At(this, _t);
                },
                Sr = function (e) {
                  return At(this, Ft(e));
                },
                kr = function () {
                  return At(this, nr, {
                    minimum: dr,
                    maximum: lr,
                    integer: fr,
                    unique: hr,
                  });
                },
                Or = function (e) {
                  return At(this, Vt(e), { nonEmpty: mr });
                },
                Pr = function (e) {
                  return {
                    noUnknownFields: function () {
                      return At(this, Jt(e));
                    },
                    nonEmpty: mr,
                    concat: function (n) {
                      var t = l(l({}, e), n.schema);
                      return At(this, n, Pr(t));
                    },
                    renamed: function (e, n, t) {
                      return xt(this, Wt(e, n, t));
                    },
                    schema: e,
                  };
                },
                Dr = function (e) {
                  return At(this, Qt(e), Pr(e));
                },
                Tr = function () {
                  return At(this, ir, {
                    regexp: vr,
                    domain: ur,
                    nonEmpty: pr,
                    unique: hr,
                    matches: yr,
                  });
                },
                Rr = function (e, n) {
                  return Nt(this, Lt(e, n));
                }.bind(cr),
                Nr = wr.bind(cr),
                Ar = Er.bind(cr),
                xr = Cr.bind(cr),
                Mr = Ir.bind(cr),
                jr = Sr.bind(cr),
                _r = kr.bind(cr),
                Lr = Or.bind(cr),
                qr = Dr.bind(cr),
                Ur = Tr.bind(cr),
                Br = function () {
                  for (
                    var e = arguments.length, n = new Array(e), t = 0;
                    t < e;
                    t++
                  )
                    n[t] = arguments[t];
                  return Rr(
                    n.map(jr),
                    'one of these values: '.concat(JSON.stringify(n))
                  );
                },
                Fr = Lr(
                  Ar(
                    qr({
                      authenticatedState: Br(
                        'ambiguous',
                        'authenticated',
                        'loggedOut'
                      ),
                      id: Ur(),
                      namespace: qr({ code: Ur() }).noUnknownFields(),
                      primary: xr(),
                      xid: Ur(),
                    }).noUnknownFields()
                  ).required()
                ),
                Vr = qr({}),
                Hr = 'alloy_debug',
                zr = function (e) {
                  var n = e.console,
                    t = e.locationSearch,
                    r = e.createLogger,
                    o = e.instanceName,
                    i = e.createNamespacedStorage,
                    a = e.getMonitors,
                    c = ye.default.parse(t),
                    u = i('instance.'.concat(o, '.')),
                    s = u.session.getItem('debug'),
                    d = 'true' === s,
                    l = null === s,
                    f = function () {
                      return d;
                    },
                    p = function (e, n) {
                      var t = n.fromConfig;
                      (t && !l) || (d = e),
                        t ||
                          (u.session.setItem('debug', e.toString()), (l = !1));
                    };
                  return (
                    void 0 !== c[Hr] && p(wt(c[Hr]), { fromConfig: !1 }),
                    {
                      setDebugEnabled: p,
                      logger: r({
                        getDebugEnabled: f,
                        context: { instanceName: o },
                        getMonitors: a,
                        console: n,
                      }),
                      createComponentLogger: function (e) {
                        return r({
                          getDebugEnabled: f,
                          context: { instanceName: o, componentName: e },
                          getMonitors: a,
                          console: n,
                        });
                      },
                    }
                  );
                },
                Jr = [
                  'onComponentsRegistered',
                  'onBeforeEvent',
                  'onBeforeRequest',
                  'onResponse',
                  'onRequestFailure',
                  'onClick',
                  'onDecision',
                ],
                Gr = function (e, n) {
                  return function () {
                    for (
                      var t = arguments.length, r = new Array(t), o = 0;
                      o < t;
                      o++
                    )
                      r[o] = arguments[o];
                    return Promise.all(
                      e.getLifecycleCallbacks(n).map(function (e) {
                        return new Promise(function (n) {
                          n(e.apply(void 0, r));
                        });
                      })
                    );
                  };
                },
                Qr = function (e) {
                  return function () {
                    for (
                      var n = arguments.length, t = new Array(n), r = 0;
                      r < n;
                      r++
                    )
                      t[r] = arguments[r];
                    return Promise.resolve().then(function () {
                      return e.apply(void 0, t);
                    });
                  };
                },
                Wr = function (e) {
                  return Jr.reduce(function (n, t) {
                    return (n[t] = Qr(Gr(e, t))), n;
                  }, {});
                },
                Xr = function (e, n) {
                  return function () {
                    var t;
                    try {
                      t = e.apply(void 0, arguments);
                    } catch (e) {
                      throw bt({ error: e, message: n });
                    }
                    return (
                      t instanceof Promise &&
                        (t = t.catch(function (e) {
                          throw bt({ error: e, message: n });
                        })),
                      t
                    );
                  };
                },
                $r = function () {
                  var e = {},
                    n = {},
                    t = {},
                    r = function (e) {
                      var t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {},
                        r = it(Object.keys(n), Object.keys(t));
                      if (r.length)
                        throw new Error(
                          '[ComponentRegistry] Could not register '.concat(
                            e,
                            ' '
                          ) +
                            'because it has existing command(s): '.concat(
                              r.join(',')
                            )
                        );
                      Object.keys(t).forEach(function (r) {
                        var o = t[r];
                        (o.commandName = r),
                          (o.run = Xr(
                            o.run,
                            '['
                              .concat(
                                e,
                                '] An error occurred while executing the '
                              )
                              .concat(r, ' command.')
                          )),
                          (n[r] = o);
                      });
                    },
                    o = function (e) {
                      var n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {};
                      Object.keys(n).forEach(function (r) {
                        (t[r] = t[r] || []),
                          t[r].push(
                            Xr(
                              n[r],
                              '['
                                .concat(
                                  e,
                                  '] An error occurred while executing the '
                                )
                                .concat(r, ' lifecycle hook.')
                            )
                          );
                      });
                    };
                  return {
                    register: function (n, t) {
                      var i = t.commands,
                        a = t.lifecycle;
                      r(n, i), o(n, a), (e[n] = t);
                    },
                    getCommand: function (e) {
                      return n[e];
                    },
                    getCommandNames: function () {
                      return Object.keys(n);
                    },
                    getLifecycleCallbacks: function (e) {
                      return t[e] || [];
                    },
                    getComponentNames: function () {
                      return Object.keys(e);
                    },
                  };
                },
                Yr = function (e) {
                  var n = e.logger,
                    t = e.sendFetchRequest,
                    r = e.sendBeaconRequest,
                    o = e.isRequestRetryable,
                    i = e.getRequestRetryDelay;
                  return function (e) {
                    var a = e.requestId,
                      c = e.url,
                      u = e.payload,
                      s = e.useSendBeacon,
                      d = JSON.stringify(u),
                      f = JSON.parse(d);
                    n.logOnBeforeNetworkRequest({
                      url: c,
                      requestId: a,
                      payload: f,
                    });
                    var p = function () {
                      var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0;
                      return (s ? r : t)(c, d).then(function (t) {
                        var r;
                        if (o({ response: t, retriesAttempted: e })) {
                          var u = i({ response: t, retriesAttempted: e });
                          return new Promise(function (n) {
                            setTimeout(function () {
                              n(p(e + 1));
                            }, u);
                          });
                        }
                        try {
                          r = JSON.parse(t.body);
                        } catch (e) {}
                        return (
                          n.logOnNetworkResponse(
                            l(
                              l({ requestId: a, url: c, payload: f }, t),
                              {},
                              { parsedBody: r, retriesAttempted: e }
                            )
                          ),
                          {
                            statusCode: t.statusCode,
                            body: t.body,
                            parsedBody: r,
                            getHeader: t.getHeader,
                          }
                        );
                      });
                    };
                    return p().catch(function (e) {
                      throw (
                        (n.logOnNetworkError({
                          requestId: a,
                          url: c,
                          payload: f,
                          error: e,
                        }),
                        bt({ error: e, message: 'Network request failed.' }))
                      );
                    });
                  };
                },
                Kr = function (e) {
                  var n = e.logger;
                  return function (e) {
                    if (e) {
                      var t = e.split(';');
                      if (t.length >= 2 && t[1].length > 0)
                        try {
                          var r = parseInt(t[1], 10);
                          if (!Number.isNaN(r)) return { regionId: r };
                        } catch (e) {}
                      n.warn('Invalid adobe edge: "'.concat(e, '"'));
                    }
                    return {};
                  };
                },
                Zr = 'in',
                eo = 'out',
                no = 'pending',
                to = 'general',
                ro = 'declinedConsent',
                oo = 'default',
                io = 'initial',
                ao = 'new',
                co = function (e) {
                  var n = new Error(e);
                  return (n.code = ro), (n.message = e), n;
                },
                uo = function (e) {
                  var n = e.logger,
                    t = [],
                    r = function () {
                      for (; t.length; ) t.shift().resolve();
                    },
                    o = function () {
                      for (; t.length; )
                        t.shift().reject(co('The user declined consent.'));
                    },
                    i = function () {
                      return Promise.resolve();
                    },
                    a = function () {
                      return Promise.resolve();
                    },
                    c = function () {
                      return Promise.reject(
                        co('No consent preferences have been set.')
                      );
                    },
                    u = function () {
                      return Promise.reject(co('The user declined consent.'));
                    },
                    s = function (e) {
                      if (e)
                        return Promise.reject(new Error('Consent is pending.'));
                      var n = qe();
                      return t.push(n), n.promise;
                    };
                  return {
                    in: function (e) {
                      e === oo
                        ? (this.awaitConsent = i)
                        : (e === io
                            ? n.info(
                                'Loaded user consent preferences. The user previously consented.'
                              )
                            : e === ao &&
                              this.awaitConsent !== a &&
                              n.info('User consented.'),
                          r(),
                          (this.awaitConsent = a));
                    },
                    out: function (e) {
                      e === oo
                        ? (n.warn(
                            'User consent preferences not found. Default consent of out will be used.'
                          ),
                          (this.awaitConsent = c))
                        : (e === io
                            ? n.warn(
                                'Loaded user consent preferences. The user previously declined consent.'
                              )
                            : e === ao &&
                              this.awaitConsent !== u &&
                              n.warn('User declined consent.'),
                          o(),
                          (this.awaitConsent = u));
                    },
                    pending: function (e) {
                      e === oo &&
                        n.info(
                          'User consent preferences not found. Default consent of pending will be used. Some commands may be delayed.'
                        ),
                        (this.awaitConsent = s);
                    },
                    awaitConsent: function () {
                      return Promise.resolve();
                    },
                    withConsent: function () {
                      return this.awaitConsent(!0);
                    },
                    current: function () {
                      switch (this.awaitConsent) {
                        case i:
                          return { state: 'in', wasSet: !1 };
                        case a:
                          return { state: 'in', wasSet: !0 };
                        case c:
                          return { state: 'out', wasSet: !1 };
                        case u:
                          return { state: 'out', wasSet: !0 };
                        case s:
                          return { state: 'pending', wasSet: !1 };
                        default:
                          return { state: 'in', wasSet: !1 };
                      }
                    },
                  };
                },
                so = function (e) {
                  var n = e.generalConsentState,
                    t = e.logger,
                    r = function (e, r) {
                      switch (e[to]) {
                        case Zr:
                          n.in(r);
                          break;
                        case eo:
                          n.out(r);
                          break;
                        case no:
                          n.pending(r);
                          break;
                        default:
                          t.warn('Unknown consent value: '.concat(e[to]));
                      }
                    };
                  return {
                    initializeConsent: function (e, n) {
                      n[to] ? r(n, io) : r(e, oo);
                    },
                    setConsent: function (e) {
                      r(e, ao);
                    },
                    suspend: function () {
                      n.pending();
                    },
                    awaitConsent: function () {
                      return n.awaitConsent();
                    },
                    withConsent: function () {
                      return n.withConsent();
                    },
                    current: function () {
                      return n.current();
                    },
                  };
                },
                lo = function (e) {
                  return e &&
                    e._experience &&
                    e._experience.decisioning &&
                    en(e._experience.decisioning.propositions)
                    ? e._experience.decisioning.propositions
                    : [];
                },
                fo = function () {
                  var e,
                    n,
                    t = {},
                    r = !1,
                    o = !1,
                    i = !0,
                    a = function (e) {
                      if (o)
                        throw new Error(
                          ''.concat(
                            e,
                            ' cannot be called after event is finalized.'
                          )
                        );
                    },
                    c = {
                      hasQuery: function () {
                        return Object.prototype.hasOwnProperty.call(
                          this.getContent(),
                          'query'
                        );
                      },
                      getContent: function () {
                        var r = JSON.parse(JSON.stringify(t));
                        return (
                          e && Ae(r, { xdm: e }), n && Ae(r, { data: n }), r
                        );
                      },
                      setUserXdm: function (n) {
                        a('setUserXdm'), (e = n);
                      },
                      setUserData: function (e) {
                        a('setUserData'), (n = e);
                      },
                      mergeXdm: function (e) {
                        a('mergeXdm'), e && Ae(t, { xdm: e });
                      },
                      mergeData: function (e) {
                        a('mergeData'), e && Ae(t, { data: e });
                      },
                      mergeMeta: function (e) {
                        a('mergeMeta'), e && Ae(t, { meta: e });
                      },
                      mergeQuery: function (e) {
                        a('mergeQuery'), e && Ae(t, { query: e });
                      },
                      documentMayUnload: function () {
                        r = !0;
                      },
                      finalize: function (r) {
                        if (!o) {
                          var a = Fe(
                            [].concat(m(lo(e)), m(lo(t.xdm))),
                            function (e, n) {
                              return (
                                e === n ||
                                (e.id &&
                                  n.id &&
                                  e.id === n.id &&
                                  e.scope &&
                                  n.scope &&
                                  e.scope === n.scope)
                              );
                            }
                          );
                          if (
                            (e && this.mergeXdm(e),
                            a.length > 0 &&
                              (t.xdm._experience.decisioning.propositions = a),
                            n && c.mergeData(n),
                            (o = !0),
                            r)
                          ) {
                            i = !1;
                            var u = { xdm: t.xdm || {}, data: t.data || {} },
                              s = r(u);
                            (i = !1 !== s),
                              (t.xdm = u.xdm || {}),
                              (t.data = u.data || {}),
                              Nn(t.xdm) && delete t.xdm,
                              Nn(t.data) && delete t.data;
                          }
                        }
                      },
                      getDocumentMayUnload: function () {
                        return r;
                      },
                      isEmpty: function () {
                        return Nn(t) && (!e || Nn(e)) && (!n || Nn(n));
                      },
                      shouldSend: function () {
                        return i;
                      },
                      getViewName: function () {
                        if (e && e.web && e.web.webPageDetails)
                          return e.web.webPageDetails.viewName;
                      },
                      toJSON: function () {
                        if (!o)
                          throw new Error('toJSON called before finalize');
                        return t;
                      },
                    };
                  return c;
                },
                po = 'Retry-After',
                go = 'x-adobe-edge',
                mo = function (e) {
                  var n = e.extractEdgeInfo;
                  return function (e) {
                    var t = e.content,
                      r = void 0 === t ? {} : t,
                      o = e.getHeader,
                      i = r.handle,
                      a = void 0 === i ? [] : i,
                      c = r.errors,
                      u = void 0 === c ? [] : c,
                      s = r.warnings,
                      d = void 0 === s ? [] : s;
                    return {
                      getPayloadsByType: function (e) {
                        return a
                          .filter(function (n) {
                            return n.type === e;
                          })
                          .flatMap(function (e) {
                            return e.payload;
                          });
                      },
                      getErrors: function () {
                        return u;
                      },
                      getWarnings: function () {
                        return d;
                      },
                      getEdge: function () {
                        return n(o(go));
                      },
                      toJSON: function () {
                        return r;
                      },
                    };
                  };
                },
                vo = 'configure',
                yo = 'setDebug',
                ho = function (e) {
                  var n,
                    t = e.logger,
                    r = e.configureCommand,
                    o = e.setDebugCommand,
                    i = e.handleError,
                    a = e.validateCommandOptions,
                    c = function (e, i) {
                      var c;
                      if (e === vo) {
                        if (n)
                          throw new Error(
                            'The library has already been configured and may only be configured once.'
                          );
                        c = function () {
                          return (n = r(i)).then(function () {});
                        };
                      } else {
                        if (!n)
                          throw new Error(
                            'The library must be configured first. Please do so by executing the configure command.'
                          );
                        c =
                          e === yo
                            ? function () {
                                var e = qr({
                                    enabled: xr().required(),
                                  }).noUnknownFields(),
                                  n = a({
                                    command: {
                                      commandName: yo,
                                      optionsValidator: e,
                                    },
                                    options: i,
                                  });
                                o(n);
                              }
                            : function () {
                                return n.then(
                                  function (n) {
                                    var t = n.getCommand(e);
                                    if (!t || !Ze(t.run)) {
                                      var r = [vo, yo]
                                        .concat(n.getCommandNames())
                                        .join(', ');
                                      throw new Error(
                                        'The '
                                          .concat(
                                            e,
                                            ' command does not exist. List of available commands: '
                                          )
                                          .concat(r, '.')
                                      );
                                    }
                                    var o = a({ command: t, options: i });
                                    return t.run(o);
                                  },
                                  function () {
                                    return (
                                      t.warn(
                                        'An error during configuration is preventing the '.concat(
                                          e,
                                          ' command from executing.'
                                        )
                                      ),
                                      new Promise(function () {})
                                    );
                                  }
                                );
                              };
                      }
                      return c;
                    };
                  return function (e) {
                    var n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : {};
                    return new Promise(function (r) {
                      var o = c(e, n);
                      t.logOnBeforeCommand({ commandName: e, options: n }),
                        r(o());
                    })
                      .catch(function (n) {
                        return i(n, ''.concat(e, ' command'));
                      })
                      .catch(function (r) {
                        throw (
                          (t.logOnCommandRejected({
                            commandName: e,
                            options: n,
                            error: r,
                          }),
                          r)
                        );
                      })
                      .then(function (r) {
                        var o = Pe(r) ? r : {};
                        return (
                          t.logOnCommandResolved({
                            commandName: e,
                            options: n,
                            result: o,
                          }),
                          o
                        );
                      });
                  };
                },
                bo = 'https://adobe.ly/3sHgQHb',
                wo = function (e) {
                  var n = e.command,
                    t = e.options,
                    r = n.commandName,
                    o = n.documentationUri,
                    i = void 0 === o ? bo : o,
                    a = n.optionsValidator,
                    c = t;
                  if (a)
                    try {
                      c = a(t);
                    } catch (e) {
                      var u = 'Invalid '
                        .concat(r, ' command options:\n\t - ')
                        .concat(e, ' For command documentation see: ')
                        .concat(i);
                      throw new Error(u);
                    }
                  return c;
                },
                Eo = 'https://adobe.ly/3sHh553',
                Co = function (e) {
                  var n = e.combinedConfigValidator,
                    t = e.options,
                    r = e.logger;
                  try {
                    return n
                      .noUnknownFields()
                      .required()
                      .call({ logger: r }, t);
                  } catch (e) {
                    throw new Error(
                      'Resolve these configuration problems:\n\t - '
                        .concat(
                          e.message.split('\n').join('\n\t - '),
                          '\nFor configuration documentation see: '
                        )
                        .concat(Eo)
                    );
                  }
                },
                Io = function (e, n, t) {
                  return t.reduce(function (t, r) {
                    var o = r.buildOnInstanceConfiguredExtraParams;
                    return (
                      o && (t = l(l({}, t), o({ config: e, logger: n }))), t
                    );
                  }, {});
                },
                So = function (e) {
                  var n = [],
                    t = {
                      get enabled() {
                        return e.enabled;
                      },
                      flush: function () {
                        n.forEach(function (n) {
                          var t = n.method,
                            r = n.args;
                          return e[t].apply(e, m(r));
                        });
                      },
                    };
                  return (
                    Object.keys(e)
                      .filter(function (n) {
                        return 'function' == typeof e[n];
                      })
                      .forEach(function (e) {
                        t[e] = function () {
                          for (
                            var t = arguments.length, r = new Array(t), o = 0;
                            o < t;
                            o++
                          )
                            r[o] = arguments[o];
                          n.push({ method: e, args: r });
                        };
                      }),
                    t
                  );
                },
                ko = function (e) {
                  var n = e.options,
                    t = e.componentCreators,
                    r = e.coreConfigValidators,
                    o = e.createConfig,
                    i = e.logger,
                    a = e.setDebugEnabled,
                    c = So(i),
                    u = t
                      .map(function (e) {
                        return e.configValidators;
                      })
                      .filter(function (e) {
                        return e;
                      })
                      .reduce(function (e, n) {
                        return e.concat(n);
                      }, r),
                    s = o(
                      Co({ combinedConfigValidator: u, options: n, logger: c })
                    );
                  a(s.debugEnabled, { fromConfig: !0 }), c.flush();
                  var d = Io(s, i, t);
                  return (
                    i.logOnInstanceConfigured(l(l({}, d), {}, { config: s })), s
                  );
                },
                Oo = function (e) {
                  var n = e.componentCreators,
                    t = e.lifecycle,
                    r = e.componentRegistry,
                    o = e.getImmediatelyAvailableTools;
                  return (
                    n.forEach(function (e) {
                      var n,
                        t = e.namespace,
                        i = o(t);
                      try {
                        n = e(i);
                      } catch (e) {
                        throw bt({
                          error: e,
                          message: '['.concat(
                            t,
                            '] An error occurred during component creation.'
                          ),
                        });
                      }
                      r.register(t, n);
                    }),
                    t
                      .onComponentsRegistered({ lifecycle: t })
                      .then(function () {
                        return r;
                      })
                  );
                },
                Po = function (e) {
                  return l({}, e);
                },
                Do = 'edge.adobedc.net',
                To = 'adobedc.demdex.net',
                Ro = 'ee',
                No = function () {
                  return qr({
                    debugEnabled: xr().default(!1),
                    datastreamId: Ur().unique().required(),
                    edgeDomain: Ur().domain().default(Do),
                    edgeBasePath: Ur().nonEmpty().default(Ro),
                    orgId: Ur().unique().required(),
                    onBeforeEventSend: Mr().default(ft),
                    edgeConfigOverrides: Vr,
                  }).renamed('edgeConfigId', Ur().unique(), 'datastreamId');
                },
                Ao = function (e) {
                  var n = e.errorPrefix,
                    t = e.logger;
                  return function (e, r) {
                    var o = yt(e);
                    if (o.code === ro)
                      return (
                        t.warn(
                          'The '
                            .concat(r, ' could not fully complete. ')
                            .concat(o.message)
                        ),
                        {}
                      );
                    throw (
                      (ht({
                        error: o,
                        message: ''.concat(n, ' ').concat(o.message),
                      }),
                      o)
                    );
                  };
                },
                xo = function (e) {
                  var n = e.fetch;
                  return function (e, t) {
                    return n(e, {
                      method: 'POST',
                      cache: 'no-cache',
                      credentials: 'include',
                      headers: { 'Content-Type': 'text/plain; charset=UTF-8' },
                      referrerPolicy: 'no-referrer-when-downgrade',
                      body: t,
                    }).then(function (e) {
                      return e.text().then(function (n) {
                        return {
                          statusCode: e.status,
                          getHeader: function (n) {
                            return e.headers.get(n);
                          },
                          body: n,
                        };
                      });
                    });
                  };
                },
                Mo = function (e) {
                  var n = e.sendBeacon,
                    t = e.sendFetchRequest,
                    r = e.logger;
                  return function (e, o) {
                    var i = new Blob([o], {
                      type: 'text/plain; charset=UTF-8',
                    });
                    return n(e, i)
                      ? Promise.resolve({
                          statusCode: 204,
                          getHeader: function () {
                            return null;
                          },
                          body: '',
                        })
                      : (r.info(
                          'Unable to use `sendBeacon`; falling back to `fetch`.'
                        ),
                        t(e, o));
                  };
                },
                jo = function (e) {
                  var n = e.getDebugEnabled,
                    t = e.console,
                    r = e.getMonitors,
                    o = e.context,
                    i = '['.concat(o.instanceName, ']');
                  o.componentName && (i += ' ['.concat(o.componentName, ']'));
                  var a = function (e, n) {
                      var t = r();
                      if (t.length > 0) {
                        var i = l(l({}, o), n);
                        t.forEach(function (n) {
                          n[e] && n[e](i);
                        });
                      }
                    },
                    c = function (e) {
                      for (
                        var r = arguments.length,
                          o = new Array(r > 1 ? r - 1 : 0),
                          c = 1;
                        c < r;
                        c++
                      )
                        o[c - 1] = arguments[c];
                      a('onBeforeLog', { level: e, arguments: o }),
                        n() && t[e].apply(t, [i].concat(o));
                    };
                  return {
                    get enabled() {
                      return r().length > 0 || n();
                    },
                    logOnInstanceCreated: function (e) {
                      a('onInstanceCreated', e),
                        c('info', 'Instance initialized.');
                    },
                    logOnInstanceConfigured: function (e) {
                      a('onInstanceConfigured', e),
                        c(
                          'info',
                          'Instance configured. Computed configuration:',
                          e.config
                        );
                    },
                    logOnBeforeCommand: function (e) {
                      a('onBeforeCommand', e),
                        c(
                          'info',
                          'Executing '.concat(
                            e.commandName,
                            ' command. Options:'
                          ),
                          e.options
                        );
                    },
                    logOnCommandResolved: function (e) {
                      a('onCommandResolved', e),
                        c(
                          'info',
                          ''.concat(
                            e.commandName,
                            ' command resolved. Result:'
                          ),
                          e.result
                        );
                    },
                    logOnCommandRejected: function (e) {
                      a('onCommandRejected', e),
                        c(
                          'error',
                          ''.concat(
                            e.commandName,
                            ' command was rejected. Error:'
                          ),
                          e.error
                        );
                    },
                    logOnBeforeNetworkRequest: function (e) {
                      a('onBeforeNetworkRequest', e),
                        c(
                          'info',
                          'Request '.concat(e.requestId, ': Sending request.'),
                          e.payload
                        );
                    },
                    logOnNetworkResponse: function (e) {
                      a('onNetworkResponse', e);
                      var n =
                        e.parsedBody || e.body
                          ? 'response body:'
                          : 'no response body.';
                      c(
                        'info',
                        'Request '
                          .concat(
                            e.requestId,
                            ': Received response with status code '
                          )
                          .concat(e.statusCode, ' and ')
                          .concat(n),
                        e.parsedBody || e.body
                      );
                    },
                    logOnNetworkError: function (e) {
                      a('onNetworkError', e),
                        c(
                          'error',
                          'Request '.concat(
                            e.requestId,
                            ': Network request failed.'
                          ),
                          e.error
                        );
                    },
                    logOnContentHiding: function (e) {
                      a('onContentHiding', { status: e.status }),
                        c(e.logLevel, e.message);
                    },
                    logOnContentRendering: function (e) {
                      a('onContentRendering', {
                        status: e.status,
                        payload: e.detail,
                      }),
                        c(e.logLevel, e.message);
                    },
                    info: c.bind(null, 'info'),
                    warn: c.bind(null, 'warn'),
                    error: c.bind(null, 'error'),
                  };
                },
                _o = '__view__',
                Lo = function (e) {
                  return function (n, t) {
                    (e.xdm = e.xdm || {}),
                      (e.xdm.identityMap = e.xdm.identityMap || {}),
                      (e.xdm.identityMap[n] = e.xdm.identityMap[n] || []),
                      e.xdm.identityMap[n].push(t);
                  };
                },
                qo = function (e) {
                  var n = e.payload,
                    t = e.getAction,
                    r = e.getUseSendBeacon,
                    o = e.datastreamIdOverride,
                    i = e.edgeSubPath,
                    a = D(),
                    c = !1,
                    u = !1;
                  return {
                    getId: function () {
                      return a;
                    },
                    getPayload: function () {
                      return n;
                    },
                    getAction: function () {
                      return t({ isIdentityEstablished: u });
                    },
                    getDatastreamIdOverride: function () {
                      return o;
                    },
                    getUseSendBeacon: function () {
                      return r({ isIdentityEstablished: u });
                    },
                    getEdgeSubPath: function () {
                      return i || '';
                    },
                    getUseIdThirdPartyDomain: function () {
                      return c;
                    },
                    setUseIdThirdPartyDomain: function () {
                      c = !0;
                    },
                    setIsIdentityEstablished: function () {
                      u = !0;
                    },
                  };
                },
                Uo = function (e) {
                  var n = e.payload,
                    t = e.datastreamIdOverride,
                    r = function (e) {
                      var t = e.isIdentityEstablished;
                      return n.getDocumentMayUnload() && t;
                    };
                  return qo({
                    payload: n,
                    getAction: function (e) {
                      var n = e.isIdentityEstablished;
                      return r({ isIdentityEstablished: n })
                        ? 'collect'
                        : 'interact';
                    },
                    getUseSendBeacon: r,
                    datastreamIdOverride: t,
                  });
                },
                Bo = function (e) {
                  var n = e.content,
                    t = e.addIdentity,
                    r = e.hasIdentity,
                    o = xe(n, 'meta.configOverrides');
                  return {
                    mergeMeta: xe(n, 'meta'),
                    mergeState: xe(n, 'meta.state'),
                    mergeQuery: xe(n, 'query'),
                    mergeConfigOverride: function (e) {
                      return o(vt(e));
                    },
                    addIdentity: t,
                    hasIdentity: r,
                    toJSON: function () {
                      return n;
                    },
                  };
                },
                Fo = function (e) {
                  return function (n) {
                    return (
                      void 0 !==
                      (e.xdm && e.xdm.identityMap && e.xdm.identityMap[n])
                    );
                  };
                },
                Vo = function () {
                  var e = {},
                    n = Bo({
                      content: e,
                      addIdentity: Lo(e),
                      hasIdentity: Fo(e),
                    });
                  return (
                    (n.addEvent = function (n) {
                      (e.events = e.events || []), e.events.push(n);
                    }),
                    (n.getDocumentMayUnload = function () {
                      return (e.events || []).some(function (e) {
                        return e.getDocumentMayUnload();
                      });
                    }),
                    n
                  );
                },
                Ho = function (e) {
                  var n = e.localConfigOverrides,
                    t = e.globalConfigOverrides,
                    r = e.payload,
                    i = { payload: r },
                    a = n || {},
                    c = a.datastreamId,
                    u = o(a, he);
                  return (
                    c && (i.datastreamIdOverride = c),
                    t && !Nn(t) && r.mergeConfigOverride(t),
                    u && !Nn(u) && r.mergeConfigOverride(u),
                    i
                  );
                },
                zo = 'adb_validation_sessionid',
                Jo = 'validation.',
                Go = 'clientId',
                Qo = function (e) {
                  var n = e.persistent.getItem(Go);
                  return n || ((n = D()), e.persistent.setItem(Go, n)), n;
                },
                Wo = function (e) {
                  var n = e.window,
                    t = (0, e.createNamespacedStorage)(Jo);
                  return function () {
                    var e = ye.default.parse(n.location.search)[zo];
                    if (!e) return '';
                    var r = Qo(t),
                      o = ''.concat(e, '|').concat(r);
                    return '&'.concat(
                      ye.default.stringify({ adobeAepValidationToken: o })
                    );
                  };
                },
                Xo =
                  'Event was canceled because the onBeforeEventSend callback returned false.',
                $o = function (e) {
                  var n = e.config,
                    t = e.logger,
                    r = e.lifecycle,
                    i = e.consent,
                    a = e.createEvent,
                    c = e.createDataCollectionRequestPayload,
                    u = e.createDataCollectionRequest,
                    s = e.sendEdgeNetworkRequest,
                    d = e.applyResponse,
                    f = n.onBeforeEventSend,
                    p = n.edgeConfigOverrides;
                  return {
                    createEvent: a,
                    sendEvent: function (e) {
                      var n =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {},
                        a = n.edgeConfigOverrides,
                        d = o(n, be),
                        g = Ho({
                          payload: c(),
                          localConfigOverrides: a,
                          globalConfigOverrides: p,
                        }),
                        m = u(g),
                        v = Me(),
                        y = Me();
                      return r
                        .onBeforeEvent(
                          l(
                            l({}, d),
                            {},
                            {
                              event: e,
                              onResponse: v.add,
                              onRequestFailure: y.add,
                            }
                          )
                        )
                        .then(function () {
                          return g.payload.addEvent(e), i.awaitConsent();
                        })
                        .then(function () {
                          try {
                            e.finalize(f);
                          } catch (o) {
                            var n = function () {
                              throw o;
                            };
                            return (
                              y.add(r.onRequestFailure),
                              y.call({ error: o }).then(n, n)
                            );
                          }
                          if (!e.shouldSend()) {
                            y.add(r.onRequestFailure), t.info(Xo);
                            var o = new Error(Xo);
                            return y.call({ error: o }).then(function () {});
                          }
                          return s({
                            request: m,
                            runOnResponseCallbacks: v.call,
                            runOnRequestFailureCallbacks: y.call,
                          });
                        });
                    },
                    applyResponse: function (e) {
                      var n =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {},
                        t = n.renderDecisions,
                        o = void 0 !== t && t,
                        i = n.decisionContext,
                        a = void 0 === i ? {} : i,
                        s = n.responseHeaders,
                        l = void 0 === s ? {} : s,
                        f = n.responseBody,
                        p = void 0 === f ? { handle: [] } : f,
                        g = n.personalization,
                        m = c(),
                        v = u({ payload: m }),
                        y = Me();
                      return r
                        .onBeforeEvent({
                          event: e,
                          renderDecisions: o,
                          decisionContext: a,
                          decisionScopes: [_o],
                          personalization: g,
                          onResponse: y.add,
                          onRequestFailure: ft,
                        })
                        .then(function () {
                          return (
                            m.addEvent(e),
                            d({
                              request: v,
                              responseHeaders: l,
                              responseBody: p,
                              runOnResponseCallbacks: y.call,
                            })
                          );
                        });
                    },
                  };
                },
                Yo = 'state:store',
                Ko = function (e) {
                  var n = e.cookieJar,
                    t = e.shouldTransferCookie,
                    r = e.apexDomain,
                    o = e.dateProvider;
                  return {
                    cookiesToPayload: function (e, o) {
                      var i = '' !== r && o.endsWith(r),
                        a = { domain: r, cookiesEnabled: !0 };
                      if (!i) {
                        var c = n.get(),
                          u = Object.keys(c)
                            .filter(t)
                            .map(function (e) {
                              return { key: e, value: c[e] };
                            });
                        u.length && (a.entries = u);
                      }
                      e.mergeState(a);
                    },
                    responseToCookies: function (e) {
                      e.getPayloadsByType(Yo).forEach(function (e) {
                        var t = { domain: r },
                          i =
                            e.attrs &&
                            e.attrs.SameSite &&
                            e.attrs.SameSite.toLowerCase();
                        void 0 !== e.maxAge &&
                          (t.expires = new Date(
                            o().getTime() + 1e3 * e.maxAge
                          )),
                          void 0 !== i && (t.sameSite = i),
                          'none' === i && (t.secure = !0),
                          n.set(e.key, e.value, t);
                      });
                    },
                  };
                },
                Zo = 'mboxEdgeCluster',
                ei = 'at_qa_mode',
                ni = 'mbox',
                ti = function (e) {
                  var n = e.orgId,
                    t = e.targetMigrationEnabled;
                  return function (e) {
                    return st(n, e) || e === ei || (t && e === ni);
                  };
                },
                ri = 'v1',
                oi = function (e) {
                  var n = e.shift() || [],
                    t = e.shift() || [],
                    r = e;
                  return De.apply(void 0, [{}].concat(m(n), m(t), m(r)));
                },
                ii = function (e) {
                  return function (n) {
                    var t = function () {
                      throw n;
                    };
                    return e.call({ error: n }).then(t, t);
                  };
                },
                ai = 'TypeError',
                ci = 'NetworkError',
                ui = function (e) {
                  return e.name === ai || e.name === ci || 0 === e.status;
                },
                si = function (e, n) {
                  return n.getUseIdThirdPartyDomain() && ui(e);
                },
                di = function (e) {
                  var n = e.config,
                    t = e.lifecycle,
                    r = e.cookieTransfer,
                    o = e.sendNetworkRequest,
                    i = e.createResponse,
                    a = e.processWarningsAndErrors,
                    c = e.getLocationHint,
                    u = e.getAssuranceValidationTokenParams,
                    s = n.edgeDomain,
                    d = n.edgeBasePath,
                    l = n.datastreamId,
                    f = !1;
                  return function (e) {
                    var n = e.request,
                      p = e.runOnResponseCallbacks,
                      g = void 0 === p ? ft : p,
                      m = e.runOnRequestFailureCallbacks,
                      v = void 0 === m ? ft : m,
                      y = Me();
                    y.add(t.onResponse), y.add(g);
                    var h = Me();
                    return (
                      h.add(t.onRequestFailure),
                      h.add(v),
                      t
                        .onBeforeRequest({
                          request: n,
                          onResponse: y.add,
                          onRequestFailure: h.add,
                        })
                        .then(function () {
                          var e = f || !n.getUseIdThirdPartyDomain() ? s : To,
                            t = c(),
                            i = t
                              ? ''
                                  .concat(d, '/')
                                  .concat(t)
                                  .concat(n.getEdgeSubPath())
                              : ''.concat(d).concat(n.getEdgeSubPath()),
                            a = n.getDatastreamIdOverride() || l,
                            p = n.getPayload();
                          a !== l &&
                            p.mergeMeta({
                              sdkConfig: { datastream: { original: l } },
                            });
                          var g = 'https://'
                            .concat(e, '/')
                            .concat(i, '/')
                            .concat(ri, '/')
                            .concat(n.getAction(), '?configId=')
                            .concat(a, '&requestId=')
                            .concat(n.getId())
                            .concat(u());
                          return (
                            r.cookiesToPayload(p, e),
                            o({
                              requestId: n.getId(),
                              url: g,
                              payload: p,
                              useSendBeacon: n.getUseSendBeacon(),
                            })
                          );
                        })
                        .then(function (e) {
                          return a(e), e;
                        })
                        .catch(function (e) {
                          return si(e, n)
                            ? ((f = !0),
                              n.setUseIdThirdPartyDomain(!1),
                              o({
                                requestId: n.getId(),
                                url: n.buildUrl(s),
                                payload: n.getPayload(),
                                useSendBeacon: n.getUseSendBeacon(),
                              }))
                            : ii(h)(e);
                        })
                        .then(function (e) {
                          var n = e.parsedBody,
                            t = e.getHeader,
                            o = i({ content: n, getHeader: t });
                          return (
                            r.responseToCookies(o),
                            y.call({ response: o }).then(oi)
                          );
                        })
                    );
                  };
                },
                li = 204,
                fi = 'The server responded with a',
                pi = function (e) {
                  var n = e.logger;
                  return function (e) {
                    var t = e.statusCode,
                      r = e.body,
                      o = e.parsedBody;
                    if (
                      t < 200 ||
                      t >= 300 ||
                      (!o && t !== li) ||
                      (o && !Array.isArray(o.handle))
                    ) {
                      var i = o ? JSON.stringify(o, null, 2) : r,
                        a = i
                          ? 'response body:\n'.concat(i)
                          : 'no response body.';
                      throw new Error(
                        ''
                          .concat(fi, ' status code ')
                          .concat(t, ' and ')
                          .concat(a)
                      );
                    }
                    if (o) {
                      var c = o.warnings,
                        u = void 0 === c ? [] : c,
                        s = o.errors,
                        d = void 0 === s ? [] : s;
                      u.forEach(function (e) {
                        n.warn(''.concat(fi, ' warning:'), e);
                      }),
                        d.forEach(function (e) {
                          n.error(''.concat(fi, ' non-fatal error:'), e);
                        });
                    }
                  };
                },
                gi = function (e) {
                  var n = e.orgId,
                    t = e.cookieJar,
                    r = Un(n, Zn),
                    o = function () {
                      return t.get(r);
                    },
                    i = function () {
                      var e = t.get(Zo);
                      if (e) return 't'.concat(e);
                    };
                  return function () {
                    return o() || i();
                  };
                },
                mi = 3,
                vi = [429, 503, 502, 504],
                yi = function (e) {
                  var n = e.response;
                  return e.retriesAttempted < mi && vi.includes(n.statusCode);
                },
                hi = 1e3,
                bi = 1e3,
                wi = 0.3,
                Ei = function (e) {
                  var n = hi + e * bi,
                    t = n * wi,
                    r = n - t,
                    o = n + t;
                  return Math.round(r + Math.random() * (o - r));
                },
                Ci = function (e) {
                  var n,
                    t = e.getHeader(po);
                  if (t) {
                    var r = parseInt(t, 10);
                    n = ut(r)
                      ? 1e3 * r
                      : Math.max(
                          0,
                          new Date(t).getTime() - new Date().getTime()
                        );
                  }
                  return n;
                },
                Ii = function (e) {
                  var n = e.response,
                    t = e.retriesAttempted,
                    r = Ci(n);
                  return void 0 === r && (r = Ei(t)), r;
                },
                Si = 200,
                ki = function (e) {
                  var n = e.cookieTransfer,
                    t = e.lifecycle,
                    r = e.createResponse,
                    o = e.processWarningsAndErrors;
                  return function (e) {
                    var i = e.request,
                      a = e.responseHeaders,
                      c = e.responseBody,
                      u = e.runOnResponseCallbacks,
                      s = void 0 === u ? ft : u,
                      d = e.runOnRequestFailureCallbacks,
                      l = void 0 === d ? ft : d,
                      f = Me();
                    f.add(t.onResponse), f.add(s);
                    var p = Me();
                    p.add(t.onRequestFailure), p.add(l);
                    var g = function (e) {
                      return a[e];
                    };
                    return t
                      .onBeforeRequest({
                        request: i,
                        onResponse: f.add,
                        onRequestFailure: p.add,
                      })
                      .then(function () {
                        return o({
                          statusCode: Si,
                          getHeader: g,
                          body: JSON.stringify(c),
                          parsedBody: c,
                        });
                      })
                      .catch(ii(p))
                      .then(function () {
                        var e = r({ content: c, getHeader: g });
                        return (
                          n.responseToCookies(e),
                          f.call({ response: e }).then(oi)
                        );
                      });
                  };
                },
                Oi = function (e) {
                  var n = e.options;
                  return qr({
                    type: Ur(),
                    xdm: qr({ eventType: Ur(), identityMap: Fr }),
                    data: qr({}),
                    documentUnloading: xr(),
                    renderDecisions: xr(),
                    decisionScopes: Ar(Ur()).uniqueItems(),
                    personalization: qr({
                      decisionScopes: Ar(Ur()).uniqueItems(),
                      surfaces: Ar(Ur()).uniqueItems(),
                      sendDisplayEvent: xr().default(!0),
                      includeRenderedPropositions: xr().default(!1),
                      defaultPersonalizationEnabled: xr(),
                      decisionContext: qr({}),
                    }).default({ sendDisplayEvent: !0 }),
                    datasetId: Ur(),
                    mergeId: Ur(),
                    edgeConfigOverrides: Vr,
                    initializePersonalization: xr(),
                  })
                    .required()
                    .noUnknownFields()(n);
                },
                Pi = function (e) {
                  var n = e.options;
                  return qr({
                    renderDecisions: xr(),
                    responseHeaders: Lr(Ur().required()),
                    responseBody: qr({
                      handle: Ar(
                        qr({ type: Ur().required(), payload: Nr().required() })
                      ).required(),
                    }).required(),
                    personalization: qr({
                      sendDisplayEvent: xr().default(!0),
                      decisionContext: qr({}),
                    }).default({ sendDisplayEvent: !0 }),
                  }).noUnknownFields()(n);
                },
                Di = function (e) {
                  var n = e.eventManager,
                    t = e.logger;
                  return {
                    commands: {
                      sendEvent: {
                        documentationUri: 'https://adobe.ly/3GQ3Q7t',
                        optionsValidator: function (e) {
                          return Oi({ options: e });
                        },
                        run: function (e) {
                          var r = e.xdm,
                            i = e.data,
                            a = e.documentUnloading,
                            c = e.type,
                            u = e.mergeId,
                            s = e.datasetId,
                            d = e.edgeConfigOverrides,
                            l = o(e, we),
                            f = n.createEvent();
                          return (
                            a && f.documentMayUnload(),
                            f.setUserXdm(r),
                            f.setUserData(i),
                            c && f.mergeXdm({ eventType: c }),
                            u && f.mergeXdm({ eventMergeId: u }),
                            d && (l.edgeConfigOverrides = d),
                            s &&
                              (t.warn(
                                "The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."
                              ),
                              (l.edgeConfigOverrides = d || {}),
                              Ae(l.edgeConfigOverrides, {
                                com_adobe_experience_platform: {
                                  datasets: { event: { datasetId: s } },
                                },
                              })),
                            n.sendEvent(f, l)
                          );
                        },
                      },
                      applyResponse: {
                        documentationUri: '',
                        optionsValidator: function (e) {
                          return Pi({ options: e });
                        },
                        run: function (e) {
                          var t = e.renderDecisions,
                            r = void 0 !== t && t,
                            o = e.decisionContext,
                            i = void 0 === o ? {} : o,
                            a = e.responseHeaders,
                            c = void 0 === a ? {} : a,
                            u = e.responseBody,
                            s = void 0 === u ? { handle: [] } : u,
                            d = e.personalization,
                            l = n.createEvent();
                          return n.applyResponse(l, {
                            renderDecisions: r,
                            decisionContext: i,
                            responseHeaders: c,
                            responseBody: s,
                            personalization: d,
                          });
                        },
                      },
                    },
                  };
                };
              Di.namespace = 'DataCollector';
              var Ti = function (e, n) {
                  return 'ID sync '
                    .concat(n ? 'succeeded' : 'failed', ': ')
                    .concat(e.spec.url);
                },
                Ri = function (e) {
                  var n = e.fireReferrerHideableImage,
                    t = e.logger;
                  return function (e) {
                    var r = e.filter(function (e) {
                      return 'url' === e.type;
                    });
                    return r.length
                      ? Promise.all(
                          r.map(function (e) {
                            return n(e.spec)
                              .then(function () {
                                t.info(Ti(e, !0));
                              })
                              .catch(function () {
                                t.error(Ti(e, !1));
                              });
                          })
                        ).then(ft)
                      : Promise.resolve();
                  };
                },
                Ni = qr({
                  thirdPartyCookiesEnabled: xr().default(!0),
                  idMigrationEnabled: xr().default(!0),
                }),
                Ai = qr({
                  url: Ur().required().nonEmpty(),
                  edgeConfigOverrides: Vr,
                })
                  .required()
                  .noUnknownFields(),
                xi = 'ECID',
                Mi = function (e) {
                  var n,
                    t = e.addEcidQueryToPayload,
                    r = e.addQueryStringIdentityToPayload,
                    o = e.ensureSingleIdentity,
                    i = e.setLegacyEcid,
                    a = e.handleResponseForIdSyncs,
                    c = e.getNamespacesFromResponse,
                    u = e.getIdentity,
                    s = e.consent,
                    d = e.appendIdentityToUrl,
                    f = e.logger,
                    p = e.getIdentityOptionsValidator,
                    g = {};
                  return {
                    lifecycle: {
                      onBeforeRequest: function (e) {
                        var n = e.request,
                          i = e.onResponse,
                          a = e.onRequestFailure;
                        return (
                          t(n.getPayload()),
                          r(n.getPayload()),
                          o({ request: n, onResponse: i, onRequestFailure: a })
                        );
                      },
                      onResponse: function (e) {
                        var t = e.response,
                          r = c(t);
                        return (
                          (n && n[xi]) || !r || !r[xi] || i(r[xi]),
                          (n = r),
                          (g = l(l({}, g), t.getEdge())),
                          a(t)
                        );
                      },
                    },
                    commands: {
                      getIdentity: {
                        optionsValidator: p,
                        run: function (e) {
                          var t = e.namespaces;
                          return s
                            .awaitConsent()
                            .then(function () {
                              return n ? void 0 : u(e);
                            })
                            .then(function () {
                              return {
                                identity: t.reduce(function (e, t) {
                                  return (e[t] = n[t] || null), e;
                                }, {}),
                                edge: g,
                              };
                            });
                        },
                      },
                      appendIdentityToUrl: {
                        optionsValidator: Ai,
                        run: function (e) {
                          return s
                            .withConsent()
                            .then(function () {
                              return n ? void 0 : u(e);
                            })
                            .then(function () {
                              return { url: d(n[xi], e.url) };
                            })
                            .catch(function (n) {
                              return (
                                f.warn(
                                  'Unable to append identity to url. '.concat(
                                    n.message
                                  )
                                ),
                                e
                              );
                            });
                        },
                      },
                    },
                  };
                },
                ji = function (e) {
                  var n = e.config,
                    t = e.getEcidFromVisitor,
                    r = e.apexDomain,
                    o = e.isPageSsl,
                    i = e.cookieJar,
                    a = n.idMigrationEnabled,
                    c = n.orgId,
                    u = 'AMCV_'.concat(c),
                    s = function () {
                      var e = null,
                        n = 's_ecid',
                        t = i.get(n) || i.get(u);
                      if (t) {
                        var r = /(^|\|)MCMID\|(\d+)($|\|)/,
                          o = t.match(r);
                        o && (e = o[2]);
                      }
                      return e;
                    };
                  return {
                    getEcid: function () {
                      if (a) {
                        var e = s();
                        return e ? Promise.resolve(e) : t();
                      }
                      return Promise.resolve();
                    },
                    setEcid: function (e) {
                      if (a && s() !== e) {
                        var n = o ? { sameSite: 'none', secure: !0 } : {};
                        i.set(
                          u,
                          'MCMID|'.concat(e),
                          l({ domain: r, expires: 390 }, n)
                        );
                      }
                    },
                  };
                },
                _i = function (e) {
                  var n = e.logger;
                  return new Promise(function (e, t) {
                    if (Pe(window.adobe) && Pe(window.adobe.optIn)) {
                      var r = window.adobe.optIn;
                      n.info(
                        'Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server.'
                      ),
                        r.fetchPermissions(function () {
                          r.isApproved([r.Categories.ECID])
                            ? (n.info(
                                'Received legacy opt-in approval to let Visitor retrieve ECID from server.'
                              ),
                              e())
                            : t(new Error('Legacy opt-in was declined.'));
                        }, !0);
                    } else e();
                  });
                },
                Li = function (e) {
                  var n = e.Visitor;
                  return Ze(n) && Ze(n.getInstance) && n;
                },
                qi = function (e) {
                  var n = e.logger,
                    t = e.orgId,
                    r = e.awaitVisitorOptIn;
                  return function () {
                    var e = Li(window);
                    return e
                      ? r({ logger: n })
                          .then(function () {
                            return (
                              n.info(
                                'Delaying request while using Visitor to retrieve ECID from server.'
                              ),
                              new Promise(function (r) {
                                e.getInstance(t, {}).getMarketingCloudVisitorID(
                                  function (e) {
                                    n.info(
                                      'Resuming previously delayed request that was waiting for ECID from Visitor.'
                                    ),
                                      r(e);
                                  },
                                  !0
                                );
                              })
                            );
                          })
                          .catch(function (e) {
                            e
                              ? n.info(
                                  ''.concat(
                                    e.message,
                                    ', retrieving ECID from experience edge'
                                  )
                                )
                              : n.info(
                                  'An error occurred while obtaining the ECID from Visitor.'
                                );
                          })
                      : Promise.resolve();
                  };
                },
                Ui = function (e) {
                  var n = e.processIdSyncs;
                  return function (e) {
                    return n(e.getPayloadsByType('identity:exchange'));
                  };
                },
                Bi = function (e) {
                  var n,
                    t = e.doesIdentityCookieExist,
                    r = e.setDomainForInitialIdentityPayload,
                    o = e.addLegacyEcidToPayload,
                    i = e.awaitIdentityCookie,
                    a = e.logger,
                    c = function (e) {
                      return r(e), o(e.getPayload());
                    };
                  return function (e) {
                    var r = e.request,
                      o = e.onResponse,
                      u = e.onRequestFailure;
                    if (t())
                      return r.setIsIdentityEstablished(), Promise.resolve();
                    if (n) {
                      a.info(
                        'Delaying request while retrieving ECID from server.'
                      );
                      var s = n;
                      return (
                        (n = s.catch(function () {
                          return i({ onResponse: o, onRequestFailure: u });
                        })),
                        s
                          .then(function () {
                            a.info('Resuming previously delayed request.'),
                              r.setIsIdentityEstablished();
                          })
                          .catch(function () {
                            return c(r);
                          })
                      );
                    }
                    return (
                      (n = i({ onResponse: o, onRequestFailure: u })).catch(
                        function () {}
                      ),
                      c(r)
                    );
                  };
                },
                Fi = 'CORE',
                Vi = function (e) {
                  var n = e.thirdPartyCookiesEnabled,
                    t = e.areThirdPartyCookiesSupportedByDefault,
                    r = { identity: { fetch: [xi] } };
                  return (
                    n && t() && r.identity.fetch.push(Fi),
                    function (e) {
                      e.mergeQuery(r);
                    }
                  );
                },
                Hi = function (e) {
                  var n = e.thirdPartyCookiesEnabled,
                    t = e.areThirdPartyCookiesSupportedByDefault;
                  return function (e) {
                    n && t() && e.setUseIdThirdPartyDomain();
                  };
                },
                zi = function (e) {
                  var n = e.getLegacyEcid,
                    t = e.addEcidToPayload;
                  return function (e) {
                    return e.hasIdentity(xi)
                      ? Promise.resolve()
                      : n().then(function (n) {
                          n && t(e, n);
                        });
                  };
                },
                Ji = 'adobe_mc',
                Gi = function (e) {
                  try {
                    return decodeURIComponent(e);
                  } catch (e) {
                    return '';
                  }
                },
                Qi = 300,
                Wi = function (e) {
                  var n = e.locationSearch,
                    t = e.dateProvider,
                    r = e.orgId,
                    o = e.logger;
                  return function (e) {
                    if (!e.hasIdentity(xi)) {
                      var i = ye.default.parse(n)[Ji];
                      if (void 0 !== i) {
                        Array.isArray(i) &&
                          (o.warn(
                            'Found multiple adobe_mc query string paramters, only using the last one.'
                          ),
                          (i = i[i.length - 1]));
                        var c = i.split('|').reduce(function (e, n) {
                            var t = a(n.split('='), 2),
                              r = t[0],
                              o = t[1];
                            return (e[r] = o), e;
                          }, {}),
                          u = parseInt(c.TS, 10),
                          s = c.MCMID,
                          d = Gi(c.MCORGID);
                        t().getTime() / 1e3 <= u + Qi && d === r && s
                          ? (o.info(
                              'Found valid ECID identity '.concat(
                                s,
                                ' from the adobe_mc query string parameter.'
                              )
                            ),
                            e.addIdentity(xi, { id: s }))
                          : o.info(
                              'Detected invalid or expired adobe_mc query string parameter.'
                            );
                      }
                    }
                  };
                },
                Xi = function (e, n) {
                  e.addIdentity(xi, { id: n });
                },
                $i = function (e) {
                  var n = e.doesIdentityCookieExist,
                    t = e.orgId,
                    r = e.logger;
                  return function (e) {
                    var o = e.onResponse,
                      i = e.onRequestFailure;
                    return new Promise(function (e, a) {
                      o(function () {
                        n()
                          ? e()
                          : (r.warn(
                              'Identity cookie not found. This could be caused by any of the following issues:\n' +
                                '\t* The org ID '.concat(
                                  t,
                                  " configured in Alloy doesn't match the org ID specified in the edge configuration.\n"
                                ) +
                                '\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.'
                            ),
                            a(new Error('Identity cookie not found.')));
                      }),
                        i(function () {
                          n()
                            ? e()
                            : a(new Error('Identity cookie not found.'));
                        });
                    });
                  };
                },
                Yi = function (e) {
                  return e
                    .getPayloadsByType('identity:result')
                    .reduce(function (e, n) {
                      return (
                        n.namespace &&
                          n.namespace.code &&
                          (e[n.namespace.code] = n.id),
                        e
                      );
                    }, {});
                },
                Ki = function (e) {
                  var n = e.sendEdgeNetworkRequest,
                    t = e.createIdentityRequestPayload,
                    r = e.createIdentityRequest,
                    o = e.globalConfigOverrides;
                  return function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      i = e.namespaces,
                      a = e.edgeConfigOverrides,
                      c = Ho({
                        payload: t(i),
                        globalConfigOverrides: o,
                        localConfigOverrides: a,
                      }),
                      u = r(c);
                    return n({ request: u });
                  };
                },
                Zi = function (e) {
                  var n = e.payload,
                    t = e.datastreamIdOverride;
                  return qo({
                    payload: n,
                    datastreamIdOverride: t,
                    getAction: function () {
                      return 'identity/acquire';
                    },
                    getUseSendBeacon: function () {
                      return !1;
                    },
                  });
                },
                ea = function (e) {
                  var n = { query: { identity: { fetch: e } } };
                  return Bo({
                    content: n,
                    addIdentity: Lo(n),
                    hasIdentity: Fo(n),
                  });
                },
                na = /^([^?#]*)(\??[^#]*)(#?.*)$/,
                ta = function (e) {
                  return '' === e ? '?' : '?' === e ? '' : '&';
                },
                ra = function (e) {
                  var n = e.dateProvider,
                    t = e.orgId;
                  return function (e, r) {
                    var o = Math.round(n().getTime() / 1e3),
                      i = encodeURIComponent(
                        'TS='
                          .concat(o, '|MCMID=')
                          .concat(e, '|MCORGID=')
                          .concat(encodeURIComponent(t))
                      ),
                      c = a(r.match(na), 4),
                      u = c[1],
                      s = c[2],
                      d = c[3],
                      l = ta(s);
                    return ''
                      .concat(u)
                      .concat(s)
                      .concat(l, 'adobe_mc=')
                      .concat(i)
                      .concat(d);
                  };
                },
                oa = qr({
                  namespaces: Ar(Br(xi, Fi))
                    .nonEmpty()
                    .uniqueItems()
                    .default([xi]),
                  edgeConfigOverrides: Vr,
                })
                  .noUnknownFields()
                  .default({ namespaces: [xi] }),
                ia = function (e) {
                  var n = e.thirdPartyCookiesEnabled;
                  return function (e) {
                    var t = oa(e);
                    if (!n && t.namespaces.includes(Fi))
                      throw new Error(
                        'namespaces: The '.concat(
                          Fi,
                          ' namespace cannot be requested when third-party cookies are disabled.'
                        )
                      );
                    return t;
                  };
                },
                aa = function (e) {
                  var n = e.config,
                    t = e.logger,
                    r = e.consent,
                    o = e.fireReferrerHideableImage,
                    i = e.sendEdgeNetworkRequest,
                    a = e.apexDomain,
                    c = e.getBrowser,
                    u = n.orgId,
                    s = n.thirdPartyCookiesEnabled,
                    d = n.edgeConfigOverrides,
                    l = qi({ logger: t, orgId: u, awaitVisitorOptIn: _i }),
                    f = je({ logger: t, cookieJar: Re }),
                    p = ji({
                      config: n,
                      getEcidFromVisitor: l,
                      apexDomain: a,
                      cookieJar: f,
                      isPageSsl: 'https:' === window.location.protocol,
                    }),
                    g = et({ orgId: u }),
                    m = Ki({
                      sendEdgeNetworkRequest: i,
                      createIdentityRequestPayload: ea,
                      createIdentityRequest: Zi,
                      globalConfigOverrides: d,
                    }),
                    v = $n({ getBrowser: c }),
                    y = Hi({
                      thirdPartyCookiesEnabled: s,
                      areThirdPartyCookiesSupportedByDefault: v,
                    }),
                    h = zi({ getLegacyEcid: p.getEcid, addEcidToPayload: Xi }),
                    b = Wi({
                      locationSearch: window.document.location.search,
                      dateProvider: function () {
                        return new Date();
                      },
                      orgId: u,
                      logger: t,
                    }),
                    w = $i({ doesIdentityCookieExist: g, orgId: u, logger: t }),
                    E = Bi({
                      doesIdentityCookieExist: g,
                      setDomainForInitialIdentityPayload: y,
                      addLegacyEcidToPayload: h,
                      awaitIdentityCookie: w,
                      logger: t,
                    }),
                    C = Ri({ fireReferrerHideableImage: o, logger: t }),
                    I = Ui({ processIdSyncs: C }),
                    S = ra({
                      dateProvider: function () {
                        return new Date();
                      },
                      orgId: u,
                      globalConfigOverrides: d,
                    }),
                    k = ia({ thirdPartyCookiesEnabled: s }),
                    O = Vi({
                      thirdPartyCookiesEnabled: s,
                      areThirdPartyCookiesSupportedByDefault: v,
                    });
                  return Mi({
                    addEcidQueryToPayload: O,
                    addQueryStringIdentityToPayload: b,
                    ensureSingleIdentity: E,
                    setLegacyEcid: p.setEcid,
                    handleResponseForIdSyncs: I,
                    getNamespacesFromResponse: Yi,
                    getIdentity: m,
                    consent: r,
                    appendIdentityToUrl: S,
                    logger: t,
                    config: n,
                    getIdentityOptionsValidator: k,
                  });
                };
              (aa.namespace = 'Identity'), (aa.configValidators = Ni);
              var ca = '2.24.0',
                ua = function (e) {
                  var n = e.config,
                    t = e.componentRegistry,
                    r = [].concat(m(t.getCommandNames()), [vo, yo]).sort(),
                    o = l({}, n);
                  Object.keys(n).forEach(function (e) {
                    var t = n[e];
                    'function' == typeof t && (o[e] = t.toString());
                  });
                  var i = t.getComponentNames();
                  return {
                    version: ca,
                    configs: o,
                    commands: r,
                    components: i,
                  };
                },
                sa = function (e) {
                  var n = e.config,
                    t = e.componentRegistry;
                  return {
                    commands: {
                      getLibraryInfo: {
                        run: function () {
                          return {
                            libraryInfo: ua({
                              config: n,
                              componentRegistry: t,
                            }),
                          };
                        },
                      },
                    },
                  };
                };
              sa.namespace = 'LibraryInfo';
              var da,
                la = Object.freeze({
                  __proto__: null,
                  dataCollector: Di,
                  identity: aa,
                  libraryInfo: sa,
                }),
                fa = ot(window),
                pa = window,
                ga = (pa.console, pa.fetch),
                ma = pa.navigator,
                va = No(),
                ya = _n(window, Re),
                ha = xo({ fetch: ga }),
                ba = Rn(),
                wa = Wo({ window: window, createNamespacedStorage: fa }),
                Ea = tt({ userAgent: window.navigator.userAgent }),
                Ca = function (e) {
                  var n = e.instanceName,
                    t = e.logController,
                    r = t.setDebugEnabled,
                    o = t.logger,
                    i = t.createComponentLogger,
                    a = e.components,
                    c = $r(),
                    u = Wr(c),
                    s = a.concat(Object.values(la)),
                    d = function (e) {
                      r(e.enabled, { fromConfig: !1 });
                    },
                    l = je({ logger: o, cookieJar: Re }),
                    f = function (e) {
                      var t = ko({
                          options: e,
                          componentCreators: s,
                          coreConfigValidators: va,
                          createConfig: Po,
                          logger: o,
                          setDebugEnabled: r,
                        }),
                        a = t.orgId,
                        d = t.targetMigrationEnabled,
                        f = ti({ orgId: a, targetMigrationEnabled: d }),
                        p = Ko({
                          cookieJar: l,
                          shouldTransferCookie: f,
                          apexDomain: ya,
                          dateProvider: function () {
                            return new Date();
                          },
                        }),
                        g = Ze(ma.sendBeacon)
                          ? Mo({
                              sendBeacon: ma.sendBeacon.bind(ma),
                              sendFetchRequest: ha,
                              logger: o,
                            })
                          : ha,
                        m = Yr({
                          logger: o,
                          sendFetchRequest: ha,
                          sendBeaconRequest: g,
                          isRequestRetryable: yi,
                          getRequestRetryDelay: Ii,
                        }),
                        v = pi({ logger: o }),
                        y = Kr({ logger: o }),
                        h = mo({ extractEdgeInfo: y }),
                        b = gi({ orgId: a, cookieJar: Re }),
                        w = di({
                          config: t,
                          lifecycle: u,
                          cookieTransfer: p,
                          sendNetworkRequest: m,
                          createResponse: h,
                          processWarningsAndErrors: v,
                          getLocationHint: b,
                          getAssuranceValidationTokenParams: wa,
                        }),
                        E = ki({
                          lifecycle: u,
                          cookieTransfer: p,
                          createResponse: h,
                          processWarningsAndErrors: v,
                        }),
                        C = uo({ logger: o }),
                        I = so({ generalConsentState: C, logger: o }),
                        S = $o({
                          config: t,
                          logger: o,
                          lifecycle: u,
                          consent: I,
                          createEvent: fo,
                          createDataCollectionRequestPayload: Vo,
                          createDataCollectionRequest: Uo,
                          sendEdgeNetworkRequest: w,
                          applyResponse: E,
                        });
                      return Oo({
                        componentCreators: s,
                        lifecycle: u,
                        componentRegistry: c,
                        getImmediatelyAvailableTools: function (e) {
                          var r = i(e);
                          return {
                            instanceName: n,
                            config: t,
                            componentRegistry: c,
                            consent: I,
                            eventManager: S,
                            fireReferrerHideableImage: ba,
                            logger: r,
                            lifecycle: u,
                            sendEdgeNetworkRequest: w,
                            handleError: Ao({
                              errorPrefix: '['.concat(n, '] [').concat(e, ']'),
                              logger: r,
                            }),
                            createNamespacedStorage: fa,
                            apexDomain: ya,
                            getBrowser: Ea,
                          };
                        },
                      });
                    },
                    p = Ao({ errorPrefix: '['.concat(n, ']'), logger: o });
                  return ho({
                    logger: o,
                    configureCommand: f,
                    setDebugCommand: d,
                    handleError: p,
                    validateCommandOptions: wo,
                  });
                },
                Ia = function (e) {
                  var n = e.eventManager,
                    t = e.lifecycle,
                    r = e.handleError;
                  return function (e) {
                    if (e.s_fe) return Promise.resolve();
                    var o = e.target,
                      i = n.createEvent();
                    return (
                      i.documentMayUnload(),
                      t
                        .onClick({ event: i, clickedElement: o })
                        .then(function () {
                          return i.isEmpty()
                            ? Promise.resolve()
                            : n.sendEvent(i);
                        })
                        .then(ft)
                        .catch(function (e) {
                          r(e, 'click collection');
                        })
                    );
                  };
                },
                Sa = function (e) {
                  var n = e.eventManager,
                    t = e.lifecycle,
                    r = e.handleError,
                    o = Ia({ eventManager: n, lifecycle: t, handleError: r });
                  document.addEventListener('click', o, !0);
                },
                ka = Ur()
                  .regexp()
                  .default(
                    '\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$'
                  ),
                Oa = qr({
                  clickCollectionEnabled: xr().default(!0),
                  clickCollection: qr({
                    internalLinkEnabled: xr().default(!0),
                    externalLinkEnabled: xr().default(!0),
                    downloadLinkEnabled: xr().default(!0),
                    sessionStorageEnabled: xr().default(!1),
                    eventGroupingEnabled: xr().default(!1),
                    filterClickProperties: Mr(),
                  }).default({
                    internalLinkEnabled: !0,
                    externalLinkEnabled: !0,
                    downloadLinkEnabled: !0,
                    sessionStorageEnabled: !1,
                    eventGroupingEnabled: !1,
                  }),
                  downloadLinkQualifier: ka,
                  onBeforeLinkClickSend: Mr().deprecated(
                    'The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.'
                  ),
                }),
                Pa = 'cppXYctnr',
                Da = function () {
                  return (
                    null !==
                    (arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : document
                    ).getElementById(Pa)
                  );
                },
                Ta = function (e) {
                  var n = e;
                  return (
                    /^https?:\/\//i.test(n) ||
                      (n = ''.concat(window.location.protocol, '//').concat(e)),
                    new URL(n).hostname
                  );
                },
                Ra = function (e, n) {
                  return Ta(e) !== Ta(n);
                },
                Na = function (e, n) {
                  return (
                    n &&
                    (('download' === n && !e.downloadLinkEnabled) ||
                      ('exit' === n && !e.externalLinkEnabled) ||
                      ('other' === n && !e.internalLinkEnabled))
                  );
                },
                Aa = function (e) {
                  var n = e.config,
                    t = e.logger,
                    r = e.getClickedElementProperties,
                    o = e.clickActivityStorage,
                    i = n.clickCollectionEnabled,
                    a = n.clickCollection;
                  return i
                    ? function (e) {
                        var i = e.event,
                          c = e.clickedElement,
                          u = r({
                            clickActivityStorage: o,
                            clickedElement: c,
                            config: n,
                            logger: t,
                          }),
                          s = u.linkType;
                        Da() ||
                          (u.isValidLink() && Na(a, s)
                            ? t.info(
                                'Cancelling link click event due to clickCollection.'.concat(
                                  s,
                                  'LinkEnabled = false.'
                                )
                              )
                            : !u.isInternalLink() ||
                              !a.eventGroupingEnabled ||
                              (n.onBeforeLinkClickSend &&
                                !a.filterClickDetails) ||
                              Ra(window.location.hostname, u.linkUrl)
                            ? u.isValidLink()
                              ? (i.mergeXdm(u.xdm),
                                i.mergeData(u.data),
                                o.save({
                                  pageName: u.pageName,
                                  pageIDType: u.pageIDType,
                                }))
                              : u.isValidActivityMapData() &&
                                o.save(u.properties)
                            : o.save(u.properties));
                      }
                    : function () {};
                },
                xa = function (e) {
                  return {
                    eventType: 'web.webinteraction.linkClicks',
                    web: {
                      webInteraction: {
                        name: e.linkName,
                        region: e.linkRegion,
                        type: e.linkType,
                        URL: e.linkUrl,
                        linkClicks: { value: 1 },
                      },
                    },
                  };
                },
                Ma = function (e) {
                  return {
                    __adobe: {
                      analytics: {
                        contextData: {
                          a: {
                            activitymap: {
                              page: e.pageName,
                              link: e.linkName,
                              region: e.linkRegion,
                              pageIDType: e.pageIDType,
                            },
                          },
                        },
                      },
                    },
                  };
                },
                ja = function (e, n) {
                  var t = e.xdm,
                    r = e.data,
                    o = e.clickedElement;
                  if (
                    ((n.clickedElement = o), t && t.web && t.web.webInteraction)
                  ) {
                    var i = t.web.webInteraction,
                      a = i.name,
                      c = i.region,
                      u = i.type,
                      s = i.URL;
                    (n.linkName = a),
                      (n.linkRegion = c),
                      (n.linkType = u),
                      (n.linkUrl = s);
                  }
                  if (r && r.__adobe && r.__adobe.analytics) {
                    var d = r.__adobe.analytics.contextData;
                    if (d && d.a && d.a.activitymap) {
                      var l = d.a.activitymap,
                        f = l.page,
                        p = l.link,
                        g = l.region,
                        m = l.pageIDType;
                      (n.pageName = f || n.pageName),
                        (n.linkName = p || n.linkName),
                        (n.linkRegion = g || n.linkRegion),
                        void 0 !== m && (n.pageIDType = m);
                    }
                  }
                },
                _a = function () {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : {},
                    n = e.properties,
                    t = e.logger,
                    r = n || {};
                  return {
                    get pageName() {
                      return r.pageName;
                    },
                    set pageName(e) {
                      r.pageName = e;
                    },
                    get linkName() {
                      return r.linkName;
                    },
                    set linkName(e) {
                      r.linkName = e;
                    },
                    get linkRegion() {
                      return r.linkRegion;
                    },
                    set linkRegion(e) {
                      r.linkRegion = e;
                    },
                    get linkType() {
                      return r.linkType;
                    },
                    set linkType(e) {
                      r.linkType = e;
                    },
                    get linkUrl() {
                      return r.linkUrl;
                    },
                    set linkUrl(e) {
                      r.linkUrl = e;
                    },
                    get pageIDType() {
                      return r.pageIDType;
                    },
                    set pageIDType(e) {
                      r.pageIDType = e;
                    },
                    get clickedElement() {
                      return r.clickedElement;
                    },
                    set clickedElement(e) {
                      r.clickedElement = e;
                    },
                    get properties() {
                      return {
                        pageName: r.pageName,
                        linkName: r.linkName,
                        linkRegion: r.linkRegion,
                        linkType: r.linkType,
                        linkUrl: r.linkUrl,
                        pageIDType: r.pageIDType,
                      };
                    },
                    isValidLink: function () {
                      return !!(
                        r.linkUrl &&
                        r.linkType &&
                        r.linkName &&
                        r.linkRegion
                      );
                    },
                    isInternalLink: function () {
                      return this.isValidLink() && 'other' === r.linkType;
                    },
                    isValidActivityMapData: function () {
                      return (
                        !!r.pageName &&
                        !!r.linkName &&
                        !!r.linkRegion &&
                        void 0 !== r.pageIDType
                      );
                    },
                    get xdm() {
                      return r.filteredXdm ? r.filteredXdm : xa(this);
                    },
                    get data() {
                      return r.filteredData ? r.filteredData : Ma(this);
                    },
                    applyPropertyFilter: function (e) {
                      e &&
                        !1 === e(r) &&
                        (t &&
                          t.info(
                            'Clicked element properties were rejected by filter function: '.concat(
                              JSON.stringify(this.properties, null, 2)
                            )
                          ),
                        (r = {}));
                    },
                    applyOptionsFilter: function (e) {
                      var n = this.options;
                      if (n && n.clickedElement && (n.xdm || n.data)) {
                        if (e && !1 === e(n))
                          return (
                            t &&
                              t.info(
                                'Clicked element properties were rejected by filter function: '.concat(
                                  JSON.stringify(this.properties, null, 2)
                                )
                              ),
                            void (this.options = void 0)
                          );
                        (this.options = n),
                          (r.filteredXdm = n.xdm),
                          (r.filteredData = n.data);
                      }
                    },
                    get options() {
                      var e = {};
                      if (
                        (this.isValidLink() && (e.xdm = this.xdm),
                        this.isValidActivityMapData() && (e.data = this.data),
                        this.clickedElement &&
                          (e.clickedElement = this.clickedElement),
                        e.xdm || e.data)
                      )
                        return e;
                    },
                    set options(e) {
                      (r = {}), e && ja(e, r);
                    },
                  };
                },
                La = function (e) {
                  var n = e.clickActivityStorage;
                  return function (e) {
                    if (!Da()) {
                      var t = n.load(),
                        r = _a({ properties: t });
                      if (r.isValidLink() || r.isValidActivityMapData()) {
                        if (r.isValidLink()) {
                          var o = r.xdm;
                          delete o.eventType, e.mergeXdm(o);
                        }
                        r.isValidActivityMapData() && e.mergeData(r.data),
                          n.save({
                            pageName: r.pageName,
                            pageIDType: r.pageIDType,
                          });
                      }
                    }
                  };
                },
                qa = function (e) {
                  var n = e.window,
                    t = e.getLinkName,
                    r = e.getLinkRegion,
                    o = e.getAbsoluteUrlFromAnchorElement,
                    i = e.findClickableElement,
                    a = e.determineLinkType;
                  return function (e) {
                    var c = e.clickedElement,
                      u = e.config,
                      s = e.logger,
                      d = e.clickActivityStorage,
                      l = u.onBeforeLinkClickSend,
                      f = u.clickCollection.filterClickDetails,
                      p = _a({ logger: s });
                    if (c) {
                      var g = i(c);
                      if (g) {
                        (p.clickedElement = c),
                          (p.linkUrl = o(n, g)),
                          (p.linkType = a(n, u, p.linkUrl, g)),
                          (p.linkRegion = r(g)),
                          (p.linkName = t(g)),
                          (p.pageIDType = 0),
                          (p.pageName = n.location.href);
                        var m = d.load();
                        m &&
                          m.pageName &&
                          ((p.pageName = m.pageName), (p.pageIDType = 1)),
                          f
                            ? p.applyPropertyFilter(f)
                            : l && p.applyOptionsFilter(l);
                      }
                    }
                    return p;
                  };
                },
                Ua = 'clickData',
                Ba = function (e) {
                  var n = e.storage;
                  return {
                    save: function (e) {
                      var t = JSON.stringify(e);
                      n.setItem(Ua, t);
                    },
                    load: function () {
                      var e = null,
                        t = n.getItem(Ua);
                      return t && (e = JSON.parse(t)), e;
                    },
                    remove: function () {
                      n.removeItem(Ua);
                    },
                  };
                },
                Fa = function (e) {
                  var n = e.clickActivityStorage;
                  return function (e) {
                    n.save({
                      pageName: e.getContent().xdm.web.webPageDetails.name,
                      pageIDType: 1,
                    });
                  };
                },
                Va = function (e) {
                  return e && e.replace(/\s+/g, ' ').trim();
                },
                Ha = /^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,
                za = function (e) {
                  return !(e && e.nodeName && e.nodeName.match(Ha));
                },
                Ja = function (e) {
                  var n = [],
                    t = !1;
                  return (
                    za(e)
                      ? (n.push(e),
                        e.childNodes &&
                          Array.prototype.slice
                            .call(e.childNodes)
                            .forEach(function (e) {
                              var r = Ja(e);
                              (n = n.concat(r.supportedNodes)),
                                (t = t || r.includesUnsupportedNodes);
                            }))
                      : (t = !0),
                    { supportedNodes: n, includesUnsupportedNodes: t }
                  );
                },
                Ga = function (e, n, t) {
                  var r;
                  return (
                    (t && t !== e.nodeName.toUpperCase()) ||
                      (r = e.getAttribute(n)),
                    r
                  );
                },
                Qa = function (e) {
                  var n = { texts: [] };
                  return (
                    e.supportedNodes.forEach(function (e) {
                      e.getAttribute &&
                        (n.alt || (n.alt = Va(e.getAttribute('alt'))),
                        n.title || (n.title = Va(e.getAttribute('title'))),
                        n.inputValue ||
                          (n.inputValue = Va(Ga(e, 'value', 'INPUT'))),
                        n.imgSrc || (n.imgSrc = Va(Ga(e, 'src', 'IMG')))),
                        e.nodeValue && n.texts.push(e.nodeValue);
                    }),
                    n
                  );
                },
                Wa = /^(HEADER|MAIN|FOOTER|NAV)$/i,
                Xa = function (e) {
                  var n;
                  return (
                    'region' === e.role &&
                      lt(e['aria-label']) &&
                      (n = e['aria-label']),
                    n
                  );
                },
                $a = function (e) {
                  var n;
                  return (
                    e && e.nodeName && e.nodeName.match(Wa) && (n = e.nodeName),
                    n
                  );
                },
                Ya = function (e) {
                  return !!e && /^[a-z0-9]+:\/\//i.test(e);
                },
                Ka = function (e) {
                  return !(
                    !e.href ||
                    ('A' !== e.tagName && 'AREA' !== e.tagName) ||
                    (e.onclick &&
                      e.protocol &&
                      !(e.protocol.toLowerCase().indexOf('javascript') < 0))
                  );
                },
                Za = function (e) {
                  return !!e && !!e.onclick;
                },
                ec = function (e) {
                  if ('INPUT' === e.tagName) {
                    var n = e.getAttribute('type');
                    if ('submit' === n) return !0;
                    if ('image' === n && e.src) return !0;
                  }
                  return !1;
                },
                nc = function (e) {
                  return 'BUTTON' === e.tagName && 'submit' === e.type;
                },
                tc = function (e) {
                  var n = e.indexOf('?'),
                    t = e.indexOf('#');
                  return n >= 0 && (n < t || t < 0)
                    ? e.substring(0, n)
                    : t >= 0
                    ? e.substring(0, t)
                    : e;
                },
                rc = function (e, n, t) {
                  var r = !1;
                  if (n)
                    if (t && t.download) r = !0;
                    else if (e) {
                      var o = new RegExp(e),
                        i = tc(n).toLowerCase();
                      r = o.test(i);
                    }
                  return r;
                },
                oc = function (e, n) {
                  var t = !1;
                  if (n && e.location.hostname) {
                    var r = e.location.hostname.toLowerCase();
                    t = tc(n).toLowerCase().indexOf(r) < 0;
                  }
                  return t;
                },
                ic = function (e) {
                  var n = e.getContent();
                  return (
                    void 0 !== n.xdm &&
                    void 0 !== n.xdm.web &&
                    void 0 !== n.xdm.web.webPageDetails &&
                    void 0 !== n.xdm.web.webPageDetails.name
                  );
                },
                ac = function () {
                  var e = {};
                  return {
                    getItem: function (n) {
                      return e[n];
                    },
                    setItem: function (n, t) {
                      e[n] = t;
                    },
                    removeItem: function (n) {
                      delete e[n];
                    },
                  };
                },
                cc = qa({
                  window: window,
                  getLinkName: function (e) {
                    var n = Va(e.innerText || e.textContent),
                      t = Ja(e);
                    if (!n || t.includesUnsupportedNodes) {
                      var r = Qa(t);
                      (n = Va(r.texts.join(''))) ||
                        (n = r.alt || r.title || r.inputValue || r.imgSrc);
                    }
                    return n || '';
                  },
                  getLinkRegion: function (e) {
                    for (var n, t = e.parentNode; t; ) {
                      if ((n = Va(t.id || Xa(t) || $a(t)))) return n;
                      t = t.parentNode;
                    }
                    return 'BODY';
                  },
                  getAbsoluteUrlFromAnchorElement: function (e, n) {
                    var t = e.location,
                      r = n.href || '';
                    'string' != typeof r && (r = '');
                    var o = n.protocol,
                      i = n.host;
                    if (r && !Ya(r)) {
                      o || (o = t.protocol ? t.protocol : ''),
                        (o = o ? ''.concat(o, '//') : ''),
                        i || (i = t.host ? t.host : '');
                      var a = '';
                      if ('/' !== r.substring(0, 1)) {
                        var c = t.pathname.lastIndexOf('/');
                        (c = c < 0 ? 0 : c), (a = t.pathname.substring(0, c));
                      }
                      r = ''.concat(o).concat(i).concat(a, '/').concat(r);
                    }
                    return r;
                  },
                  findClickableElement: function (e) {
                    for (var n = e; n; ) {
                      if (Ka(n) || Za(n) || ec(n) || nc(n)) return n;
                      n = n.parentNode;
                    }
                    return null;
                  },
                  determineLinkType: function (e, n, t, r) {
                    var o = 'other';
                    return (
                      lt(t) &&
                        (rc(n.downloadLinkQualifier, t, r)
                          ? (o = 'download')
                          : oc(e, t) && (o = 'exit')),
                      o
                    );
                  },
                }),
                uc = function (e) {
                  if (!da) {
                    var n = ot(window)(e.orgId || ''),
                      t = ac(),
                      r = e.clickCollection.sessionStorageEnabled
                        ? n.session
                        : t;
                    da = Ba({ storage: r });
                  }
                },
                sc = function (e) {
                  var n = e.config,
                    t = e.eventManager,
                    r = e.handleError,
                    o = e.logger,
                    i = n.clickCollection;
                  da || uc(n);
                  var a = Aa({
                      config: n,
                      logger: o,
                      clickActivityStorage: da,
                      getClickedElementProperties: cc,
                    }),
                    c = La({ clickActivityStorage: da }),
                    u = Fa({ clickActivityStorage: da });
                  return {
                    lifecycle: {
                      onComponentsRegistered: function (e) {
                        var n = e.lifecycle;
                        Sa({ eventManager: t, lifecycle: n, handleError: r });
                      },
                      onClick: function (e) {
                        var n = e.event,
                          t = e.clickedElement;
                        a({ event: n, clickedElement: t });
                      },
                      onBeforeEvent: function (e) {
                        var n = e.event;
                        ic(n) && (i.eventGroupingEnabled && c(n), u(n, o, da));
                      },
                    },
                  };
                };
              (sc.namespace = 'ActivityCollector'),
                (sc.configValidators = Oa),
                (sc.buildOnInstanceConfiguredExtraParams = function (e) {
                  var n = e.config,
                    t = e.logger;
                  return (
                    da || uc(n),
                    {
                      getLinkDetails: function (e) {
                        return cc({
                          clickActivityStorage: da,
                          clickedElement: e,
                          config: n,
                          logger: t,
                        }).properties;
                      },
                    }
                  );
                });
              var dc = function (e) {
                  return 'URL destination '.concat(
                    'succeeded',
                    ': ',
                    e.spec.url
                  );
                },
                lc = function (e) {
                  var n = e.fireReferrerHideableImage,
                    t = e.logger,
                    r = e.cookieJar,
                    o = e.isPageSsl ? { sameSite: 'none', secure: !0 } : {},
                    i = function (e) {
                      e.filter(function (e) {
                        return 'cookie' === e.type;
                      }).forEach(function (e) {
                        var n = e.spec,
                          t = n.name,
                          i = n.value,
                          a = n.domain,
                          c = n.ttlDays;
                        r.set(
                          t,
                          i || '',
                          l({ domain: a || '', expires: c || 10 }, o)
                        );
                      });
                    },
                    a = function (e) {
                      var r = e.filter(function (e) {
                        return 'url' === e.type;
                      });
                      return Promise.all(
                        r.map(function (e) {
                          return n(e.spec)
                            .then(function () {
                              t.info(dc(e));
                            })
                            .catch(function () {});
                        })
                      ).then(ft);
                    };
                  return function (e) {
                    return i(e), a(e);
                  };
                },
                fc = function (e) {
                  var n = e.processDestinations,
                    t = function (e) {
                      var t = e.response.getPayloadsByType('activation:push');
                      return n(t);
                    },
                    r = function (e) {
                      return {
                        destinations:
                          e.response.getPayloadsByType('activation:pull'),
                      };
                    };
                  return function (e) {
                    var n = e.response;
                    return t({ response: n }).then(function () {
                      return r({ response: n });
                    });
                  };
                },
                pc = function (e) {
                  var n = e.logger,
                    t = e.fireReferrerHideableImage,
                    r = Re.withConverter({
                      write: function (e) {
                        return encodeURIComponent(e);
                      },
                    }),
                    o = je({ logger: n, cookieJar: r }),
                    i = lc({
                      fireReferrerHideableImage: t,
                      logger: n,
                      cookieJar: o,
                      isPageSsl: 'https:' === window.location.protocol,
                    });
                  return {
                    lifecycle: { onResponse: fc({ processDestinations: i }) },
                    commands: {},
                  };
                };
              pc.namespace = 'Audiences';
              var gc = function (e) {
                  return function (n) {
                    var t = {
                      webPageDetails: { URL: e.location.href || e.location },
                      webReferrer: { URL: e.document.referrer },
                    };
                    Ae(n, { web: t });
                  };
                },
                mc = function (e) {
                  var n = e.screen.orientation;
                  if (null == n || null == n.type) return null;
                  var t = n.type.split('-');
                  return 0 === t.length ||
                    ('portrait' !== t[0] && 'landscape' !== t[0])
                    ? null
                    : t[0];
                },
                vc = function (e) {
                  if (Ze(e.matchMedia)) {
                    if (e.matchMedia('(orientation: portrait)').matches)
                      return 'portrait';
                    if (e.matchMedia('(orientation: landscape)').matches)
                      return 'landscape';
                  }
                  return null;
                },
                yc = function (e) {
                  return function (n) {
                    var t = e.screen,
                      r = t.width,
                      o = t.height,
                      i = {},
                      a = Et(o);
                    a >= 0 && (i.screenHeight = a);
                    var c = Et(r);
                    c >= 0 && (i.screenWidth = c);
                    var u = mc(e) || vc(e);
                    u && (i.screenOrientation = u),
                      Object.keys(i).length > 0 && Ae(n, { device: i });
                  };
                },
                hc = function (e) {
                  return function (n) {
                    var t = e.document.documentElement,
                      r = void 0 === t ? {} : t,
                      o = r.clientWidth,
                      i = r.clientHeight,
                      a = { type: 'browser' },
                      c = Et(o);
                    c >= 0 && (a.browserDetails = { viewportWidth: c });
                    var u = Et(i);
                    u >= 0 &&
                      ((a.browserDetails = a.browserDetails || {}),
                      (a.browserDetails.viewportHeight = u)),
                      Ae(n, { environment: a });
                  };
                },
                bc = function (e) {
                  return function (n) {
                    var t = e(),
                      r = {},
                      o = Et(t.getTimezoneOffset());
                    void 0 !== o && (r.localTimezoneOffset = o),
                      (void 0 === o || Math.abs(o) < 6e3) &&
                        (r.localTime = It(t)),
                      Ae(n, { placeContext: r });
                  };
                },
                wc = function (e) {
                  return function (n) {
                    var t = e().toISOString();
                    Ae(n, { timestamp: t });
                  };
                },
                Ec = 'https://ns.adobe.com/experience/alloy',
                Cc = function (e) {
                  var n = { name: Ec, version: ca, environment: 'browser' };
                  Ae(e, { implementationDetails: n });
                },
                Ic = function (e, n, t, r) {
                  var o = e.context
                    .flatMap(function (e, r) {
                      return t[e]
                        ? [t[e]]
                        : (n.warn(
                            'Invalid context['
                              .concat(r, "]: '")
                              .concat(e, "' is not available.")
                          ),
                          []);
                    })
                    .concat(r);
                  return {
                    namespace: 'Context',
                    lifecycle: {
                      onBeforeEvent: function (e) {
                        var t = e.event,
                          r = {};
                        return Promise.all(
                          o.map(function (e) {
                            return Promise.resolve(e(r, n));
                          })
                        ).then(function () {
                          return t.mergeXdm(r);
                        });
                      },
                    },
                  };
                },
                Sc = [
                  ['architecture', 'string'],
                  ['bitness', 'string'],
                  ['model', 'string'],
                  ['platformVersion', 'string'],
                  ['wow64', 'boolean'],
                ],
                kc = function (e) {
                  return void 0 !== e.userAgentData;
                },
                Oc = function (e) {
                  return kc(e)
                    ? function (n, t) {
                        try {
                          return e.userAgentData
                            .getHighEntropyValues(
                              Sc.map(function (e) {
                                return e[0];
                              })
                            )
                            .then(function (e) {
                              var t = {};
                              Sc.forEach(function (n) {
                                var r = a(n, 2),
                                  o = r[0],
                                  i = r[1];
                                Object.prototype.hasOwnProperty.call(e, o) &&
                                  E(e[o]) === i &&
                                  (t[o] = e[o]);
                              }),
                                Ae(n, {
                                  environment: {
                                    browserDetails: { userAgentClientHints: t },
                                  },
                                });
                            });
                        } catch (e) {
                          return (
                            t.warn(
                              'Unable to collect user-agent client hints. '.concat(
                                e.message
                              )
                            ),
                            ft
                          );
                        }
                      }
                    : ft;
                },
                Pc = gc(window),
                Dc = yc(window),
                Tc = hc(window),
                Rc = bc(function () {
                  return new Date();
                }),
                Nc = wc(function () {
                  return new Date();
                }),
                Ac = { web: Pc, device: Dc, environment: Tc, placeContext: Rc },
                xc = { highEntropyUserAgentHints: Oc(navigator) },
                Mc = l(l({}, Ac), xc),
                jc = [Nc, Cc],
                _c = function (e) {
                  var n = e.config,
                    t = e.logger;
                  return Ic(n, t, Mc, jc);
                };
              (_c.namespace = 'Context'),
                (_c.configValidators = qr({
                  context: Ar(Ur()).default(Object.keys(Ac)),
                }));
              var Lc = 'personalization:decisions',
                qc = function (e) {
                  return (
                    null !== e &&
                    'object' === E(e) &&
                    Object.getPrototypeOf(e) === Object.prototype
                  );
                },
                Uc = function (e) {
                  var n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : {},
                    t =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : [];
                  return (
                    Object.keys(e).forEach(function (r) {
                      qc(e[r]) || Array.isArray(e[r])
                        ? Uc(e[r], n, [].concat(m(t), [r]))
                        : (n[[].concat(m(t), [r]).join('.')] = e[r]);
                    }),
                    n
                  );
                },
                Bc = function (e) {
                  return qc(e) ? Uc(e) : e;
                },
                Fc = function (e) {
                  var n = e.renderDecisions,
                    t = e.decisionProvider,
                    r = e.applyResponse,
                    o = e.event,
                    i = e.personalization,
                    a = e.decisionContext,
                    c = l(l({}, Bc(o.getContent())), a);
                  return function (e) {
                    var a = e.response;
                    if ((t.addPayloads(a.getPayloadsByType(Lc)), !o.hasQuery()))
                      return { propositions: [] };
                    var u = t.evaluate(c);
                    return r({
                      renderDecisions: n,
                      propositions: u,
                      event: o,
                      personalization: i,
                    });
                  };
                },
                Vc = {
                  MATCHER: 'matcher',
                  GROUP: 'group',
                  HISTORICAL: 'historical',
                },
                Hc = {
                  EQUALS: 'eq',
                  NOT_EQUALS: 'ne',
                  EXISTS: 'ex',
                  NOT_EXISTS: 'nx',
                  GREATER_THAN: 'gt',
                  GREATER_THAN_OR_EQUAL_TO: 'ge',
                  LESS_THAN: 'lt',
                  LESS_THAN_OR_EQUAL_TO: 'le',
                  CONTAINS: 'co',
                  NOT_CONTAINS: 'nc',
                  STARTS_WITH: 'sw',
                  ENDS_WITH: 'ew',
                },
                zc = { AND: 'and', OR: 'or' },
                Jc = { ANY: 'any', ORDERED: 'ordered' },
                Gc =
                  (f(
                    f(
                      f(
                        f(
                          f(
                            f(
                              f(
                                f(
                                  f(
                                    f((pe = {}), Hc.EQUALS, R()),
                                    Hc.NOT_EQUALS,
                                    N()
                                  ),
                                  Hc.EXISTS,
                                  A()
                                ),
                                Hc.NOT_EXISTS,
                                x()
                              ),
                              Hc.GREATER_THAN,
                              j()
                            ),
                            Hc.GREATER_THAN_OR_EQUAL_TO,
                            _()
                          ),
                          Hc.LESS_THAN,
                          L()
                        ),
                        Hc.LESS_THAN_OR_EQUAL_TO,
                        q()
                      ),
                      Hc.CONTAINS,
                      U()
                    ),
                    Hc.NOT_CONTAINS,
                    B()
                  ),
                  f(f(pe, Hc.STARTS_WITH, F()), Hc.ENDS_WITH, V())),
                Qc = ['iam.eventType', 'eventType', 'type'],
                Wc = ['iam.id', 'id'],
                Xc =
                  'https://ns.adobe.com/personalization/default-content-item',
                $c = 'https://ns.adobe.com/personalization/dom-action',
                Yc = 'https://ns.adobe.com/personalization/html-content-item',
                Kc = 'https://ns.adobe.com/personalization/json-content-item',
                Zc = 'https://ns.adobe.com/personalization/ruleset-item',
                eu = 'https://ns.adobe.com/personalization/redirect-item',
                nu = 'https://ns.adobe.com/personalization/message/in-app',
                tu =
                  'https://ns.adobe.com/personalization/message/content-card',
                ru = 'decisioning.propositionDisplay',
                ou = 'decisioning.propositionInteract',
                iu = 'decisioning.propositionTrigger',
                au = 'decisioning.propositionDismiss',
                cu = 'decisioning.propositionSuppressDisplay',
                uu = 1,
                su = function (e, n) {
                  return function (t) {
                    var r = e.getItem(n);
                    if (!r) return t;
                    try {
                      return JSON.parse(r);
                    } catch (e) {
                      return t;
                    }
                  };
                },
                du = function (e, n) {
                  var t =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : function (e) {
                          return e;
                        };
                  return function (r) {
                    e.setItem(n, JSON.stringify(t(r)));
                  };
                },
                lu = function (e) {
                  var n = new Date();
                  return n.setDate(n.getDate() - e), n;
                },
                fu = function (e) {
                  var n = e.scopeDetails,
                    t = (void 0 === n ? {} : n).activity;
                  return (void 0 === t ? {} : t).id;
                },
                pu = function () {
                  var e = {};
                  return {
                    getItem: function (n) {
                      return n in e ? e[n] : null;
                    },
                    setItem: function (n, t) {
                      e[n] = t;
                    },
                  };
                },
                gu = function (e) {
                  e.clear();
                },
                mu = function () {
                  var e = (
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {}
                  )._experience;
                  return !(!e || 'object' !== E(e));
                },
                vu = function (e) {
                  var n = e.scopeDetails;
                  return (void 0 === n ? {} : n).decisionProvider;
                },
                yu = function () {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : [],
                    n = [];
                  return Array.isArray(e)
                    ? (e.forEach(function (e) {
                        Array.isArray(e)
                          ? n.push.apply(n, m(yu(e)))
                          : n.push(e);
                      }),
                      n)
                    : e;
                },
                hu = 'text/html',
                bu = 'application/json',
                wu = function (e, n, t) {
                  return { schema: t.schema, data: t.data, id: t.id || e };
                },
                Eu = 'schema',
                Cu = f(
                  f({}, 'cjmiam', function (e, n, t) {
                    var r = t.html,
                      o = t.mobileParameters;
                    return {
                      schema: nu,
                      data: {
                        mobileParameters: o,
                        webParameters: {},
                        content: r,
                        contentType: hu,
                      },
                      id: e,
                    };
                  }),
                  Eu,
                  wu
                ),
                Iu = function () {
                  return function (e) {
                    var n = e.id,
                      t = e.type,
                      r = e.detail;
                    return 'function' == typeof Cu[t] ? Cu[t](n, t, r) : r;
                  };
                },
                Su = function (e) {
                  var n = e.schema,
                    t = e.data;
                  if (n === Zc) return !0;
                  if (n !== Kc) return !1;
                  try {
                    var r =
                      'string' == typeof t.content
                        ? JSON.parse(t.content)
                        : t.content;
                    return (
                      r &&
                      Object.prototype.hasOwnProperty.call(r, 'version') &&
                      Object.prototype.hasOwnProperty.call(r, 'rules')
                    );
                  } catch (e) {
                    return !1;
                  }
                },
                ku = function (e, n, t) {
                  var r,
                    o = Iu(),
                    i = fu(e),
                    a = [],
                    c = function (e) {
                      var n = e.data,
                        t = void 0 === n ? {} : n,
                        r = e.schema === Zc ? t : t.content;
                      r && a.push(fe('string' == typeof r ? JSON.parse(r) : r));
                    },
                    u = function (r) {
                      var c = n.getEvent(ru, i),
                        u = c ? c.firstTimestamp : void 0,
                        s = yu(
                          a.map(function (e) {
                            return e.execute(r);
                          })
                        )
                          .map(o)
                          .map(function (e) {
                            var n = (t.recordQualified(i) || {}).firstTimestamp;
                            return l(
                              l({}, e),
                              {},
                              {
                                data: l(
                                  l({}, e.data),
                                  {},
                                  { qualifiedDate: n, displayedDate: u }
                                ),
                              }
                            );
                          });
                      return l(l({}, e), {}, { items: s });
                    };
                  return (
                    Array.isArray(e.items) && e.items.filter(Su).forEach(c),
                    {
                      rank:
                        (null == e ||
                        null === (r = e.scopeDetails) ||
                        void 0 === r
                          ? void 0
                          : r.rank) || 1 / 0,
                      evaluate: u,
                      isEvaluable: a.length > 0,
                    }
                  );
                },
                Ou = {
                  DISPLAY: 'display',
                  INTERACT: 'interact',
                  TRIGGER: 'trigger',
                  DISMISS: 'dismiss',
                  SUPPRESS: 'suppressDisplay',
                },
                Pu = f(
                  f(
                    f(
                      f(f({}, ru, Ou.DISPLAY), ou, Ou.INTERACT),
                      iu,
                      Ou.TRIGGER
                    ),
                    au,
                    Ou.DISMISS
                  ),
                  cu,
                  Ou.SUPPRESS
                ),
                Du = f(
                  f(
                    f(
                      f(f({}, Ou.DISPLAY, ru), Ou.INTERACT, ou),
                      Ou.TRIGGER,
                      iu
                    ),
                    Ou.DISMISS,
                    au
                  ),
                  Ou.SUPPRESS,
                  cu
                ),
                Tu = function (e) {
                  return Pu[e];
                },
                Ru = function (e) {
                  return Du[e];
                },
                Nu = function (e) {
                  var n = e.eventRegistry;
                  return {
                    recordQualified: function (e) {
                      if (e) return n.addEvent({}, Ou.TRIGGER, e);
                    },
                  };
                },
                Au = function (e) {
                  var n = e.eventRegistry,
                    t = {},
                    r = Nu({ eventRegistry: n }),
                    o = function (e) {
                      var o = fu(e);
                      if (o) {
                        var i = ku(e, n, r);
                        i.isEvaluable && (t[o] = i);
                      }
                    },
                    i = function () {
                      var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {};
                      return Object.values(t)
                        .sort(function (e, n) {
                          return e.rank - n.rank;
                        })
                        .map(function (n) {
                          return n.evaluate(e);
                        })
                        .filter(function (e) {
                          return e.items.length > 0;
                        });
                    };
                  return {
                    addPayload: o,
                    addPayloads: function (e) {
                      e.forEach(o);
                    },
                    evaluate: i,
                  };
                },
                xu = function (e) {
                  return function (n) {
                    var t = n.renderDecisions,
                      r = void 0 !== t && t,
                      o = n.propositions,
                      i = void 0 === o ? [] : o,
                      a = n.event,
                      c = n.personalization;
                    return (
                      e &&
                        e.onDecision({
                          renderDecisions: r,
                          propositions: i,
                          event: a,
                          personalization: c,
                        }),
                      { propositions: i }
                    );
                  };
                },
                Mu = 'AJO',
                ju = 'TGT',
                _u = 'events',
                Lu = 1e3,
                qu = 30,
                Uu = function (e) {
                  return 'iam.'.concat(e);
                },
                Bu = function () {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : Lu,
                    n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : qu;
                  return function (t) {
                    var r = {};
                    return (
                      Object.keys(t).forEach(function (o) {
                        (r[o] = {}),
                          Object.values(t[o])
                            .filter(function (e) {
                              return new Date(e.firstTimestamp) >= lu(n);
                            })
                            .sort(function (e, n) {
                              return e.firstTimestamp - n.firstTimestamp;
                            })
                            .slice(-1 * e)
                            .forEach(function (e) {
                              r[o][e.event[Uu('id')]] = e;
                            });
                      }),
                      r
                    );
                  };
                },
                Fu = function (e) {
                  var n,
                    t,
                    r,
                    o = e.storage,
                    i = o,
                    a = function (e) {
                      (n = su((i = e), _u)),
                        (t = du(i, _u, Bu(Lu, qu))),
                        (r = n({}));
                    };
                  a(o);
                  var c = function (e, n, o, i) {
                    if (n && o) {
                      r[n] || (r[n] = {});
                      var a = r[n][o],
                        c = a ? a.count : 0,
                        u = new Date().getTime(),
                        s = a ? a.firstTimestamp || a.timestamp : u;
                      return (
                        (r[n][o] = {
                          event: l(
                            l({}, e),
                            {},
                            f(
                              f(f({}, Uu('id'), o), Uu('eventType'), n),
                              Uu('action'),
                              i
                            )
                          ),
                          firstTimestamp: s,
                          timestamp: u,
                          count: c + 1,
                        }),
                        t(r),
                        r[n][o]
                      );
                    }
                  };
                  return {
                    addExperienceEdgeEvent: function (e) {
                      var n = e.getContent().xdm,
                        t = void 0 === n ? {} : n,
                        r = t._experience;
                      if (mu(t)) {
                        var o = r.decisioning,
                          i = void 0 === o ? {} : o,
                          a = i.propositionEventType,
                          u = void 0 === a ? {} : a,
                          s = i.propositionAction,
                          d = void 0 === s ? {} : s,
                          l = i.propositions,
                          f = void 0 === l ? [] : l,
                          p = Object.keys(u);
                        if (0 !== p.length) {
                          var g = function (e) {
                              return u[e] === uu;
                            },
                            m = d.id;
                          p.filter(g).forEach(function (e) {
                            f.forEach(function (n) {
                              vu(n) === Mu && c({}, e, fu(n), m);
                            });
                          });
                        }
                      }
                    },
                    addEvent: c,
                    getEvent: function (e, n) {
                      if (r[e]) return r[e][n];
                    },
                    toJSON: function () {
                      return r;
                    },
                    setStorage: a,
                  };
                },
                Vu = function (e) {
                  var n = e.eventRegistry,
                    t = e.window,
                    r = e.getBrowser,
                    o = new Date().getTime(),
                    i = function () {
                      return l({ title: t.title, url: t.url }, mt(t.url));
                    },
                    a = function () {
                      return l({ url: t.referrer }, mt(t.referrer));
                    },
                    c = function () {
                      var e = new Date(),
                        n = e.getTime();
                      return {
                        pageLoadTimestamp: o,
                        currentTimestamp: n,
                        currentDate: e.getDate(),
                        '~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek':
                          e.getDay() + 1,
                        '~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday':
                          e.getHours(),
                        currentMinute: e.getMinutes(),
                        currentMonth: e.getMonth(),
                        currentYear: e.getFullYear(),
                        pageVisitDuration: n - o,
                        '~timestampu': n / 1e3,
                        '~timestampz': e.toISOString(),
                      };
                    },
                    u = function () {
                      return {
                        height: t.height,
                        width: t.width,
                        scrollY: t.scrollY,
                        scrollX: t.scrollX,
                      };
                    },
                    s = {
                      browser: { name: r() },
                      page: i(),
                      referringPage: a(),
                    },
                    d = function () {
                      return l(
                        l(l({}, s), c()),
                        {},
                        { window: u(), '~sdkver': ca }
                      );
                    },
                    f = function () {
                      var e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : {},
                        t = l(l({}, d()), e);
                      return l(l({}, Bc(t)), {}, { events: n.toJSON() });
                    };
                  return { getContext: f };
                },
                Hu = function () {
                  for (
                    var e = arguments.length,
                      n = new Array(e > 1 ? e - 1 : 0),
                      t = 1;
                    t < e;
                    t++
                  )
                    n[t - 1] = arguments[t];
                  return n;
                },
                zu = function () {
                  return !0;
                },
                Ju = function () {
                  var e = Hu,
                    n = zu,
                    t = 0,
                    r = {},
                    o = function (e) {
                      return function () {
                        delete r[e];
                      };
                    },
                    i = function (e) {
                      var n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : void 0;
                      return 'function' != typeof e
                        ? function () {}
                        : ((r[(t += 1)] = { callback: e, params: n }),
                          { id: t, unsubscribe: o(t) });
                    },
                    a = function () {
                      for (
                        var t = arguments.length, o = new Array(t), i = 0;
                        i < t;
                        i++
                      )
                        o[i] = arguments[i];
                      Object.values(r).forEach(function (t) {
                        var r = t.callback,
                          i = t.params,
                          a = e.apply(void 0, [i].concat(o));
                        n.apply(void 0, [i].concat(m(a))) &&
                          r.apply(void 0, m(a));
                      });
                    },
                    c = function (t) {
                      if (t && r[t]) {
                        for (
                          var o = r[t],
                            i = o.callback,
                            a = o.params,
                            c = arguments.length,
                            u = new Array(c > 1 ? c - 1 : 0),
                            s = 1;
                          s < c;
                          s++
                        )
                          u[s - 1] = arguments[s];
                        var d = e.apply(void 0, [a].concat(u));
                        n.apply(void 0, [a].concat(m(d))) &&
                          i.apply(void 0, m(d));
                      }
                    };
                  return {
                    add: i,
                    emit: a,
                    emitOne: c,
                    hasSubscriptions: function () {
                      return Object.keys(r).length > 0;
                    },
                    setEmissionPreprocessor: function (n) {
                      'function' == typeof n && (e = n);
                    },
                    setEmissionCondition: function (e) {
                      'function' == typeof e && (n = e);
                    },
                  };
                },
                Gu = function (e) {
                  var n = e.options;
                  return qr({
                    surfaces: Ar(Ur()).uniqueItems(),
                    schemas: Ar(Ur()).uniqueItems(),
                    callback: Mr().required(),
                  }).noUnknownFields()(n);
                },
                Qu = function (e) {
                  return {
                    id: e.id,
                    scope: e.scope,
                    scopeDetails: e.scopeDetails,
                  };
                },
                Wu = function (e) {
                  var n = e.collect,
                    t = function () {},
                    r = new Set(),
                    o = function (e) {
                      return [Ou.INTERACT, Ou.DISMISS].includes(e);
                    },
                    i = function (e, n, t) {
                      var i = [e, n].join('-'),
                        a = !t.has(i) && (o(e) || !r.has(i));
                      return t.add(i), r.add(i), a;
                    },
                    a = function (e) {
                      var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : [];
                      if (!(t instanceof Array)) return Promise.resolve();
                      if (!Object.values(Ou).includes(e))
                        return Promise.resolve();
                      var r = [],
                        o = new Set();
                      return (
                        t.forEach(function (n) {
                          var t = Qu(n);
                          i(e, t.id, o) && r.push(t);
                        }),
                        r.length > 0
                          ? n({
                              decisionsMeta: r,
                              eventType: Ru(e),
                              documentMayUnload: !0,
                            })
                          : Promise.resolve()
                      );
                    },
                    c = Ju(),
                    u = function (e, n) {
                      var t = e.surfacesFilter,
                        r = e.schemasFilter;
                      return [
                        {
                          propositions: n
                            .filter(function (e) {
                              return !t || t.includes(e.scope);
                            })
                            .map(function (e) {
                              var n = e.items,
                                t = void 0 === n ? [] : n;
                              return l(
                                l({}, e),
                                {},
                                {
                                  items: t.filter(function (e) {
                                    return !r || r.includes(e.schema);
                                  }),
                                }
                              );
                            })
                            .filter(function (e) {
                              return e.items.length > 0;
                            }),
                        },
                        a,
                      ];
                    };
                  c.setEmissionPreprocessor(u);
                  var s = function (e) {
                    var n = e.surfaces,
                      r = e.schemas,
                      o = e.callback,
                      i = c.add(o, {
                        surfacesFilter: n instanceof Array ? n : void 0,
                        schemasFilter: r instanceof Array ? r : void 0,
                      }),
                      a = i.id,
                      u = i.unsubscribe;
                    return t(a), Promise.resolve({ unsubscribe: u });
                  };
                  return {
                    refresh: function (e) {
                      (t = function (n) {
                        n ? c.emitOne(n, e) : c.emit(e);
                      })();
                    },
                    command: {
                      optionsValidator: function (e) {
                        return Gu({ options: e });
                      },
                      run: s,
                    },
                  };
                },
                Xu = { TYPE: '~type', SOURCE: '~source' },
                $u = {
                  LIFECYCLE: 'com.adobe.eventType.lifecycle',
                  TRACK: 'com.adobe.eventType.generic.track',
                  EDGE: 'com.adobe.eventType.edge',
                  RULES_ENGINE: 'com.adobe.eventType.rulesEngine',
                },
                Yu = {
                  LAUNCH: 'com.adobe.eventSource.applicationLaunch',
                  REQUEST: 'com.adobe.eventSource.requestContent',
                },
                Ku = function (e) {
                  var n = e.options;
                  return qr({
                    renderDecisions: xr(),
                    personalization: qr({ decisionContext: qr({}) }),
                  }).noUnknownFields()(n);
                },
                Zu = function (e) {
                  var n = e.contextProvider,
                    t = e.decisionProvider;
                  return {
                    optionsValidator: function (e) {
                      return Ku({
                        options: e,
                      });
                    },
                    run: function (e) {
                      var r = e.renderDecisions,
                        o = e.decisionContext;
                      return (0, e.applyResponse)({
                        renderDecisions: r,
                        propositions: t.evaluate(n.getContext(o)),
                      });
                    },
                  };
                },
                es = function (e) {
                  var n = e.eventManager,
                    t = e.mergeDecisionsMeta;
                  return function (e) {
                    var r = e.decisionsMeta,
                      o = void 0 === r ? [] : r,
                      i = e.propositionAction,
                      a = e.documentMayUnload,
                      c = void 0 !== a && a,
                      u = e.eventType,
                      s = void 0 === u ? ru : u,
                      d = e.propositionEventTypes,
                      l = void 0 === d ? [Tu(s)] : d,
                      f = e.viewName,
                      p = n.createEvent(),
                      g = { eventType: s };
                    return (
                      f && (g.web = { webPageDetails: { viewName: f } }),
                      en(o) && t(p, o, l, i),
                      p.mergeXdm(g),
                      c && p.documentMayUnload(),
                      n.sendEvent(p)
                    );
                  };
                },
                ns = function (e, n, t, r) {
                  if (0 !== n.length) {
                    var o = {};
                    t.forEach(function (e) {
                      o[e] = uu;
                    });
                    var i = {
                      _experience: {
                        decisioning: {
                          propositions: n,
                          propositionEventType: o,
                        },
                      },
                    };
                    r && (i._experience.decisioning.propositionAction = r),
                      e.mergeXdm(i);
                  }
                },
                ts = function (e, n) {
                  e.mergeQuery({ personalization: l({}, n) });
                },
                rs = function (e) {
                  var n = e.config,
                    t = e.eventManager,
                    r = e.createNamespacedStorage,
                    o = e.consent,
                    i = e.getBrowser,
                    a = n.orgId,
                    c = n.personalizationStorageEnabled,
                    u = es({ eventManager: t, mergeDecisionsMeta: ns }),
                    s = r(''.concat(qn(a), '.decisioning.'));
                  c || gu(s.persistent);
                  var d,
                    p = Fu({ storage: pu() }),
                    g = Au({ eventRegistry: p }),
                    m = Vu({ eventRegistry: p, window: window, getBrowser: i }),
                    v = Zu({ contextProvider: m, decisionProvider: g }),
                    y = Wu({ collect: u });
                  return {
                    lifecycle: {
                      onDecision: function (e) {
                        var n = e.propositions;
                        y.refresh(n);
                      },
                      onComponentsRegistered: function (e) {
                        (d = xu(e.lifecycle)),
                          c &&
                            o
                              .awaitConsent()
                              .then(function () {
                                p.setStorage(s.persistent);
                              })
                              .catch(function () {
                                s && gu(s.persistent);
                              });
                      },
                      onBeforeEvent: function (e) {
                        var n = e.event,
                          t = e.renderDecisions,
                          r = e.personalization,
                          o = void 0 === r ? {} : r,
                          i = e.onResponse,
                          a = void 0 === i ? ft : i,
                          c = o.decisionContext,
                          u = void 0 === c ? {} : c;
                        a(
                          Fc({
                            renderDecisions: t,
                            decisionProvider: g,
                            applyResponse: d,
                            event: n,
                            personalization: o,
                            decisionContext: m.getContext(
                              l(
                                f(
                                  f({}, Xu.TYPE, $u.EDGE),
                                  Xu.SOURCE,
                                  Yu.REQUEST
                                ),
                                u
                              )
                            ),
                          })
                        );
                      },
                      onBeforeRequest: function (e) {
                        var n = e.request.getPayload().toJSON().events,
                          t = void 0 === n ? [] : n;
                        0 !== t.length &&
                          t.forEach(function (e) {
                            return p.addExperienceEdgeEvent(e);
                          });
                      },
                    },
                    commands: {
                      evaluateRulesets: {
                        run: function (e) {
                          var n = e.renderDecisions,
                            t = e.personalization,
                            r = (void 0 === t ? {} : t).decisionContext,
                            o = void 0 === r ? {} : r;
                          return v.run({
                            renderDecisions: n,
                            decisionContext: l(
                              f(
                                f({}, Xu.TYPE, $u.RULES_ENGINE),
                                Xu.SOURCE,
                                Yu.REQUEST
                              ),
                              o
                            ),
                            applyResponse: d,
                          });
                        },
                        optionsValidator: v.optionsValidator,
                      },
                      subscribeRulesetItems: y.command,
                    },
                  };
                };
              (rs.namespace = 'RulesEngine'),
                (rs.configValidators = qr({
                  personalizationStorageEnabled: xr().default(!1),
                }));
              var os = (n.createEventMergeId = function () {
                  return { eventMergeId: D() };
                }),
                is = function (e) {
                  return {
                    commands: {
                      createEventMergeId: { run: e.createEventMergeId },
                    },
                  };
                },
                as = function () {
                  return is({ createEventMergeId: os });
                };
              as.namespace = 'EventMerge';
              var cs = {
                  PAUSE: 'media.pauseStart',
                  PLAY: 'media.play',
                  BUFFER_START: 'media.bufferStart',
                  AD_START: 'media.adStart',
                  Ad_BREAK_START: 'media.adBreakStart',
                  SESSION_END: 'media.sessionEnd',
                  SESSION_START: 'media.sessionStart',
                  SESSION_COMPLETE: 'media.sessionComplete',
                  PING: 'media.ping',
                  AD_BREAK_COMPLETE: 'media.adBreakComplete',
                  AD_COMPLETE: 'media.adComplete',
                  AD_SKIP: 'media.adSkip',
                  BITRATE_CHANGE: 'media.bitrateChange',
                  CHAPTER_COMPLETE: 'media.chapterComplete',
                  CHAPTER_SKIP: 'media.chapterSkip',
                  CHAPTER_START: 'media.chapterStart',
                  ERROR: 'media.error',
                  STATES_UPDATE: 'media.statesUpdate',
                },
                us = function (e) {
                  var n = e.mediaRequestPayload,
                    t = e.action;
                  return qo({
                    payload: n,
                    edgeSubPath: '/va',
                    getAction: function () {
                      return t;
                    },
                    getUseSendBeacon: function () {
                      return !1;
                    },
                  });
                },
                ss = function (e) {
                  var n = e.config,
                    t = e.eventManager,
                    r = e.consent,
                    o = e.sendEdgeNetworkRequest,
                    i = e.setTimestamp;
                  return {
                    createMediaEvent: function (e) {
                      var r = e.options,
                        o = t.createEvent(),
                        a = r.xdm;
                      if (
                        (i(a), o.setUserXdm(a), a.eventType === cs.AD_START)
                      ) {
                        var c = r.xdm.mediaCollection.advertisingDetails;
                        o.mergeXdm({
                          mediaCollection: {
                            advertisingDetails: {
                              playerName:
                                c.playerName || n.streamingMedia.playerName,
                            },
                          },
                        });
                      }
                      return o;
                    },
                    createMediaSession: function (e) {
                      var r = n.streamingMedia,
                        o = r.playerName,
                        i = r.channel,
                        a = r.appVersion,
                        c = t.createEvent(),
                        u = e.xdm.mediaCollection.sessionDetails;
                      return (
                        c.setUserXdm(e.xdm),
                        c.mergeXdm({
                          eventType: cs.SESSION_START,
                          mediaCollection: {
                            sessionDetails: {
                              playerName: u.playerName || o,
                              channel: u.channel || i,
                              appVersion: u.appVersion || a,
                            },
                          },
                        }),
                        c
                      );
                    },
                    augmentMediaEvent: function (e) {
                      var n = e.event,
                        t = e.playerId,
                        r = e.getPlayerDetails,
                        o = e.sessionID;
                      if (!t || !r) return n;
                      var i = r({ playerId: t }),
                        a = i.playhead,
                        c = i.qoeDataDetails;
                      return (
                        n.mergeXdm({
                          mediaCollection: {
                            playhead: Et(a),
                            qoeDataDetails: c,
                            sessionID: o,
                          },
                        }),
                        n
                      );
                    },
                    trackMediaSession: function (e) {
                      var n = e.event,
                        r = {
                          mediaOptions: e.mediaOptions,
                          edgeConfigOverrides: e.edgeConfigOverrides,
                        };
                      return t.sendEvent(n, r);
                    },
                    trackMediaEvent: function (e) {
                      var n = e.event,
                        t = e.action,
                        i = Vo(),
                        a = us({ mediaRequestPayload: i, action: t });
                      return (
                        i.addEvent(n),
                        n.finalize(),
                        r.awaitConsent().then(function () {
                          return o({ request: a }).then(function () {
                            return {};
                          });
                        })
                      );
                    },
                  };
                },
                ds = { MAIN: 'main', AD: 'ad', COMPLETED: 'completed' },
                ls = function () {
                  var e;
                  return {
                    getSession: function (n) {
                      return e[n] || {};
                    },
                    storeSession: function (n) {
                      var t = n.playerId,
                        r = n.sessionDetails;
                      void 0 === e && (e = {}), (e[t] = r);
                    },
                    stopPing: function (n) {
                      var t = n.playerId,
                        r = e[t];
                      r &&
                        (clearTimeout(r.pingId),
                        (r.pingId = null),
                        (r.playbackState = ds.COMPLETED));
                    },
                    savePing: function (n) {
                      var t = n.playerId,
                        r = n.pingId,
                        o = n.playbackState;
                      e[t] &&
                        (e[t].pingId && clearTimeout(e[t].pingId),
                        (e[t].pingId = r),
                        (e[t].playbackState = o));
                    },
                  };
                },
                fs = function (e, n) {
                  return e === cs.AD_START ||
                    e === cs.Ad_BREAK_START ||
                    e === cs.AD_SKIP ||
                    e === cs.AD_COMPLETE
                    ? 'ad'
                    : e === cs.AD_BREAK_COMPLETE ||
                      e === cs.CHAPTER_COMPLETE ||
                      e === cs.CHAPTER_START ||
                      e === cs.CHAPTER_SKIP ||
                      e === cs.SESSION_START
                    ? 'main'
                    : e === cs.SESSION_END || e === cs.SESSION_COMPLETE
                    ? 'completed'
                    : n;
                },
                ps = function (e) {
                  var n = e.mediaEventManager,
                    t = e.mediaSessionCacheManager,
                    r = e.config,
                    o = function (e) {
                      var i = n.createMediaEvent({ options: e }),
                        a = e.playerId,
                        c = e.xdm.eventType,
                        u = c.split('.')[1],
                        s = t.getSession(a),
                        d = s.getPlayerDetails,
                        l = s.sessionPromise,
                        f = s.playbackState;
                      return l.then(function (e) {
                        return e.sessionId
                          ? (n.augmentMediaEvent({
                              event: i,
                              eventType: c,
                              playerId: a,
                              getPlayerDetails: d,
                              sessionID: e.sessionId,
                            }),
                            n
                              .trackMediaEvent({ event: i, action: u })
                              .then(function () {
                                if (a)
                                  if (
                                    c === cs.SESSION_COMPLETE ||
                                    c === cs.SESSION_END
                                  )
                                    t.stopPing({ playerId: a });
                                  else {
                                    var e = fs(c, f);
                                    if ('completed' === e) return;
                                    var n =
                                        'ad' === e
                                          ? r.streamingMedia.adPingInterval
                                          : r.streamingMedia.mainPingInterval,
                                      i = setTimeout(function () {
                                        var e = {
                                          playerId: a,
                                          xdm: { eventType: cs.PING },
                                        };
                                        o(e);
                                      }, 1e3 * n);
                                    t.savePing({
                                      playerId: a,
                                      pingId: i,
                                      playbackState: e,
                                    });
                                  }
                              }))
                          : Promise.reject(
                              new Error(
                                'Failed to trigger media event: '
                                  .concat(
                                    c,
                                    '. Session ID is not available for playerId: '
                                  )
                                  .concat(a, '.')
                              )
                            );
                      });
                    };
                  return function (e) {
                    return o(e);
                  };
                },
                gs = function (e) {
                  var n = e.config,
                    t = e.mediaEventManager,
                    r = e.mediaSessionCacheManager,
                    o = e.legacy,
                    i = void 0 !== o && o;
                  return function (e) {
                    if (!n.streamingMedia)
                      return Promise.reject(
                        new Error('Streaming media is not configured.')
                      );
                    var o = e.playerId,
                      a = e.getPlayerDetails,
                      c = e.edgeConfigOverrides,
                      u = t.createMediaSession(e);
                    t.augmentMediaEvent({
                      event: u,
                      playerId: o,
                      getPlayerDetails: a,
                    });
                    var s = t.trackMediaSession({
                      event: u,
                      mediaOptions: {
                        playerId: o,
                        getPlayerDetails: a,
                        legacy: i,
                      },
                      edgeConfigOverrides: c,
                    });
                    return (
                      r.storeSession({
                        playerId: o,
                        sessionDetails: {
                          sessionPromise: s,
                          getPlayerDetails: a,
                          playbackState: ds.MAIN,
                        },
                      }),
                      s
                    );
                  };
                },
                ms = function (e) {
                  return !dt(e) || !e.trim();
                },
                vs = function (e) {
                  var n = e.mediaSessionCacheManager,
                    t = e.config,
                    r = e.trackMediaEvent;
                  return function (e) {
                    var o = e.response,
                      i = e.playerId,
                      a = e.getPlayerDetails,
                      c = o.getPayloadsByType('media-analytics:new-session');
                    if (en(c)) {
                      var u = c[0].sessionId;
                      if (ms(u)) return {};
                      if (!i || !a) return { sessionId: u };
                      var s = setTimeout(function () {
                        r({ playerId: i, xdm: { eventType: cs.PING } });
                      }, 1e3 * t.streamingMedia.mainPingInterval);
                      return (
                        n.savePing({
                          playerId: i,
                          pingId: s,
                          playbackState: ds.MAIN,
                        }),
                        { sessionId: u }
                      );
                    }
                    return {};
                  };
                },
                ys = { Video: 'video', Audio: 'audio' },
                hs = {
                  VOD: 'vod',
                  Live: 'live',
                  Linear: 'linear',
                  Podcast: 'podcast',
                  Audiobook: 'audiobook',
                  AOD: 'aod',
                },
                bs = {
                  FullScreen: 'fullScreen',
                  ClosedCaption: 'closedCaptioning',
                  Mute: 'mute',
                  PictureInPicture: 'pictureInPicture',
                  InFocus: 'inFocus',
                },
                ws = {
                  AdBreakStart: 'adBreakStart',
                  AdBreakComplete: 'adBreakComplete',
                  AdStart: 'adStart',
                  AdComplete: 'adComplete',
                  AdSkip: 'adSkip',
                  ChapterStart: 'chapterStart',
                  ChapterComplete: 'chapterComplete',
                  ChapterSkip: 'chapterSkip',
                  SeekStart: 'seekStart',
                  SeekComplete: 'seekComplete',
                  BufferStart: 'bufferStart',
                  BufferComplete: 'bufferComplete',
                  BitrateChange: 'bitrateChange',
                  StateStart: 'stateStart',
                  StateEnd: 'stateEnd',
                },
                Es = {
                  SessionStart: 'sessionStart',
                  SessionEnd: 'sessionEnd',
                  SessionComplete: 'sessionComplete',
                  Play: 'play',
                  Pause: 'pauseStart',
                  Error: 'error',
                  StateUpdate: 'statesUpdate',
                },
                Cs = {
                  MediaResumed: 'media.resumed',
                  GranularAdTracking: 'media.granularadtracking',
                },
                Is = {
                  Show: 'a.media.show',
                  Season: 'a.media.season',
                  Episode: 'a.media.episode',
                  AssetId: 'a.media.asset',
                  Genre: 'a.media.genre',
                  FirstAirDate: 'a.media.airDate',
                  FirstDigitalDate: 'a.media.digitalDate',
                  Rating: 'a.media.rating',
                  Originator: 'a.media.originator',
                  Network: 'a.media.network',
                  ShowType: 'a.media.type',
                  AdLoad: 'a.media.adLoad',
                  MVPD: 'a.media.pass.mvpd',
                  Authorized: 'a.media.pass.auth',
                  DayPart: 'a.media.dayPart',
                  Feed: 'a.media.feed',
                  StreamFormat: 'a.media.format',
                },
                Ss = {
                  Artist: 'a.media.artist',
                  Album: 'a.media.album',
                  Label: 'a.media.label',
                  Author: 'a.media.author',
                  Station: 'a.media.station',
                  Publisher: 'a.media.publisher',
                },
                ks = {
                  Advertiser: 'a.media.ad.advertiser',
                  CampaignId: 'a.media.ad.campaign',
                  CreativeId: 'a.media.ad.creative',
                  PlacementId: 'a.media.ad.placement',
                  SiteId: 'a.media.ad.site',
                  CreativeUrl: 'a.media.ad.creativeURL',
                },
                Os = function (e) {
                  var n = e.trackMediaEvent,
                    t = e.trackMediaSession,
                    r = e.mediaResponseHandler,
                    o = e.logger,
                    i = e.createMediaHelper,
                    a = e.createGetInstance,
                    c = e.config;
                  return {
                    lifecycle: {
                      onBeforeEvent: function (e) {
                        var n = e.mediaOptions,
                          t = e.onResponse,
                          o = void 0 === t ? ft : t;
                        if (n) {
                          var i = n.legacy,
                            a = n.playerId,
                            c = n.getPlayerDetails;
                          i &&
                            o(function (e) {
                              var n = e.response;
                              return r({
                                playerId: a,
                                getPlayerDetails: c,
                                response: n,
                              });
                            });
                        }
                      },
                    },
                    commands: {
                      getMediaAnalyticsTracker: {
                        run: function () {
                          if (!c.streamingMedia)
                            return Promise.reject(
                              new Error('Streaming media is not configured.')
                            );
                          o.info(
                            'Streaming media is configured in legacy mode.'
                          );
                          var e = i({ logger: o });
                          return Promise.resolve(
                            l(
                              {
                                getInstance: function () {
                                  return a({
                                    logger: o,
                                    trackMediaEvent: n,
                                    trackMediaSession: t,
                                    uuid: D,
                                  });
                                },
                                Event: ws,
                                MediaType: ys,
                                PlayerState: bs,
                                StreamType: hs,
                                MediaObjectKey: Cs,
                                VideoMetadataKeys: Is,
                                AudioMetadataKeys: Ss,
                                AdMetadataKeys: ks,
                              },
                              e
                            )
                          );
                        },
                      },
                    },
                  };
                },
                Ps = function (e) {
                  var n = e.logger,
                    t = function (e, t, r) {
                      var o = { friendlyName: e, offset: t, index: r },
                        i = qr({
                          friendlyName: Ur().nonEmpty(),
                          offset: _r(),
                          index: _r(),
                        });
                      try {
                        var a = i(o);
                        return {
                          advertisingPodDetails: {
                            friendlyName: a.friendlyName,
                            offset: a.offset,
                            index: a.index,
                          },
                        };
                      } catch (e) {
                        return (
                          n.warn(
                            'An error occurred while creating the Ad Break Object.',
                            e
                          ),
                          {}
                        );
                      }
                    },
                    r = function (e, t, r, o) {
                      var i = {
                          friendlyName: e,
                          name: t,
                          podPosition: r,
                          length: o,
                        },
                        a = qr({
                          friendlyName: Ur().nonEmpty(),
                          name: Ur().nonEmpty(),
                          podPosition: _r(),
                          length: _r(),
                        });
                      try {
                        var c = a(i);
                        return {
                          advertisingDetails: {
                            friendlyName: c.friendlyName,
                            name: c.name,
                            podPosition: c.podPosition,
                            length: c.length,
                          },
                        };
                      } catch (e) {
                        return (
                          n.warn(
                            'An error occurred while creating the Advertising Object.',
                            e
                          ),
                          {}
                        );
                      }
                    },
                    o = function (e, t, r, o) {
                      var i = {
                          friendlyName: e,
                          offset: t,
                          length: r,
                          index: o,
                        },
                        a = qr({
                          friendlyName: Ur().nonEmpty(),
                          offset: _r(),
                          length: _r(),
                          index: _r(),
                        });
                      try {
                        var c = a(i);
                        return {
                          chapterDetails: {
                            friendlyName: c.friendlyName,
                            offset: c.offset,
                            index: c.index,
                            length: c.length,
                          },
                        };
                      } catch (e) {
                        return (
                          n.warn(
                            'An error occurred while creating the Chapter Object.',
                            e
                          ),
                          {}
                        );
                      }
                    },
                    i = function (e) {
                      var t = /^[a-zA-Z0-9_]{1,64}$/,
                        r = Ur().matches(t, 'This is not a valid state name.');
                      try {
                        return { name: r(e) };
                      } catch (e) {
                        return (
                          n.warn(
                            'An error occurred while creating the State Object.',
                            e
                          ),
                          {}
                        );
                      }
                    },
                    a = function (e, t, r, o) {
                      var i = {
                          bitrate: e,
                          droppedFrames: t,
                          fps: r,
                          startupTime: o,
                        },
                        a = qr({
                          bitrate: _r(),
                          droppedFrames: _r(),
                          fps: _r(),
                          startupTime: _r(),
                        });
                      try {
                        var c = a(i);
                        return {
                          bitrate: c.bitrate,
                          droppedFrames: c.droppedFrames,
                          framesPerSecond: c.fps,
                          timeToStart: c.startupTime,
                        };
                      } catch (e) {
                        return (
                          n.warn(
                            'An error occurred while creating the QOE Object.',
                            e
                          ),
                          {}
                        );
                      }
                    };
                  return {
                    createMediaObject: function (e, t, r, o, i) {
                      var a = {
                          friendlyName: e,
                          name: t,
                          length: r,
                          streamType: i,
                          contentType: o,
                        },
                        c = qr({
                          friendlyName: Ur().nonEmpty(),
                          name: Ur().nonEmpty(),
                          length: _r().required(),
                          streamType: Ur().nonEmpty(),
                          contentType: Ur().nonEmpty(),
                        });
                      try {
                        var u = c(a);
                        return {
                          sessionDetails: {
                            name: u.name,
                            friendlyName: u.friendlyName,
                            length: u.length,
                            streamType: u.streamType,
                            contentType: u.contentType,
                          },
                        };
                      } catch (e) {
                        return (
                          n.warn(
                            'An error occurred while creating the Media Object.',
                            e
                          ),
                          {}
                        );
                      }
                    },
                    createAdBreakObject: t,
                    createAdObject: r,
                    createChapterObject: o,
                    createStateObject: i,
                    createQoEObject: a,
                  };
                },
                Ds = {
                  'a.media.show': 'show',
                  'a.media.season': 'season',
                  'a.media.episode': 'episode',
                  'a.media.asset': 'assetID',
                  'a.media.genre': 'genre',
                  'a.media.airDate': 'firstAirDate',
                  'a.media.digitalDate': 'firstDigitalDate',
                  'a.media.rating': 'rating',
                  'a.media.originator': 'originator',
                  'a.media.network': 'network',
                  'a.media.type': 'showType',
                  'a.media.adLoad': 'adLoad',
                  'a.media.pass.mvpd': 'mvpd',
                  'a.media.pass.auth': 'authorized',
                  'a.media.dayPart': 'dayPart',
                  'a.media.feed': 'feed',
                  'a.media.format': 'streamFormat',
                  'a.media.artist': 'artist',
                  'a.media.album': 'album',
                  'a.media.label': 'label',
                  'a.media.author': 'author',
                  'a.media.station': 'station',
                  'a.media.publisher': 'publisher',
                  'media.resumed': 'hasResume',
                },
                Ts = {
                  'a.media.ad.advertiser': 'advertiser',
                  'a.media.ad.campaign': 'campaignID',
                  'a.media.ad.creative': 'creativeID',
                  'a.media.ad.placement': 'placementID',
                  'a.media.ad.site': 'siteID',
                  'a.media.ad.creativeURL': 'creativeURL',
                },
                Rs = function (e) {
                  var n = e.logger,
                    t = e.trackMediaSession,
                    r = e.trackMediaEvent,
                    o = e.uuid,
                    i = null,
                    a = function () {
                      i = { qoe: null, lastPlayhead: 0, playerId: o() };
                    },
                    c = function (e) {
                      var n = e.eventType;
                      return n === ws.BufferComplete || n === ws.SeekComplete
                        ? Es.Play
                        : n === ws.StateStart || n === ws.StateEnd
                        ? Es.StateUpdate
                        : n === ws.SeekStart
                        ? Es.Pause
                        : n;
                    },
                    u = function (e) {
                      var n = e.eventType,
                        t = e.mediaDetails,
                        r = void 0 === t ? {} : t,
                        o = e.contextData,
                        i = void 0 === o ? [] : o,
                        a = c({ eventType: n });
                      if (n === ws.StateStart)
                        return {
                          eventType: 'media.'.concat(a),
                          mediaCollection: { statesStart: [r] },
                        };
                      if (n === ws.StateEnd)
                        return {
                          eventType: 'media.'.concat(a),
                          mediaCollection: { statesEnd: [r] },
                        };
                      var u = {
                          eventType: 'media.'.concat(a),
                          mediaCollection: l({}, r),
                        },
                        s = [];
                      return (
                        Object.keys(i).forEach(function (e) {
                          Ds[e]
                            ? (u.mediaCollection.sessionDetails[Ds[e]] = i[e])
                            : Ts[e]
                            ? (u.mediaCollection.advertisingDetails[Ts[e]] =
                                i[e])
                            : s.push({ name: e, value: i[e] });
                        }),
                        en(s) && (u.mediaCollection.customMetadata = s),
                        u
                      );
                    };
                  return {
                    trackSessionStart: function (e) {
                      var r =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {};
                      if (Oe(e) || Nn(e))
                        return n.warn('Invalid media object'), {};
                      null === i &&
                        (n.warn(
                          'The Media Session was completed. Restarting a new session.'
                        ),
                        a());
                      var o = u({
                        eventType: Es.SessionStart,
                        mediaDetails: e,
                        contextData: r,
                      });
                      return t({
                        playerId: i.playerId,
                        getPlayerDetails: function () {
                          return {
                            playhead: i.lastPlayhead,
                            qoeDataDetails: i.qoe,
                          };
                        },
                        xdm: o,
                      });
                    },
                    trackPlay: function () {
                      if (null === i)
                        return n.warn('The Media Session was completed.'), {};
                      var e = u({ eventType: Es.Play });
                      return r({ playerId: i.playerId, xdm: e });
                    },
                    trackPause: function () {
                      if (null === i)
                        return n.warn('The Media Session was completed.'), {};
                      var e = u({ eventType: Es.Pause });
                      return r({ playerId: i.playerId, xdm: e });
                    },
                    trackSessionEnd: function () {
                      if (null === i)
                        return n.warn('The Media Session was completed.'), {};
                      var e = u({ eventType: Es.SessionEnd });
                      return r({ playerId: i.playerId, xdm: e });
                    },
                    trackComplete: function () {
                      if (null === i)
                        return n.warn('The Media Session was completed.'), {};
                      var e = u({ eventType: Es.SessionComplete });
                      return r({ playerId: i.playerId, xdm: e });
                    },
                    trackError: function (e) {
                      if ((n.warn('trackError('.concat(e, ')')), null === i))
                        return n.warn('The Media Session was completed.'), {};
                      var t = { name: e, source: 'player' },
                        o = u({
                          eventType: Es.Error,
                          mediaDetails: { errorDetails: t },
                        });
                      return r({ playerId: i.playerId, xdm: o });
                    },
                    trackEvent: function (e, t, o) {
                      if (Nn(t)) return n.warn('Invalid media object.'), {};
                      if (null === i)
                        return n.warn('The Media Session was completed.'), {};
                      if (!Object.values(ws).includes(e))
                        return n.warn('Invalid event type'), {};
                      var a = u({
                        eventType: e,
                        mediaDetails: t,
                        contextData: o,
                      });
                      return r({ playerId: i.playerId, xdm: a });
                    },
                    updatePlayhead: function (e) {
                      null !== i
                        ? ct(e) && (i.lastPlayhead = parseInt(e, 10))
                        : n.warn('The Media Session was completed.');
                    },
                    updateQoEObject: function (e) {
                      null !== i
                        ? e && (i.qoe = e)
                        : n.warn('The Media Session was completed.');
                    },
                    destroy: function () {
                      n.warn('Destroy called, destroying the tracker.'),
                        (i = null);
                    },
                  };
                },
                Ns = function (e) {
                  var n = e.eventManager,
                    t = e.sendEdgeNetworkRequest,
                    r = e.config,
                    o = e.logger,
                    i = e.consent,
                    a = ls(),
                    c = ss({
                      sendEdgeNetworkRequest: t,
                      config: r,
                      consent: i,
                      eventManager: n,
                      setTimestamp: wc(function () {
                        return new Date();
                      }),
                    }),
                    u = ps({
                      mediaSessionCacheManager: a,
                      mediaEventManager: c,
                      config: r,
                    }),
                    s = gs({
                      config: r,
                      mediaEventManager: c,
                      mediaSessionCacheManager: a,
                      legacy: !0,
                    }),
                    d = vs({
                      mediaSessionCacheManager: a,
                      config: r,
                      trackMediaEvent: u,
                    });
                  return Os({
                    mediaResponseHandler: d,
                    trackMediaSession: s,
                    trackMediaEvent: u,
                    createMediaHelper: Ps,
                    createGetInstance: Rs,
                    logger: o,
                    config: r,
                  });
                };
              Ns.namespace = 'Legacy Media Analytics';
              var As,
                xs = 'web',
                Ms = 'webapp',
                js = '://',
                _s = '#',
                Ls = /^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,
                qs =
                  /^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,
                Us = /^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,
                Bs = /^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,
                Fs = function () {
                  for (
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : '/',
                      n = e.length;
                    n > 0 && -1 !== '/'.indexOf(e.charAt(n - 1));

                  )
                    n -= 1;
                  return e.substring(0, n) || '/';
                },
                Vs = function (e) {
                  return lt(e) ? e.toLowerCase() : '';
                },
                Hs = function (e) {
                  return lt(e) ? e.toLowerCase() : '';
                },
                zs = function (e) {
                  return lt(e) ? Fs(e) : '/';
                },
                Js = function (e) {
                  var n = e.match(Ls);
                  return n
                    ? {
                        surfaceType: Vs(n[1]),
                        authority: Hs(n[2]),
                        path: zs(n[3]),
                        fragment: n[4],
                      }
                    : null;
                },
                Gs = function (e) {
                  return ''
                    .concat(e.surfaceType)
                    .concat(js)
                    .concat(e.authority)
                    .concat(e.path || '')
                    .concat(e.fragment || '');
                },
                Qs = function (e) {
                  var n = e(),
                    t = n.host.toLowerCase(),
                    r = n.pathname;
                  return xs + js + t + Fs(r);
                },
                Ws = function (e, n) {
                  return e.startsWith(_s) ? Qs(n) + e : e;
                },
                Xs = function (e, n, t) {
                  var r = function (e) {
                    return t.warn(e), null;
                  };
                  if (!lt(e)) return r('Invalid surface: '.concat(e));
                  var o = Ws(e, n),
                    i = Js(o);
                  return null === i
                    ? r('Invalid surface: '.concat(e))
                    : [xs, Ms].includes(i.surfaceType)
                    ? i.authority && qs.test(i.authority)
                      ? i.path && !Us.test(i.path)
                        ? r(
                            'Invalid path '
                              .concat(i.path, ' in surface: ')
                              .concat(e)
                          )
                        : i.fragment && !Bs.test(i.fragment)
                        ? r(
                            'Invalid fragment '
                              .concat(i.fragment, ' in surface: ')
                              .concat(e)
                          )
                        : i
                      : r(
                          'Invalid authority '
                            .concat(i.authority, ' in surface: ')
                            .concat(e)
                        )
                    : r(
                        'Unsupported surface type '
                          .concat(i.surfaceType, ' in surface: ')
                          .concat(e)
                      );
                },
                $s = function (e) {
                  return (
                    !!e && 0 === e.indexOf(xs + js) && -1 === e.indexOf(_s)
                  );
                },
                Ys = function () {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : [],
                    n = arguments.length > 1 ? arguments[1] : void 0,
                    t = arguments.length > 2 ? arguments[2] : void 0;
                  return e
                    .map(function (e) {
                      return Xs(e, n, t);
                    })
                    .filter(function (e) {
                      return !Oe(e);
                    })
                    .map(Gs);
                },
                Ks = function (e) {
                  e.includes(_o) || e.push(_o);
                },
                Zs = function (e, n) {
                  var t = Qs(n);
                  e.includes(t) || e.push(t);
                },
                ed = function (e) {
                  return e.filter(function (n, t) {
                    return e.indexOf(n) === t;
                  });
                },
                nd = function (e) {
                  var n = e.getPageLocation,
                    t = e.renderDecisions,
                    r = e.decisionScopes,
                    o = e.personalization,
                    i = e.event,
                    a = e.isCacheInitialized,
                    c = e.logger,
                    u = i.getViewName();
                  return {
                    isRenderDecisions: function () {
                      return t;
                    },
                    isSendDisplayEvent: function () {
                      return !!o.sendDisplayEvent;
                    },
                    shouldIncludeRenderedPropositions: function () {
                      return !!o.includeRenderedPropositions;
                    },
                    getViewName: function () {
                      return u;
                    },
                    hasScopes: function () {
                      return r.length > 0 || en(o.decisionScopes);
                    },
                    hasSurfaces: function () {
                      return en(o.surfaces);
                    },
                    hasViewName: function () {
                      return lt(u);
                    },
                    createQueryDetails: function () {
                      var e = m(r);
                      en(o.decisionScopes) &&
                        e.push.apply(e, m(o.decisionScopes));
                      var t = Ys(o.surfaces, n, c);
                      this.shouldRequestDefaultPersonalization() &&
                        (Ks(e), Zs(t, n));
                      var i = [Xc, Yc, Kc, eu, Zc, nu, tu];
                      return (
                        e.includes(_o) && i.push($c),
                        { schemas: i, decisionScopes: ed(e), surfaces: ed(t) }
                      );
                    },
                    isCacheInitialized: function () {
                      return a;
                    },
                    shouldFetchData: function () {
                      return (
                        this.hasScopes() ||
                        this.hasSurfaces() ||
                        this.shouldRequestDefaultPersonalization()
                      );
                    },
                    shouldUseCachedData: function () {
                      return this.hasViewName() && !this.shouldFetchData();
                    },
                    shouldRequestDefaultPersonalization: function () {
                      return (
                        o.defaultPersonalizationEnabled ||
                        (!this.isCacheInitialized() &&
                          !1 !== o.defaultPersonalizationEnabled)
                      );
                    },
                  };
                },
                td = 'Rendering is disabled for authoring mode.',
                rd = { propositions: [] },
                od = function (e) {
                  var n = e.logger,
                    t = e.options,
                    r = qr({
                      propositions: Ar(
                        qr({
                          id: Ur().required(),
                          scope: Ur().required(),
                          scopeDetails: qr({
                            decisionProvider: Ur().required(),
                          }).required(),
                          items: Ar(
                            qr({
                              id: Ur().required(),
                              schema: Ur().required(),
                              data: qr(Nr()),
                            })
                          )
                            .nonEmpty()
                            .required(),
                        }).required()
                      )
                        .nonEmpty()
                        .required(),
                      metadata: qr(Nr()),
                      viewName: Ur(),
                    }).required();
                  try {
                    return r(t);
                  } catch (e) {
                    return (
                      n.warn(
                        'Invalid options for applyPropositions. No propositions will be applied.',
                        e
                      ),
                      rd
                    );
                  }
                },
                id = function (e) {
                  var n = e.getPageLocation,
                    t = e.logger,
                    r = e.fetchDataHandler,
                    o = e.viewChangeHandler,
                    i = e.onClickHandler,
                    a = e.isAuthoringModeEnabled,
                    c = e.mergeQuery,
                    u = e.viewCache,
                    s = e.showContainers,
                    d = e.applyPropositions,
                    l = e.setTargetMigration,
                    f = e.mergeDecisionsMeta,
                    p = e.renderedPropositions,
                    g = e.onDecisionHandler,
                    m = e.handleConsentFlicker;
                  return {
                    lifecycle: {
                      onComponentsRegistered: function () {
                        m();
                      },
                      onDecision: g,
                      onBeforeRequest: function (e) {
                        var n = e.request;
                        return l(n), Promise.resolve();
                      },
                      onBeforeEvent: function (e) {
                        var i = e.event,
                          d = e.renderDecisions,
                          l = e.decisionScopes,
                          g = void 0 === l ? [] : l,
                          m = e.personalization,
                          v = void 0 === m ? {} : m,
                          y = e.onResponse,
                          h = void 0 === y ? ft : y,
                          b = e.onRequestFailure,
                          w = void 0 === b ? ft : b;
                        if (
                          (h(function () {
                            return { propositions: [] };
                          }),
                          w(function () {
                            return s();
                          }),
                          a())
                        )
                          return (
                            t.warn(td), c(i, { enabled: !1 }), Promise.resolve()
                          );
                        var E = nd({
                            getPageLocation: n,
                            renderDecisions: d,
                            decisionScopes: g,
                            personalization: v,
                            event: i,
                            isCacheInitialized: u.isInitialized(),
                            logger: t,
                          }),
                          C = [];
                        if (
                          (E.shouldIncludeRenderedPropositions() &&
                            C.push(p.clear()),
                          E.shouldFetchData())
                        ) {
                          var I = u.createCacheUpdate(E.getViewName());
                          w(function () {
                            return I.cancel();
                          }),
                            r({
                              cacheUpdate: I,
                              personalizationDetails: E,
                              event: i,
                              onResponse: h,
                            });
                        } else
                          E.shouldUseCachedData() &&
                            C.push(
                              o({
                                personalizationDetails: E,
                                event: i,
                                onResponse: h,
                                onRequestFailure: w,
                              })
                            );
                        return Promise.all(C).then(function (e) {
                          var n = e.flatMap(function (e) {
                            return e;
                          });
                          en(n) && f(i, n, [Ou.DISPLAY]);
                        });
                      },
                      onClick: function (e) {
                        var n = e.event,
                          t = e.clickedElement;
                        i({ event: n, clickedElement: t });
                      },
                    },
                    commands: {
                      applyPropositions: {
                        optionsValidator: function (e) {
                          return od({ logger: t, options: e });
                        },
                        run: d,
                      },
                    },
                  };
                },
                ad = function (e) {
                  return ze(We, {}, { innerHTML: e });
                },
                cd = ':eq(',
                ud = /:eq\((\d+)\)/g,
                sd = function (e) {
                  return -1 === e.indexOf(cd);
                },
                dd = function (e) {
                  return e.split(ud).filter(lt);
                },
                ld = /(#|\.)(-?\w+)/g,
                fd = function (e, n, t) {
                  return ''.concat(n).concat(CSS.escape(t));
                },
                pd = function (e) {
                  return e.replace(ld, fd);
                },
                gd = function (e) {
                  for (
                    var n = [],
                      t = pd(e.trim()),
                      r = dd(t),
                      o = r.length,
                      i = 0;
                    i < o;

                  ) {
                    var a = r[i],
                      c = r[i + 1];
                    c ? n.push({ sel: a, eq: Number(c) }) : n.push({ sel: a }),
                      (i += 2);
                  }
                  return n;
                },
                md = function (e) {
                  var n = document;
                  if (sd(e)) return dn(e, n);
                  for (
                    var t = gd(e), r = t.length, o = [], i = n, c = 0;
                    c < r;

                  ) {
                    var u = t[c],
                      s = u.sel,
                      d = u.eq,
                      l = dn(s, i),
                      f = l.length;
                    if (0 === f) break;
                    if (null != d && d > f - 1) break;
                    c < r - 1 && (i = null == d ? a(l, 1)[0] : l[d]),
                      c === r - 1 && (o = null == d ? l : [l[d]]),
                      (c += 1);
                  }
                  return o;
                },
                vd = function (e) {
                  return (
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : document
                  ).getElementById(e);
                },
                yd = function (e, n, t) {
                  e.setAttribute(n, t);
                },
                hd = function (e, n) {
                  return e.getAttribute(n);
                },
                bd = function (e, n) {
                  e.removeAttribute(n);
                },
                wd = function (e, n, t, r) {
                  var o;
                  (o = r
                    ? ''.concat(n, ':').concat(t, ' !').concat(r, ';')
                    : ''.concat(n, ':').concat(t, ';')),
                    (e.style.cssText += ';'.concat(o));
                },
                Ed = function (e) {
                  return e.parentNode;
                },
                Cd = function (e) {
                  return e.nextElementSibling;
                },
                Id = function (e, n) {
                  if (e) {
                    var t = Ed(e);
                    t && t.insertBefore(n, Cd(e));
                  }
                },
                Sd = function (e, n) {
                  if (e) {
                    var t = Ed(e);
                    t && t.insertBefore(n, e);
                  }
                },
                kd = function (e) {
                  var n = e.children;
                  return n ? nn(n) : [];
                },
                Od = function (e) {
                  var n = e.childNodes;
                  return n ? nn(n) : [];
                },
                Pd = function (e) {
                  return e.firstElementChild;
                },
                Dd = function () {
                  var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : document;
                  if (void 0 === As) {
                    var n = e.querySelector('[nonce]');
                    As = n && (n.nonce || n.getAttribute('nonce'));
                  }
                  return As;
                },
                Td = 'src',
                Rd = function (e) {
                  return e.tagName === Qe;
                },
                Nd = function (e) {
                  return ze(Qe, { src: e });
                },
                Ad = function (e) {
                  dn(Qe, e).forEach(function (e) {
                    var n = hd(e, Td);
                    n && Nd(n);
                  });
                },
                xd = function (e, n) {
                  return e.tagName === n;
                },
                Md = function (e) {
                  return xd(e, Xe) && !hd(e, Td);
                },
                jd = function (e) {
                  var n = dn(Xe, e),
                    t = n.length,
                    r = Dd();
                  if (r)
                    for (var o = 0; o < t; o += 1) {
                      var i = n[o];
                      Md(i) && (i.nonce = r);
                    }
                },
                _d = function (e, n) {
                  return new Promise(function (t, r) {
                    (n.onload = function () {
                      t(n);
                    }),
                      (n.onerror = function () {
                        r(new Error('Failed to load script: '.concat(e)));
                      });
                  });
                },
                Ld = function (e) {
                  var n = document.createElement('script');
                  (n.src = e), (n.async = !0);
                  var t = _d(e, n);
                  return document.head.appendChild(n), t;
                },
                qd = function (e, n) {
                  return !!e && e.tagName === n;
                },
                Ud = function (e) {
                  return qd(e, $e) && !hd(e, Td);
                },
                Bd = function (e) {
                  return qd(e, $e) && hd(e, Td);
                },
                Fd = function (e) {
                  for (
                    var n = dn($e, e),
                      t = [],
                      r = n.length,
                      o = Dd(),
                      i = l({}, o && { nonce: o }),
                      a = 0;
                    a < r;
                    a += 1
                  ) {
                    var c = n[a];
                    if (Ud(c)) {
                      var u = c.textContent;
                      u && t.push(ze($e, i, { textContent: u }));
                    }
                  }
                  return t;
                },
                Vd = function (e) {
                  for (
                    var n = dn($e, e), t = [], r = n.length, o = 0;
                    o < r;
                    o += 1
                  ) {
                    var i = n[o];
                    if (Bd(i)) {
                      var a = hd(i, Td);
                      a && t.push(a);
                    }
                  }
                  return t;
                },
                Hd = function (e, n) {
                  n.forEach(function (n) {
                    e.appendChild(n), e.removeChild(n);
                  });
                },
                zd = function (e) {
                  return Promise.all(e.map(Ld));
                },
                Jd = function (e, n, t) {
                  var r = ad(n);
                  jd(r);
                  var o = Od(r),
                    i = Fd(r),
                    a = Vd(r);
                  return (
                    Ad(r),
                    o.forEach(function (n) {
                      Ve(e, n);
                    }),
                    t(e),
                    Hd(e, i),
                    zd(a)
                  );
                },
                Gd = function (e) {
                  Od(e).forEach(Pn);
                },
                Qd = function (e, n, t) {
                  return Gd(e), Jd(e, n, t);
                },
                Wd = function (e, n, t) {
                  var r = ad(n);
                  jd(r);
                  var o = Od(r),
                    i = Fd(r),
                    a = Vd(r),
                    c = o.length - 1;
                  for (Ad(r); c >= 0; ) {
                    var u = o[c];
                    t(u);
                    var s = Pd(e);
                    s ? Sd(s, u) : Ve(e, u), (c -= 1);
                  }
                  return Hd(e, i), zd(a);
                },
                Xd = 'alloy-prehiding',
                $d = '{ visibility: hidden }',
                Yd = {},
                Kd = function (e) {
                  if (!Yd[e]) {
                    var n = Dd(),
                      t = l({}, n && { nonce: n }),
                      r = { textContent: ''.concat(e, ' ').concat($d) },
                      o = ze(Xe, t, r);
                    Ve(document.head, o), (Yd[e] = o);
                  }
                },
                Zd = function (e) {
                  var n = Yd[e];
                  n && (Pn(n), delete Yd[e]);
                },
                el = function (e) {
                  return function (n) {
                    if (n && !vd(Xd)) {
                      var t = Dd(),
                        r = l({ id: Xd }, t && { nonce: t }),
                        o = ze(Xe, r, { textContent: n });
                      e.logOnContentHiding({
                        status: 'hide-containers',
                        message: 'Prehiding style applied to hide containers.',
                        logLevel: 'info',
                      }),
                        Ve(document.head, o);
                    }
                  };
                },
                nl = function (e) {
                  return function () {
                    var n = vd(Xd);
                    n &&
                      (e.logOnContentHiding({
                        status: 'show-containers',
                        message: 'Prehiding style removed to show containers.',
                        logLevel: 'info',
                      }),
                      Pn(n));
                  };
                },
                tl = function (e, n, t) {
                  t(e), (e.textContent = n);
                },
                rl = function (e, n, t) {
                  var r = ad(n);
                  jd(r);
                  var o = Od(r),
                    i = Fd(r),
                    a = Vd(r);
                  return (
                    Ad(r),
                    o.forEach(function (n) {
                      t(n), Sd(e, n);
                    }),
                    Hd(e, i),
                    zd(a)
                  );
                },
                ol = function (e, n, t) {
                  return rl(e, n, t).then(function () {
                    Pn(e);
                  });
                },
                il = function (e, n, t) {
                  var r = ad(n);
                  jd(r);
                  var o = Od(r),
                    i = Fd(r),
                    a = Vd(r);
                  Ad(r);
                  var c = e;
                  return (
                    o.forEach(function (e) {
                      t(e), Id(c, e), (c = e);
                    }),
                    Hd(e, i),
                    zd(a)
                  );
                },
                al = function (e, n, t) {
                  var r = n.priority,
                    i = o(n, Ee);
                  Object.keys(i).forEach(function (n) {
                    wd(e, n, i[n], r);
                  }),
                    t(e);
                },
                cl = function (e, n, t) {
                  Object.keys(n).forEach(function (t) {
                    yd(e, t, n[t]);
                  }),
                    t(e);
                },
                ul = function (e, n, t) {
                  Rd(e) && (Nd(n), t(e), bd(e, Td), yd(e, Td, n));
                },
                sl = function (e, n, t) {
                  var r = n.from,
                    o = n.to,
                    i = kd(e),
                    a = i[r],
                    c = i[o];
                  a && c && (r < o ? Id(c, a) : Sd(c, a), t(c), t(a));
                },
                dl = function (e, n, t, r) {
                  var o = e.map(function (e) {
                    return r(e, n, t);
                  });
                  return Promise.all(o);
                },
                ll = function (e) {
                  return function (n, t) {
                    var r = n.selector,
                      o = n.prehidingSelector,
                      i = n.content;
                    return (
                      Kd(o),
                      kn(r, md)
                        .then(function (n) {
                          return dl(n, i, t, e);
                        })
                        .then(
                          function () {
                            Zd(o);
                          },
                          function (e) {
                            throw (Zd(o), e);
                          }
                        )
                    );
                  };
                },
                fl = function (e) {
                  return ('' + e).endsWith('px') ? e : ''.concat(e, 'px');
                },
                pl = function (e, n, t) {
                  var r = n.priority,
                    i = o(n, Ce);
                  Object.keys(i).forEach(function (n) {
                    var t = i[n];
                    ('left' !== n && 'top' !== n) || (t = fl(t)),
                      wd(e, n, t, r);
                  }),
                    t(e);
                },
                gl = function (e, n, t) {
                  t(e);
                },
                ml = function (e, n, t) {
                  var r = n.priority,
                    i = o(n, Ie);
                  Object.keys(i).forEach(function (n) {
                    var t = i[n];
                    ('width' !== n && 'height' !== n) || (t = fl(t)),
                      wd(e, n, t, r);
                  }),
                    t(e);
                },
                vl = 'setHtml',
                yl = 'customCode',
                hl = 'setText',
                bl = 'setAttribute',
                wl = 'setImageSource',
                El = 'setStyle',
                Cl = 'move',
                Il = 'resize',
                Sl = 'rearrange',
                kl = 'remove',
                Ol = 'insertAfter',
                Pl = 'insertBefore',
                Dl = 'replaceHtml',
                Tl = 'prependHtml',
                Rl = 'appendHtml',
                Nl = 'click',
                Al = 'collectInteractions',
                xl = function () {
                  var e;
                  return (
                    f(
                      f(
                        f(
                          f(
                            f(
                              f(
                                f(
                                  f(
                                    f(f((e = {}), vl, ll(Qd)), yl, ll(Wd)),
                                    hl,
                                    ll(tl)
                                  ),
                                  bl,
                                  ll(cl)
                                ),
                                wl,
                                ll(ul)
                              ),
                              El,
                              ll(al)
                            ),
                            Cl,
                            ll(pl)
                          ),
                          Il,
                          ll(ml)
                        ),
                        Sl,
                        ll(sl)
                      ),
                      kl,
                      ll(Pn)
                    ),
                    f(
                      f(
                        f(
                          f(f(f(e, Ol, ll(il)), Pl, ll(rl)), Dl, ll(ol)),
                          Tl,
                          ll(Wd)
                        ),
                        Rl,
                        ll(Jd)
                      ),
                      Al,
                      ll(gl)
                    )
                  );
                },
                Ml = 'personalization:decisions',
                jl = function (e) {
                  var n = e.logger,
                    t = e.prehidingStyle,
                    r = e.showContainers,
                    o = e.hideContainers,
                    i = e.mergeQuery,
                    a = e.processPropositions,
                    c = e.createProposition,
                    u = e.notificationHandler,
                    s = e.consent;
                  return function (e) {
                    var d = e.cacheUpdate,
                      l = e.personalizationDetails,
                      f = e.event,
                      p = e.onResponse,
                      g = s.current(),
                      v = g.state,
                      y = g.wasSet;
                    ('out' === v && y) || (l.isRenderDecisions() ? o(t) : r()),
                      i(f, l.createQueryDetails());
                    var h = u(
                      l.isRenderDecisions(),
                      l.isSendDisplayEvent(),
                      l.getViewName()
                    );
                    p(function (e) {
                      var t = e.response.getPayloadsByType(Ml);
                      en(t) ||
                        n.logOnContentRendering({
                          status: 'no-offers',
                          message: 'No offers were returned.',
                          logLevel: 'info',
                          detail: { query: l.createQueryDetails() },
                        });
                      var o,
                        i,
                        u,
                        s = t.map(function (e) {
                          return c(e);
                        }),
                        f = Bn(s, function (e) {
                          return e.getScopeType();
                        }),
                        p = f.page,
                        g = void 0 === p ? [] : p,
                        v = f.view,
                        y = void 0 === v ? [] : v,
                        b = f.proposition,
                        w = void 0 === b ? [] : b,
                        E = d.update(y);
                      if (l.isRenderDecisions()) {
                        var C = a([].concat(m(g), m(E)), w);
                        (o = C.render),
                          (i = C.returnedPropositions),
                          (u = C.returnedDecisions),
                          en(g) &&
                            n.logOnContentRendering({
                              status: 'rendering-started',
                              message:
                                'Started rendering propositions for page-wide scope.',
                              logLevel: 'info',
                              detail: {
                                scope: _o,
                                propositions: g.map(function (e) {
                                  return e.toJSON();
                                }),
                              },
                            }),
                          en(E) &&
                            n.logOnContentRendering({
                              status: 'rendering-started',
                              message:
                                'Rendering propositions started for view scope - '.concat(
                                  l.getViewName(),
                                  '.'
                                ),
                              logLevel: 'info',
                              detail: {
                                scope: l.getViewName(),
                                propositions: E.map(function (e) {
                                  return e.toJSON();
                                }),
                              },
                            }),
                          o().then(h),
                          r();
                      } else {
                        var I = a([], [].concat(m(g), m(E), m(w)));
                        (i = I.returnedPropositions), (u = I.returnedDecisions);
                      }
                      return { propositions: i, decisions: u };
                    });
                  };
                },
                _l = function (e, n) {
                  if (sd(e)) return On(e, n);
                  for (var t = md(e), r = !1, o = 0; o < t.length; o += 1)
                    if (t[o] === n) {
                      r = !0;
                      break;
                    }
                  return r;
                },
                Ll = 'view',
                ql = 'page',
                Ul = 'proposition',
                Bl = function (e) {
                  return e.map(function (e) {
                    return e.trackingLabel, e.scopeType, o(e, Se);
                  });
                },
                Fl = function (e) {
                  return e.filter(function (n, t) {
                    var r = JSON.stringify(n);
                    return (
                      t ===
                      e.findIndex(function (e) {
                        return JSON.stringify(e) === r;
                      })
                    );
                  });
                },
                Vl = function (e, n, t) {
                  for (
                    var r = document.documentElement, o = e, i = 0;
                    o && o !== r;

                  ) {
                    if (_l(n, o)) {
                      var a = t(n),
                        c = { metas: a },
                        u = a.find(function (e) {
                          return e.trackingLabel;
                        });
                      u && ((c.label = u.trackingLabel), (c.weight = i));
                      var s = a.find(function (e) {
                        return e.scopeType === Ll;
                      });
                      return s && ((c.viewName = s.scope), (c.weight = i)), c;
                    }
                    (o = o.parentNode), (i += 1);
                  }
                  return { metas: null };
                },
                Hl = function (e, n, t) {
                  for (
                    var r,
                      o = [],
                      i = '',
                      a = Number.MAX_SAFE_INTEGER,
                      c = Number.MAX_SAFE_INTEGER,
                      u = 0;
                    u < n.length;
                    u += 1
                  ) {
                    var s = Vl(e, n[u], t),
                      d = s.metas,
                      l = s.label,
                      f = s.weight,
                      p = s.viewName;
                    d &&
                      (l && f <= a && ((i = l), (a = f)),
                      p && f <= c && ((r = p), (c = f)),
                      o.push.apply(o, m(Bl(d))));
                  }
                  return {
                    decisionsMeta: Fl(o),
                    propositionActionLabel: i,
                    propositionActionToken: void 0,
                    viewName: r,
                  };
                },
                zl = function () {
                  return (
                    -1 !==
                    (arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : document
                    ).location.href.indexOf('adobe_authoring_enabled')
                  );
                },
                Jl = function (e, n) {
                  if (n || e) {
                    var t = {};
                    return e && (t.label = e), n && (t.tokens = [n]), t;
                  }
                },
                Gl = function (e) {
                  var n = e.mergeDecisionsMeta,
                    t = e.collectInteractions,
                    r = e.collectClicks,
                    o = e.getInteractionMetas,
                    i = e.getClickMetas,
                    a = e.getClickSelectors,
                    c = e.autoCollectPropositionInteractions;
                  return function (e) {
                    var u,
                      s,
                      d,
                      l = e.event,
                      f = e.clickedElement,
                      p = [];
                    if (
                      ([t(f, o, c), r(f, a(), i)].forEach(function (e) {
                        var n = e.decisionsMeta,
                          t = e.propositionActionLabel,
                          r = e.propositionActionToken,
                          o = e.viewName;
                        Array.prototype.push.apply(p, n),
                          !u && t && (u = t),
                          !s && r && (s = r),
                          !d && o && (d = o);
                      }),
                      en(p))
                    ) {
                      var g = { eventType: ou };
                      d && (g.web = { webPageDetails: { viewName: d } }),
                        l.mergeXdm(g),
                        n(l, p, [Ou.INTERACT], Jl(u, s));
                    }
                  };
                },
                Ql = function (e) {
                  var n = e.createProposition,
                    t = !1,
                    r = Promise.resolve({}),
                    o = function (e, t) {
                      var r = e[t.toLowerCase()];
                      return r && r.length > 0
                        ? r
                        : [
                            n(
                              {
                                scope: t,
                                scopeDetails: {
                                  characteristics: { scopeType: Ll },
                                },
                                items: [{ schema: Xc }],
                              },
                              !1
                            ),
                          ];
                    };
                  return {
                    createCacheUpdate: function (e) {
                      var n = qe();
                      return (
                        (t = !0),
                        (r = r.then(function (e) {
                          return n.promise
                            .then(function (n) {
                              return l(l({}, e), n);
                            })
                            .catch(function () {
                              return e;
                            });
                        })),
                        {
                          update: function (t) {
                            var r = t.filter(function (e) {
                                return e.getScope();
                              }),
                              i = Bn(r, function (e) {
                                return e.getScope().toLowerCase();
                              });
                            return n.resolve(i), e ? o(i, e) : [];
                          },
                          cancel: function () {
                            n.reject();
                          },
                        }
                      );
                    },
                    getView: function (e) {
                      return r.then(function (n) {
                        return o(n, e);
                      });
                    },
                    isInitialized: function () {
                      return t;
                    },
                  };
                },
                Wl = function (e) {
                  var n = e.processPropositions,
                    t = e.viewCache,
                    r = e.logger;
                  return function (e) {
                    var o,
                      i,
                      a = e.personalizationDetails,
                      c = e.onResponse,
                      u = a.getViewName();
                    return (
                      c(function () {
                        return { propositions: o, decisions: i };
                      }),
                      t.getView(u).then(function (e) {
                        var t;
                        if (a.isRenderDecisions()) {
                          var c = n(e);
                          return (
                            (t = c.render),
                            (o = c.returnedPropositions),
                            (i = c.returnedDecisions),
                            r.logOnContentRendering({
                              status: 'rendering-started',
                              message:
                                'Started rendering propositions for view scope - '.concat(
                                  u,
                                  '.'
                                ),
                              logLevel: 'info',
                              detail: {
                                scope: u,
                                propositions: e.map(function (e) {
                                  return e.toJSON();
                                }),
                              },
                            }),
                            t()
                          );
                        }
                        var s = n([], e);
                        return (
                          (o = s.returnedPropositions),
                          (i = s.returnedDecisions),
                          []
                        );
                      })
                    );
                  };
                },
                Xl = function (e) {
                  return Object.keys(e).map(function (n) {
                    return l({ id: n }, e[n]);
                  });
                },
                $l = function () {
                  var e = {};
                  return {
                    storeClickMeta: function (n) {
                      var t = n.selector,
                        r = n.meta,
                        o = r.id,
                        i = r.scope,
                        a = r.scopeDetails,
                        c = r.trackingLabel,
                        u = r.scopeType;
                      e[t] || (e[t] = {}),
                        (e[t][o] = {
                          scope: i,
                          scopeDetails: a,
                          trackingLabel: c,
                          scopeType: u,
                        });
                    },
                    getClickSelectors: function () {
                      return Object.keys(e);
                    },
                    getClickMetas: function (n) {
                      return e[n] ? Xl(e[n]) : {};
                    },
                  };
                },
                Yl = function () {
                  var e = {},
                    n = {};
                  return {
                    storeInteractionMeta: function (t, r, o, i, a) {
                      (a = parseInt(a, 10)),
                        e[a] || ((e[a] = {}), (n[a] = {})),
                        n[a][t] || (n[a][t] = new Set()),
                        n[a][t].add(r),
                        (e[a][t] = l(l({}, i), {}, { scopeType: o }));
                    },
                    getInteractionMetas: function (t) {
                      return Array.isArray(t) && 0 !== t.length
                        ? Object.values(
                            t
                              .map(function (e) {
                                return parseInt(e, 10);
                              })
                              .reduce(function (t, r) {
                                return (
                                  Object.keys(e[r] || {}).forEach(function (o) {
                                    t[o] ||
                                      (t[o] = {
                                        proposition: e[r][o],
                                        items: new Set(),
                                      }),
                                      (t[o].items = new Set(
                                        [].concat(m(t[o].items), m(n[r][o]))
                                      ));
                                  }),
                                  t
                                );
                              }, {})
                          ).map(function (e) {
                            var n = e.proposition,
                              t = e.items;
                            return l(
                              l({}, n),
                              {},
                              {
                                items: Array.from(t).map(function (e) {
                                  return { id: e };
                                }),
                              }
                            );
                          })
                        : [];
                    },
                  };
                },
                Kl = function (e, n) {
                  return e === Kc && n === Al;
                },
                Zl = f(
                  f(
                    f(
                      f(
                        f({}, $c, function () {
                          return !0;
                        }),
                        Yc,
                        function () {
                          return !0;
                        }
                      ),
                      Kc,
                      Kl
                    ),
                    nu,
                    function () {
                      return !0;
                    }
                  ),
                  Xc,
                  function () {
                    return !0;
                  }
                ),
                ef = function (e, n) {
                  return 'function' == typeof Zl[e] && Zl[e](e, n);
                },
                nf = function (e) {
                  var n = e.processPropositions,
                    t = e.createProposition,
                    r = e.renderedPropositions,
                    o = e.viewCache,
                    i = function (e) {
                      var n = e.items,
                        t = e.metadataForScope,
                        r = void 0 === t ? {} : t,
                        o = r.actionType,
                        i = r.selector;
                      return n
                        .filter(function (e) {
                          return ef(e.schema, o);
                        })
                        .map(function (e) {
                          var n = e.schema;
                          return n === Yc || Kl(n, o)
                            ? Nn(r)
                              ? void 0
                              : l(
                                  l({}, e),
                                  {},
                                  {
                                    schema: Kl(n, o) ? $c : n,
                                    data: l(
                                      l({}, e.data),
                                      {},
                                      { selector: i, type: o }
                                    ),
                                  }
                                )
                            : l({}, e);
                        })
                        .filter(function (e) {
                          return e;
                        });
                    },
                    a = function (e) {
                      return !(e.scope === _o && e.renderAttempted);
                    },
                    c = function (e) {
                      var n = e.propositions,
                        t = e.metadata;
                      return n
                        .filter(a)
                        .map(function (e) {
                          return en(e.items)
                            ? {
                                id: e.id,
                                scope: e.scope,
                                scopeDetails: e.scopeDetails,
                                items: i({
                                  items: e.items,
                                  metadataForScope: t[e.scope],
                                }),
                              }
                            : e;
                        })
                        .filter(function (e) {
                          return en(e.items);
                        });
                    };
                  return function (e) {
                    var i = e.propositions,
                      a = void 0 === i ? [] : i,
                      u = e.metadata,
                      s = void 0 === u ? {} : u,
                      d = e.viewName,
                      l = qe();
                    r.concat(l.promise);
                    var f = c({ propositions: a, metadata: s }).map(function (
                      e
                    ) {
                      return t(e);
                    });
                    return Promise.resolve()
                      .then(function () {
                        return d ? o.getView(d) : [];
                      })
                      .then(function (e) {
                        var t = n([].concat(m(f), m(e))),
                          r = t.render,
                          o = t.returnedPropositions;
                        return r().then(l.resolve), { propositions: o };
                      });
                  };
                },
                tf = function (e) {
                  var n = e.window;
                  return function () {
                    return n.location;
                  };
                },
                rf = function (e) {
                  return e.targetMigrationEnabled
                    ? function (e) {
                        e.getPayload().mergeMeta({ target: { migration: !0 } });
                      }
                    : ft;
                },
                of = 'BODY > *:eq(0)',
                af = function (e) {
                  var n = e.selector;
                  return e.type !== yl || n !== of
                    ? e
                    : l(l({}, e), { selector: 'BODY' });
                },
                cf = 'SCRIPT,LINK,STYLE',
                uf = function (e) {
                  var n = ad(e);
                  return dn(cf, n)
                    .map(function (e) {
                      return e.outerHTML;
                    })
                    .join('');
                },
                sf = function (e) {
                  var n = l({}, e),
                    t = n.content,
                    r = n.selector;
                  if (ms(t)) return n;
                  if (null == r) return n;
                  var o = md(r);
                  return qd(o[0], Ye)
                    ? ((n.type = Rl), (n.content = uf(t)), n)
                    : n;
                },
                df = function (e) {
                  return function (n) {
                    return n
                      ? e.reduce(function (e, n) {
                          return l(l({}, e), n(e));
                        }, n)
                      : n;
                  };
                },
                lf = function (e) {
                  var n = e.preprocess,
                    t = e.isPageWideSurface,
                    r = function (e, t) {
                      var r = e.id,
                        o = e.schema,
                        i = e.data,
                        a = e.characteristics,
                        c = (void 0 === a ? {} : a).trackingLabel,
                        u = i ? i.type : void 0,
                        s = n(i);
                      return {
                        getId: function () {
                          return r;
                        },
                        getSchema: function () {
                          return o;
                        },
                        getSchemaType: function () {
                          return u;
                        },
                        getData: function () {
                          return s;
                        },
                        getProposition: function () {
                          return t;
                        },
                        getTrackingLabel: function () {
                          return c;
                        },
                        getOriginalItem: function () {
                          return e;
                        },
                        toString: function () {
                          return JSON.stringify(e);
                        },
                        toJSON: function () {
                          return e;
                        },
                      };
                    };
                  return function (e) {
                    var n =
                        !(arguments.length > 1 && void 0 !== arguments[1]) ||
                        arguments[1],
                      o =
                        arguments.length > 2 &&
                        void 0 !== arguments[2] &&
                        arguments[2],
                      i = e.id,
                      a = e.scope,
                      c = e.scopeDetails,
                      u = e.items,
                      s = void 0 === u ? [] : u,
                      d = (c || {}).characteristics,
                      f = (void 0 === d ? {} : d).scopeType;
                    return {
                      getScope: function () {
                        return a;
                      },
                      getScopeType: function () {
                        return a === _o || t(a) ? ql : f === Ll ? Ll : Ul;
                      },
                      getItems: function () {
                        var e = this;
                        return s.map(function (n) {
                          return r(n, e);
                        });
                      },
                      getNotification: function () {
                        return { id: i, scope: a, scopeDetails: c };
                      },
                      getId: function () {
                        return i;
                      },
                      toJSON: function () {
                        return e;
                      },
                      shouldSuppressDisplay: function () {
                        return o;
                      },
                      addToReturnValues: function (t, r, o, i) {
                        n &&
                          (t.push(
                            l(
                              l({}, e),
                              {},
                              {
                                items: o.map(function (e) {
                                  return e.getOriginalItem();
                                }),
                                renderAttempted: i,
                              }
                            )
                          ),
                          i ||
                            r.push(
                              l(
                                l({}, e),
                                {},
                                {
                                  items: o.map(function (e) {
                                    return e.getOriginalItem();
                                  }),
                                }
                              )
                            ));
                      },
                    };
                  };
                },
                ff = function () {
                  var e = Promise.resolve([]);
                  return {
                    concat: function (n) {
                      e = e.then(function (e) {
                        return n
                          .then(function (n) {
                            return e.concat(n);
                          })
                          .catch(function () {
                            return e;
                          });
                      });
                    },
                    clear: function () {
                      var n = e;
                      return (e = Promise.resolve([])), n;
                    },
                  };
                },
                pf = function () {
                  return {
                    render: ft,
                    setRenderAttempted: !0,
                    includeInNotification: !0,
                  };
                },
                gf = 'always',
                mf = 'never',
                vf = 'decoratedElementsOnly',
                yf = [gf, mf, vf],
                hf = 'data-aep-interact-id',
                bf = 'data-aep-click-label',
                wf = 'data-aep-click-token',
                Ef = 0,
                Cf = function (e, n) {
                  return n ? parseInt(n, 10) : ++Ef;
                },
                If = function (e, n) {
                  return !!e && !!e[n] && [gf, vf].includes(e[n]);
                },
                Sf = function (e, n, t, r, o, i, a, c) {
                  var u = a.scopeDetails,
                    s = (void 0 === u ? {} : u).decisionProvider;
                  return If(e, s) || n === Nl
                    ? function (e) {
                        if (e.tagName) {
                          var n = Cf(t, hd(e, hf));
                          c(t, r, i, a, n),
                            yd(e, hf, n),
                            o && !hd(e, bf) && yd(e, bf, o);
                        }
                      }
                    : ft;
                },
                kf = function (e) {
                  var n = e.modules,
                    t = e.logger,
                    r = e.storeInteractionMeta,
                    o = e.storeClickMeta,
                    i = e.autoCollectPropositionInteractions;
                  return function (e) {
                    var a = e.getData() || {},
                      c = a.type,
                      u = a.selector;
                    if (!c)
                      return (
                        t.warn(
                          'Invalid DOM action data: missing type.',
                          e.getData()
                        ),
                        { setRenderAttempted: !1, includeInNotification: !1 }
                      );
                    if (c === Nl)
                      return u
                        ? (o({
                            selector: u,
                            meta: l(
                              l({}, e.getProposition().getNotification()),
                              {},
                              {
                                trackingLabel: e.getTrackingLabel(),
                                scopeType: e.getProposition().getScopeType(),
                              }
                            ),
                          }),
                          { setRenderAttempted: !0, includeInNotification: !1 })
                        : (t.warn(
                            'Invalid DOM action data: missing selector.',
                            e.getData()
                          ),
                          {
                            setRenderAttempted: !1,
                            includeInNotification: !1,
                          });
                    if (!n[c])
                      return (
                        t.warn(
                          'Invalid DOM action data: unknown type.',
                          e.getData()
                        ),
                        { setRenderAttempted: !1, includeInNotification: !1 }
                      );
                    var s = Sf(
                      i,
                      c,
                      e.getProposition().getId(),
                      e.getId(),
                      e.getTrackingLabel(),
                      e.getProposition().getScopeType(),
                      e.getProposition().getNotification(),
                      r
                    );
                    return {
                      render: function () {
                        return n[c](e.getData(), s);
                      },
                      setRenderAttempted: !0,
                      includeInNotification: !0,
                    };
                  };
                },
                Of = function (e) {
                  var n = e.modules,
                    t = e.logger,
                    r = e.storeInteractionMeta,
                    o = e.autoCollectPropositionInteractions;
                  return function (e) {
                    var i = e.getData() || {},
                      a = i.type;
                    if (!i.selector || !a)
                      return {
                        setRenderAttempted: !1,
                        includeInNotification: !1,
                      };
                    if (!n[a])
                      return (
                        t.warn('Invalid HTML content data', e.getData()),
                        { setRenderAttempted: !1, includeInNotification: !1 }
                      );
                    var c = Sf(
                      o,
                      a,
                      e.getProposition().getId(),
                      e.getId(),
                      e.getTrackingLabel(),
                      e.getProposition().getScopeType(),
                      e.getProposition().getNotification(),
                      r
                    );
                    return {
                      render: function () {
                        return n[a](e.getData(), c);
                      },
                      setRenderAttempted: !0,
                      includeInNotification: !0,
                    };
                  };
                },
                Pf = function (e) {
                  var n = e.logger,
                    t = e.executeRedirect,
                    r = e.collect;
                  return function (e) {
                    var o = (e.getData() || {}).content;
                    return o
                      ? {
                          render: function () {
                            return r({
                              decisionsMeta: [
                                e.getProposition().getNotification(),
                              ],
                              documentMayUnload: !0,
                            }).then(function () {
                              return (
                                n.logOnContentRendering({
                                  status: 'rendering-redirect',
                                  detail: {
                                    propositionDetails: e
                                      .getProposition()
                                      .getNotification(),
                                    redirect: o,
                                  },
                                  message: 'Redirect action '.concat(
                                    e.toString(),
                                    ' executed.'
                                  ),
                                  logLevel: 'info',
                                }),
                                t(o)
                              );
                            });
                          },
                          setRenderAttempted: !0,
                          onlyRenderThis: !0,
                        }
                      : (n.warn('Invalid Redirect data', e.getData()), {});
                  };
                },
                Df = function (e) {
                  var n = e.schemaProcessors,
                    t = e.logger,
                    r = function (e, n) {
                      return function () {
                        return Promise.resolve()
                          .then(e)
                          .then(function () {
                            return (
                              t.enabled &&
                                t.info(
                                  'Action '.concat(n.toString(), ' executed.')
                                ),
                              n.toJSON()
                            );
                          })
                          .catch(function (e) {
                            var r = e.message,
                              o = e.stack,
                              i = 'Failed to execute action '
                                .concat(n.toString(), '. ')
                                .concat(r, ' ')
                                .concat(o);
                            t.logOnContentRendering({
                              status: 'rendering-failed',
                              detail: {
                                propositionDetails: n
                                  .getProposition()
                                  .getNotification(),
                                item: n.toJSON(),
                              },
                              error: e,
                              message: i,
                              logLevel: 'warn',
                            });
                          });
                      };
                    },
                    o = function (e, n) {
                      return Promise.all(
                        e.map(function (e) {
                          return e();
                        })
                      ).then(function (e) {
                        var t = e.filter(function (e) {
                          return e;
                        });
                        if (n && en(t)) return l(l({}, n), {}, { items: t });
                      });
                    },
                    i = function (e) {
                      var t = n[e.getSchema()];
                      return t ? t(e) : {};
                    },
                    a = function (e) {
                      for (
                        var n,
                          t,
                          a,
                          c,
                          u = e.renderers,
                          s = e.returnedPropositions,
                          d = e.returnedDecisions,
                          l = e.items,
                          f = e.proposition,
                          p = m(u),
                          g = m(s),
                          v = m(d),
                          y = [],
                          h = [],
                          b = [],
                          w = !1,
                          E = !1,
                          C = 0;
                        l.length > C;

                      ) {
                        c = l[C];
                        var I = i(c);
                        if (
                          ((n = I.render),
                          (t = I.setRenderAttempted),
                          (a = I.includeInNotification),
                          (E = I.onlyRenderThis))
                        ) {
                          (g = []),
                            (v = []),
                            t ? ((y = [c]), (h = [])) : ((y = []), (h = [c])),
                            (p = []),
                            (b = [n]),
                            (w = a);
                          break;
                        }
                        n && b.push(r(n, c)),
                          a && (w = !0),
                          t ? y.push(c) : h.push(c),
                          (C += 1);
                      }
                      if (b.length > 0) {
                        var S = w ? f.getNotification() : void 0;
                        p.push(function () {
                          return o(b, S);
                        });
                      } else
                        w &&
                          p.push(function () {
                            return Promise.resolve(f.getNotification());
                          });
                      return (
                        y.length > 0 && f.addToReturnValues(g, v, y, !0),
                        h.length > 0 && f.addToReturnValues(g, v, h, !1),
                        {
                          renderers: p,
                          returnedPropositions: g,
                          returnedDecisions: v,
                          onlyRenderThis: E,
                        }
                      );
                    };
                  return function (e) {
                    for (
                      var n,
                        r,
                        o,
                        i =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : [],
                        c = [],
                        u = [],
                        s = [],
                        d = 0;
                      e.length > d;

                    ) {
                      o = (r = e[d]).getItems();
                      var f = a({
                        renderers: c,
                        returnedPropositions: u,
                        returnedDecisions: s,
                        items: o,
                        proposition: r,
                      });
                      if (
                        ((c = f.renderers),
                        (u = f.returnedPropositions),
                        (s = f.returnedDecisions),
                        (n = f.onlyRenderThis))
                      )
                        break;
                      d += 1;
                    }
                    return (
                      n &&
                        e.forEach(function (e, n) {
                          n !== d &&
                            e.addToReturnValues(u, s, e.getItems(), !1);
                        }),
                      i.forEach(function (e) {
                        e.addToReturnValues(u, s, e.getItems(), !1);
                      }),
                      {
                        returnedPropositions: u,
                        returnedDecisions: s,
                        render: function () {
                          return Promise.all(
                            c.map(function (e) {
                              return e();
                            })
                          ).then(function (e) {
                            var n = e.filter(function (e) {
                                return e;
                              }),
                              r = n.map(function (e) {
                                return {
                                  id: e.id,
                                  scope: e.scope,
                                  scopeDetails: e.scopeDetails,
                                };
                              });
                            if (en(n)) {
                              var o = Bn(n, function (e) {
                                return e.scope;
                              });
                              t.logOnContentRendering({
                                status: 'rendering-succeeded',
                                detail: l({}, o),
                                message: 'Scopes: '.concat(
                                  JSON.stringify(o),
                                  ' successfully executed.'
                                ),
                                logLevel: 'info',
                              });
                            }
                            return r;
                          });
                        },
                      }
                    );
                  };
                },
                Tf = function () {
                  var e = 0;
                  return function (n) {
                    var t = n.items;
                    return (
                      !!(void 0 === t ? [] : t).some(function (e) {
                        return e.schema === nu;
                      }) && (e += 1) > 1
                    );
                  };
                },
                Rf = function (e) {
                  var n = e.processPropositions,
                    t = e.createProposition,
                    r = e.notificationHandler;
                  return function (e) {
                    var o = e.renderDecisions,
                      i = e.propositions,
                      a = e.event,
                      c = e.personalization,
                      u = void 0 === c ? {} : c;
                    if (!o) return Promise.resolve();
                    var s = u.sendDisplayEvent,
                      d = void 0 === s || s,
                      l = a ? a.getViewName() : void 0,
                      f = Tf(),
                      p = i.map(function (e) {
                        return t(e, !0, f(e));
                      }),
                      g = n(p),
                      m = g.render,
                      v = g.returnedPropositions,
                      y = r(o, d, l),
                      h = p.reduce(function (e, n) {
                        return (e[n.getId()] = n), e;
                      }, {});
                    return (
                      m().then(function (e) {
                        var n = e.filter(function (e) {
                            return !h[e.id].shouldSuppressDisplay();
                          }),
                          t = e.filter(function (e) {
                            return h[e.id].shouldSuppressDisplay();
                          });
                        y(n, t);
                      }),
                      Promise.resolve({ propositions: v })
                    );
                  };
                },
                Nf = 'defaultContent',
                Af = ['content', 'contentType'],
                xf = ['mobileParameters', 'webParameters', 'html'],
                Mf = function (e, n) {
                  for (var t = 0; t < Af.length; t += 1) {
                    var r = Af[t];
                    if (!Object.prototype.hasOwnProperty.call(e, r))
                      return (
                        n.warn(
                          "Invalid in-app message data: missing property '".concat(
                            r,
                            "'."
                          ),
                          e
                        ),
                        !1
                      );
                  }
                  var o = e.content;
                  if (e.contentType === bu)
                    for (var i = 0; i < xf.length; i += 1) {
                      var a = xf[i];
                      if (!Object.prototype.hasOwnProperty.call(o, a))
                        return (
                          n.warn(
                            "Invalid in-app message data.content: missing property '".concat(
                              a,
                              "'."
                            ),
                            e
                          ),
                          !1
                        );
                    }
                  return !0;
                },
                jf = function (e) {
                  var n = e.modules,
                    t = e.logger;
                  return function (e) {
                    var r = e.getData(),
                      o = e.getProposition(),
                      i = l({}, o.getNotification()),
                      a = o.shouldSuppressDisplay();
                    if (!r)
                      return (
                        t.warn('Invalid in-app message data: undefined.', r), {}
                      );
                    var c = r.type,
                      u = void 0 === c ? Nf : c;
                    return n[u]
                      ? Mf(r, t)
                        ? i
                          ? {
                              render: function () {
                                return a
                                  ? null
                                  : n[u](l(l({}, r), {}, { meta: i }));
                              },
                              setRenderAttempted: !0,
                              includeInNotification: !0,
                            }
                          : (t.warn(
                              'Invalid in-app message meta: undefined.',
                              i
                            ),
                            {})
                        : {}
                      : (t.warn(
                          'Invalid in-app message data: unknown type.',
                          r
                        ),
                        {});
                  };
                },
                _f = function (e) {
                  var n = dn('#'.concat(e), document);
                  n && n.length > 0 && Pn(n[0]);
                },
                Lf = function (e) {
                  var n = {};
                  if (!e || 'a' !== e.tagName.toLowerCase()) return n;
                  var t = e.href;
                  if (!t || !t.startsWith('adbinapp://')) return n;
                  var r,
                    o,
                    i = t.split('?'),
                    a = i[0].split('://')[1],
                    c = e.innerText,
                    u = e.getAttribute('data-uuid') || '';
                  if (en(i)) {
                    var s = ye.default.parse(i[1]);
                    (r = s.interaction || ''), (o = Gi(s.link || ''));
                  }
                  return {
                    action: a,
                    interaction: r,
                    link: o,
                    label: c,
                    uuid: u,
                  };
                },
                qf = function (e) {
                  return function (n) {
                    return (
                      arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1]
                        ? (e.location.href = n)
                        : e.location.replace(n),
                      new Promise(function () {})
                    );
                  };
                },
                Uf = 'alloy-messaging-container',
                Bf = 'alloy-overlay-container',
                Ff = 'alloy-content-iframe',
                Vf = function () {
                  return [Uf, Bf].forEach(_f);
                },
                Hf = function (e) {
                  var n =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : qf(window);
                  return function (t) {
                    t.preventDefault(), t.stopImmediatePropagation();
                    var r = t.target,
                      o = 'a' === r.tagName.toLowerCase() ? r : r.closest('a');
                    if (o) {
                      var i = Lf(o),
                        a = i.action,
                        c = i.interaction,
                        u = i.link,
                        s = i.label,
                        d = i.uuid;
                      e(a, { label: s, id: c, uuid: d, link: u }),
                        'dismiss' === a && Vf(),
                        lt(u) && u.length > 0 && n(u, !0);
                    }
                  };
                },
                zf = function (e, n) {
                  var t = new DOMParser().parseFromString(e, hu),
                    r = t.querySelector('script');
                  r && r.setAttribute('nonce', Dd());
                  var o = ze('iframe', {
                    src: URL.createObjectURL(
                      new Blob([t.documentElement.outerHTML], {
                        type: 'text/html',
                      })
                    ),
                    id: Ff,
                  });
                  return (
                    o.addEventListener('load', function () {
                      (0,
                      (o.contentDocument || o.contentWindow.document)
                        .addEventListener)('click', n);
                    }),
                    o
                  );
                },
                Jf = function (e, n, t, r) {
                  [
                    { id: Bf, element: r },
                    { id: Uf, element: t },
                    { id: Ff, element: e },
                  ].forEach(function (e) {
                    var t = e.id,
                      r = e.element,
                      o = n[t],
                      i = o.style,
                      a = void 0 === i ? {} : i,
                      c = o.params,
                      u = void 0 === c ? {} : c;
                    r.style = l(l({}, r.style), a);
                    var s = u.parentElement,
                      d = void 0 === s ? 'body' : s,
                      f = u.insertionMethod,
                      p = void 0 === f ? 'appendChild' : f,
                      g = u.enabled,
                      m = void 0 === g || g,
                      v = document.querySelector(d);
                    m && v && 'function' == typeof v[p] && v[p](r);
                  });
                },
                Gf = function (e) {
                  var n = e.verticalAlign,
                    t = e.width,
                    r = e.horizontalAlign,
                    o = e.backdropColor,
                    i = e.height,
                    a = e.cornerRadius,
                    c = e.horizontalInset,
                    u = e.verticalInset,
                    s = e.uiTakeover,
                    d = void 0 !== s && s,
                    l = {
                      width: t ? ''.concat(t, '%') : '100%',
                      backgroundColor: o || 'rgba(0, 0, 0, 0.5)',
                      borderRadius: a ? ''.concat(a, 'px') : '0px',
                      border: 'none',
                      position: d ? 'fixed' : 'relative',
                      overflow: 'hidden',
                    };
                  return (
                    'left' === r
                      ? (l.left = c ? ''.concat(c, '%') : '0')
                      : 'right' === r
                      ? (l.right = c ? ''.concat(c, '%') : '0')
                      : 'center' === r &&
                        ((l.left = '50%'), (l.transform = 'translateX(-50%)')),
                    'top' === n
                      ? (l.top = u ? ''.concat(u, '%') : '0')
                      : 'bottom' === n
                      ? ((l.position = 'fixed'),
                        (l.bottom = u ? ''.concat(u, '%') : '0'))
                      : 'center' === n &&
                        ((l.top = '50%'),
                        (l.transform = ''.concat(
                          'center' === r ? ''.concat(l.transform, ' ') : '',
                          'translateY(-50%)'
                        )),
                        (l.display = 'flex'),
                        (l.alignItems = 'center'),
                        (l.justifyContent = 'center')),
                    (l.height = i ? ''.concat(i, 'vh') : '100%'),
                    l
                  );
                },
                Qf = function (e) {
                  return {
                    position: 'fixed',
                    top: '0',
                    left: '0',
                    width: '100%',
                    height: '100%',
                    background: 'transparent',
                    opacity: e.backdropOpacity || 0.5,
                    backgroundColor: e.backdropColor || '#FFFFFF',
                  };
                },
                Wf = ['enabled', 'parentElement', 'insertionMethod'],
                Xf = function (e) {
                  if (!e) return !1;
                  var n = Object.keys(e);
                  if (!n.includes(Uf)) return !1;
                  if (!n.includes(Bf)) return !1;
                  for (var t = Object.values(e), r = 0; r < t.length; r += 1) {
                    if (!qr(t[r], 'style')) return !1;
                    if (!qr(t[r], 'params')) return !1;
                    for (var o = 0; o < Wf.length; o += 1)
                      if (!qr(t[r].params, Wf[o])) return !1;
                  }
                  return !0;
                },
                $f = function (e) {
                  if (e) {
                    var n = e.uiTakeover,
                      t = void 0 !== n && n;
                    return f(
                      f(
                        f({}, Ff, {
                          style: {
                            border: 'none',
                            width: '100%',
                            height: '100%',
                          },
                          params: {
                            enabled: !0,
                            parentElement: '#alloy-messaging-container',
                            insertionMethod: 'appendChild',
                          },
                        }),
                        Uf,
                        {
                          style: Gf(e),
                          params: {
                            enabled: !0,
                            parentElement: 'body',
                            insertionMethod: 'appendChild',
                          },
                        }
                      ),
                      Bf,
                      {
                        style: Qf(e),
                        params: {
                          enabled: !0 === t,
                          parentElement: 'body',
                          insertionMethod: 'appendChild',
                        },
                      }
                    );
                  }
                },
                Yf = function () {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : {},
                    n = arguments.length > 1 ? arguments[1] : void 0;
                  Vf();
                  var t = e.content,
                    r = e.contentType,
                    o = e.mobileParameters,
                    i = e.webParameters;
                  if (r === hu) {
                    var a = ze('div', { id: Uf }),
                      c = zf(t, Hf(n)),
                      u = ze('div', { id: Bf });
                    Xf(i) || (i = $f(o)), i && Jf(c, i, a, u);
                  }
                },
                Kf = function (e, n) {
                  return new Promise(function (t) {
                    var r = e.meta;
                    Yf(e, function (e, t) {
                      var o = {};
                      (o[Ou.INTERACT] = uu),
                        -1 !== Object.values(Ou).indexOf(e) && (o[e] = uu),
                        n({
                          decisionsMeta: [r],
                          propositionAction: t,
                          eventType: ou,
                          propositionEventTypes: Object.keys(o),
                        });
                    }),
                      t({ meta: r });
                  });
                },
                Zf = function (e) {
                  return {
                    defaultContent: function (n) {
                      return Kf(n, e);
                    },
                  };
                },
                ep = function (e, n) {
                  return function (t, r, o) {
                    if (!t) return function () {};
                    if (!r) {
                      var i = qe();
                      return n.concat(i.promise), i.resolve;
                    }
                    return function () {
                      var n =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : [],
                        t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : [];
                      en(n) && e({ decisionsMeta: n, viewName: o }),
                        en(t) &&
                          e({
                            decisionsMeta: t,
                            eventType: cu,
                            propositionAction: { reason: 'Conflict' },
                            viewName: o,
                          });
                    };
                  };
                },
                np = function (e) {
                  var n = e.showContainers,
                    t = e.consent;
                  return function () {
                    var e = t.current(),
                      r = e.state,
                      o = e.wasSet;
                    r === eo && o ? n() : t.awaitConsent().catch(n);
                  };
                },
                tp = function (e) {
                  for (
                    var n,
                      t,
                      r = document.documentElement,
                      o = e,
                      i = new Set();
                    o && o !== r;

                  ) {
                    var a = hd(o, hf);
                    a && i.add(a),
                      (n = n || hd(o, bf)),
                      (t = t || hd(o, wf)),
                      (o = o.parentNode);
                  }
                  return { interactIds: m(i), clickLabel: n, clickToken: t };
                },
                rp = function (e) {
                  var n = e.find(function (e) {
                    return e.scopeType === Ll;
                  });
                  return n ? n.scope : void 0;
                },
                op = function (e, n, t) {
                  return function (r) {
                    var o = r.scopeDetails,
                      i = (void 0 === o ? {} : o).decisionProvider;
                    return e[i] === gf || (e[i] === vf && (n || t));
                  };
                },
                ip = function (e, n, t) {
                  var r = tp(e),
                    o = r.interactIds,
                    i = r.clickLabel,
                    a = void 0 === i ? '' : i,
                    c = r.clickToken,
                    u = op(t, a, c);
                  if (0 === o.length) return {};
                  var s = n(o).filter(u);
                  return {
                    decisionsMeta: Bl(s),
                    propositionActionLabel: a,
                    propositionActionToken: c,
                    viewName: rp(s),
                  };
                },
                ap = function (e) {
                  var n = e.config,
                    t = e.logger,
                    r = e.eventManager,
                    o = e.consent,
                    i = n.targetMigrationEnabled,
                    a = n.prehidingStyle,
                    c = n.autoCollectPropositionInteractions,
                    u = es({ eventManager: r, mergeDecisionsMeta: ns }),
                    s = nl(t),
                    d = el(t),
                    l = Yl(),
                    p = l.storeInteractionMeta,
                    g = l.getInteractionMetas,
                    m = $l(),
                    v = m.storeClickMeta,
                    y = m.getClickSelectors,
                    h = m.getClickMetas,
                    b = tf({ window: window }),
                    w = xl(),
                    E = df([sf, af]),
                    C = lf({ preprocess: E, isPageWideSurface: $s }),
                    I = Ql({ createProposition: C }),
                    S = qf(window),
                    k = f(
                      f(
                        f(
                          f(
                            f({}, Xc, pf),
                            $c,
                            kf({
                              modules: w,
                              logger: t,
                              storeInteractionMeta: p,
                              storeClickMeta: v,
                              autoCollectPropositionInteractions: c,
                            })
                          ),
                          Yc,
                          Of({
                            modules: w,
                            logger: t,
                            storeInteractionMeta: p,
                            autoCollectPropositionInteractions: c,
                          })
                        ),
                        eu,
                        Pf({ logger: t, executeRedirect: S, collect: u })
                      ),
                      nu,
                      jf({ modules: Zf(u), logger: t })
                    ),
                    O = Df({ schemaProcessors: k, logger: t }),
                    P = ff(),
                    D = ep(u, P),
                    T = jl({
                      prehidingStyle: a,
                      showContainers: s,
                      hideContainers: d,
                      mergeQuery: ts,
                      processPropositions: O,
                      createProposition: C,
                      notificationHandler: D,
                      consent: o,
                      logger: t,
                    }),
                    R = Gl({
                      mergeDecisionsMeta: ns,
                      collectInteractions: ip,
                      collectClicks: Hl,
                      getInteractionMetas: g,
                      getClickMetas: h,
                      getClickSelectors: y,
                      autoCollectPropositionInteractions: c,
                    }),
                    N = Wl({ processPropositions: O, viewCache: I, logger: t }),
                    A = nf({
                      processPropositions: O,
                      createProposition: C,
                      renderedPropositions: P,
                      viewCache: I,
                    }),
                    x = rf({ targetMigrationEnabled: i }),
                    M = Rf({
                      processPropositions: O,
                      createProposition: C,
                      notificationHandler: D,
                    }),
                    j = np({ showContainers: s, consent: o });
                  return id({
                    getPageLocation: b,
                    logger: t,
                    fetchDataHandler: T,
                    viewChangeHandler: N,
                    onClickHandler: R,
                    isAuthoringModeEnabled: zl,
                    mergeQuery: ts,
                    viewCache: I,
                    showContainers: s,
                    applyPropositions: A,
                    setTargetMigration: x,
                    mergeDecisionsMeta: ns,
                    renderedPropositions: P,
                    onDecisionHandler: M,
                    handleConsentFlicker: j,
                  });
                };
              ap.namespace = 'Personalization';
              var cp = yf.map(function (e) {
                return jr(e);
              });
              ap.configValidators = qr({
                prehidingStyle: Ur().nonEmpty(),
                targetMigrationEnabled: xr().default(!1),
                autoCollectPropositionInteractions: qr(
                  f(f({}, Mu, Rr(cp).default(gf)), ju, Rr(cp).default(mf))
                )
                  .default(f(f({}, Mu, gf), ju, mf))
                  .noUnknownFields(),
              });
              var up = function (e) {
                  var n = e.storedConsent,
                    t = e.taskQueue,
                    r = e.defaultConsent,
                    o = e.consent,
                    i = e.sendSetConsentRequest,
                    a = e.validateSetConsentOptions,
                    c = e.consentHashStore,
                    u = e.doesIdentityCookieExist,
                    s = f({}, to, r),
                    d = n.read(),
                    l = u(),
                    p = void 0 !== d[to];
                  (l && p) || c.clear(),
                    l || (n.clear(), (d = {})),
                    o.initializeConsent(s, d);
                  var g = function () {
                    if (0 === t.length) {
                      var e = n.read();
                      void 0 !== e[to] && o.setConsent(e);
                    }
                  };
                  return {
                    commands: {
                      setConsent: {
                        optionsValidator: a,
                        run: function (e) {
                          var n = e.consent,
                            r = e.identityMap,
                            a = e.edgeConfigOverrides;
                          o.suspend();
                          var u = c.lookup(n);
                          return t
                            .addTask(function () {
                              return u.isNew()
                                ? i({
                                    consentOptions: n,
                                    identityMap: r,
                                    edgeConfigOverrides: a,
                                  })
                                : Promise.resolve();
                            })
                            .then(function () {
                              return u.save();
                            })
                            .finally(g);
                        },
                      },
                    },
                    lifecycle: { onResponse: g, onRequestFailure: g },
                  };
                },
                sp = function (e) {
                  return Array.isArray(e)
                    ? e.map(function (e) {
                        return sp(e);
                      })
                    : 'object' === E(e) && null !== e
                    ? Object.keys(e)
                        .sort()
                        .reduce(function (n, t) {
                          return (n[t] = sp(e[t])), n;
                        }, {})
                    : e;
                },
                dp = function (e) {
                  return Le(JSON.stringify(sp(e)));
                },
                lp = function (e) {
                  var n = e.standard,
                    t = e.version;
                  return ''.concat(n, '.').concat(t);
                },
                fp = function (e) {
                  var n = e.storage;
                  return {
                    clear: function () {
                      n.clear();
                    },
                    lookup: function (e) {
                      var t = {},
                        r = function (e) {
                          var n = lp(e),
                            r = (e.standard, e.version, o(e, ke));
                          return t[n] || (t[n] = dp(r).toString()), t[n];
                        };
                      return {
                        isNew: function () {
                          return e.some(function (e) {
                            var t = lp(e),
                              o = n.getItem(t);
                            return null === o || o !== r(e);
                          });
                        },
                        save: function () {
                          e.forEach(function (e) {
                            var t = lp(e);
                            n.setItem(t, r(e));
                          });
                        },
                      };
                    },
                  };
                },
                pp = function () {
                  var e = {},
                    n = Bo({
                      content: e,
                      addIdentity: function (n, t) {
                        (e.identityMap = e.identityMap || {}),
                          (e.identityMap[n] = e.identityMap[n] || []),
                          e.identityMap[n].push(t);
                      },
                      hasIdentity: function (n) {
                        return void 0 !== (e.identityMap && e.identityMap[n]);
                      },
                    });
                  return (
                    (n.setConsent = function (n) {
                      e.consent = n;
                    }),
                    n
                  );
                },
                gp = function (e) {
                  var n = e.payload,
                    t = e.datastreamIdOverride;
                  return qo({
                    payload: n,
                    datastreamIdOverride: t,
                    getAction: function () {
                      return 'privacy/set-consent';
                    },
                    getUseSendBeacon: function () {
                      return !1;
                    },
                  });
                },
                mp = function (e) {
                  var n = e.parseConsentCookie,
                    t = e.orgId,
                    r = e.cookieJar,
                    o = Un(t, Kn);
                  return {
                    read: function () {
                      var e = r.get(o);
                      return e ? n(e) : {};
                    },
                    clear: function () {
                      r.remove(o);
                    },
                  };
                },
                vp = function (e) {
                  var n = e.createConsentRequestPayload,
                    t = e.createConsentRequest,
                    r = e.sendEdgeNetworkRequest,
                    o = e.edgeConfigOverrides;
                  return function (e) {
                    var i = e.consentOptions,
                      a = e.identityMap,
                      c = e.edgeConfigOverrides,
                      u = Ho({
                        payload: n(),
                        globalConfigOverrides: o,
                        localConfigOverrides: c,
                      });
                    u.payload.setConsent(i),
                      Pe(a) &&
                        Object.keys(a).forEach(function (e) {
                          a[e].forEach(function (n) {
                            u.payload.addIdentity(e, n);
                          });
                        });
                    var s = t(u);
                    return r({ request: s }).then(function () {});
                  };
                },
                yp = function (e) {
                  return e.split(';').reduce(function (e, n) {
                    var t = a(n.split('='), 2),
                      r = t[0],
                      o = t[1];
                    return (e[r] = o), e;
                  }, {});
                },
                hp = qr({
                  consent: Ar(Nr()).required().nonEmpty(),
                  identityMap: Fr,
                  edgeConfigOverrides: Vr,
                })
                  .noUnknownFields()
                  .required(),
                bp = qr({ defaultConsent: Br(Zr, eo, no).default(Zr) }),
                wp = function (e) {
                  var n = e.config,
                    t = e.consent,
                    r = e.sendEdgeNetworkRequest,
                    o = e.createNamespacedStorage,
                    i = n.orgId,
                    a = n.defaultConsent,
                    c = mp({ parseConsentCookie: yp, orgId: i, cookieJar: Re }),
                    u = _e(),
                    s = vp({
                      createConsentRequestPayload: pp,
                      createConsentRequest: gp,
                      sendEdgeNetworkRequest: r,
                      edgeConfigOverrides: n.edgeConfigOverrides,
                    }),
                    d = o(''.concat(qn(i), '.consentHashes.')),
                    l = fp({ storage: d.persistent }),
                    f = et({ orgId: i });
                  return up({
                    storedConsent: c,
                    taskQueue: u,
                    defaultConsent: a,
                    consent: t,
                    sendSetConsentRequest: s,
                    validateSetConsentOptions: hp,
                    consentHashStore: l,
                    doesIdentityCookieExist: f,
                  });
                };
              (wp.namespace = 'Consent'), (wp.configValidators = bp);
              var Ep = qr({
                  streamingMedia: qr({
                    channel: Ur().nonEmpty().required(),
                    playerName: Ur().nonEmpty().required(),
                    appVersion: Ur(),
                    mainPingInterval: _r().minimum(10).maximum(50).default(10),
                    adPingInterval: _r().minimum(1).maximum(10).default(10),
                  }).noUnknownFields(),
                }),
                Cp = function (e) {
                  var n = e.options;
                  return Rr(
                    [
                      qr({
                        playerId: Ur().required(),
                        getPlayerDetails: Mr().required(),
                        xdm: qr({
                          mediaCollection: qr({
                            sessionDetails: qr(Nr()).required(),
                          }),
                        }),
                        edgeConfigOverrides: qr({}),
                      }).required(),
                      qr({
                        xdm: qr({
                          mediaCollection: qr({
                            playhead: _r().required(),
                            sessionDetails: qr(Nr()).required(),
                          }),
                        }),
                        edgeConfigOverrides: qr({}),
                      }).required(),
                    ],
                    'Error validating the createMediaSession command options.'
                  )(n);
                },
                Ip = function (e) {
                  var n = e.options;
                  return Rr(
                    [
                      qr({
                        playerId: Ur().required(),
                        xdm: qr({
                          eventType: Br.apply(
                            void 0,
                            m(Object.values(cs))
                          ).required(),
                          mediaCollection: qr(Nr()),
                        }).required(),
                      }).required(),
                      qr({
                        xdm: qr({
                          eventType: Br.apply(
                            void 0,
                            m(Object.values(cs))
                          ).required(),
                          mediaCollection: qr({
                            playhead: _r().integer().required(),
                            sessionID: Ur().required(),
                          }).required(),
                        }).required(),
                      }).required(),
                    ],
                    'Error validating the sendMediaEvent command options.'
                  )(n);
                },
                Sp = function (e) {
                  var n = e.config,
                    t = e.trackMediaEvent,
                    r = e.trackMediaSession,
                    o = e.mediaResponseHandler;
                  return {
                    lifecycle: {
                      onBeforeEvent: function (e) {
                        var n = e.mediaOptions,
                          t = e.onResponse,
                          r = void 0 === t ? ft : t;
                        if (n) {
                          var i = n.legacy,
                            a = n.playerId,
                            c = n.getPlayerDetails;
                          i ||
                            r(function (e) {
                              var n = e.response;
                              return o({
                                playerId: a,
                                getPlayerDetails: c,
                                response: n,
                              });
                            });
                        }
                      },
                    },
                    commands: {
                      createMediaSession: {
                        optionsValidator: function (e) {
                          return Cp({ options: e });
                        },
                        run: r,
                      },
                      sendMediaEvent: {
                        optionsValidator: function (e) {
                          return Ip({ options: e });
                        },
                        run: function (e) {
                          return n.streamingMedia
                            ? t(e)
                            : Promise.reject(
                                new Error('Streaming media is not configured.')
                              );
                        },
                      },
                    },
                  };
                },
                kp = function (e) {
                  var n = e.config,
                    t = e.logger,
                    r = e.eventManager,
                    o = e.sendEdgeNetworkRequest,
                    i = e.consent,
                    a = ls(),
                    c = ss({
                      config: n,
                      eventManager: r,
                      logger: t,
                      consent: i,
                      sendEdgeNetworkRequest: o,
                      setTimestamp: wc(function () {
                        return new Date();
                      }),
                    }),
                    u = ps({
                      mediaSessionCacheManager: a,
                      mediaEventManager: c,
                      config: n,
                    }),
                    s = gs({
                      config: n,
                      mediaEventManager: c,
                      mediaSessionCacheManager: a,
                    }),
                    d = vs({
                      mediaSessionCacheManager: a,
                      config: n,
                      trackMediaEvent: u,
                    });
                  return Sp({
                    config: n,
                    trackMediaEvent: u,
                    mediaEventManager: c,
                    mediaResponseHandler: d,
                    trackMediaSession: s,
                  });
                };
              (kp.namespace = 'Streaming media'), (kp.configValidators = Ep);
              var Op = function (e) {
                  var n = e.options;
                  return (
                    e.logger, qr({ message: Ur().required() }).required()(n)
                  );
                },
                Pp = window.fetch,
                Dp =
                  'https://experience-platform-aep-gen-ai-assistant-exp86-v2.corp.ethos12-stage-va7.ethos.adobe.net/brand-concierge/chats',
                Tp = function (e, n) {
                  return window.___interactionsEnabled && n.chatId
                    ? ''
                        .concat(Dp, '/')
                        .concat(n.chatId, '/interactions?datastream_id=')
                        .concat(e, '&ecid=')
                        .concat(window.___brand_concierge_ecid)
                    : ''
                        .concat(Dp, '?datastream_id=')
                        .concat(e, '&ecid=')
                        .concat(window.___brand_concierge_ecid);
                },
                Rp = function (e) {
                  return lt(e) ? { message: e } : {};
                },
                Np = function (e) {
                  var n = e.logger,
                    t = e.eventManager,
                    r = (e.consent, e.config),
                    o = e.instanceName,
                    i = r.datastreamId,
                    a = { initialized: !1 },
                    c = function (e) {
                      return e.id && (a.chatId = e.id), e;
                    };
                  return {
                    lifecycle: {
                      onBeforeEvent: function (e) {
                        e.event;
                        var n =
                          window.__chatUISRC ||
                          '/libs/blocks/bc-uar/main.js';
                        n &&
                          !a.initialized &&
                          (window.addEventListener(
                            'adobe-brand-concierge-prompt-loaded',
                            function () {
                              window.dispatchEvent(
                                new CustomEvent(
                                  'alloy-brand-concierge-instance',
                                  {
                                    detail: { type: 'loaded', instanceName: o },
                                  }
                                )
                              );
                            }
                          ),
                          zd([n]).then(function () {
                            a.initialized = !0;
                          }));
                      },
                      onResponse: function (e) {
                        var n = e.response.getPayloadsByType(
                            'brand-concierge:config'
                          ),
                          t = localStorage.getItem('__chatUIDevURL');
                        !a.initialized &&
                          n.length > 0 &&
                          !t &&
                          (window.addEventListener(
                            'adobe-brand-concierge-prompt-loaded',
                            function () {
                              window.dispatchEvent(
                                new CustomEvent(
                                  'alloy-brand-concierge-instance',
                                  {
                                    detail: { type: 'loaded', instanceName: o },
                                  }
                                )
                              );
                            }
                          ),
                          zd([n[0].src]).then(function () {
                            a.initialized = !0;
                          }));
                      },
                    },
                    commands: {
                      sendBrandConciergeEvent: {
                        optionsValidator: function (e) {
                          return Op({ logger: n, options: e });
                        },
                        run: function (e) {
                          var n = Tp(i, a);
                          return Pp(n, {
                            method: 'POST',
                            headers: { 'Content-Type': '' },
                            body: JSON.stringify(Rp(e.message)),
                          })
                            .then(function (e) {
                              var n = t.createEvent(),
                                r = e.json();
                              return (
                                n.mergeXdm({
                                  eventType: 'brand-concierge:interaction',
                                }),
                                t.sendEvent(n),
                                c(r),
                                r
                              );
                            })
                            .then(c);
                        },
                      },
                    },
                  };
                };
              Np.namespace = 'BrandConcierge';
              var Ap = Object.freeze({
                  __proto__: null,
                  activityCollector: sc,
                  audiences: pc,
                  brandConcierge: Np,
                  consent: wp,
                  context: _c,
                  eventMerge: as,
                  mediaAnalyticsBridge: Ns,
                  personalization: ap,
                  rulesEngine: rs,
                  streamingMedia: kp,
                }),
                xp = window.console,
                Mp = ot(window),
                jp = function () {
                  var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : {},
                    n = qr({
                      name: Ur().default('alloy'),
                      monitors: Ar(qr({})).default([]),
                      components: Ar(Mr()),
                    }).noUnknownFields()(e),
                    t = n.name,
                    r = n.monitors,
                    o = n.components,
                    i = function () {
                      return (window.__alloyMonitors || []).concat(r);
                    },
                    a = zr({
                      console: xp,
                      locationSearch: window.location.search,
                      createLogger: jo,
                      instanceName: t,
                      createNamespacedStorage: Mp,
                      getMonitors: i,
                    }),
                    c = Ca({
                      instanceName: t,
                      logController: a,
                      components: o,
                    });
                  return a.logger.logOnInstanceCreated({ instance: c }), c;
                };
              n.createInstance = function () {
                var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  n = qr({
                    name: Ur().default('alloy'),
                    monitors: Ar(qr({})).default([]),
                  }).noUnknownFields()(e),
                  t = n.name,
                  r = n.monitors;
                return jp({
                  name: t,
                  monitors: r,
                  components: Object.values(Ap),
                });
              };
            },
          },
          'adobe-alloy-nina/dist/lib/instanceManager/createInstanceManager.js':
            {
              script: function (e) {
                'use strict';
                function n(e) {
                  return (
                    (n =
                      'function' == typeof Symbol &&
                      'symbol' == typeof Symbol.iterator
                        ? function (e) {
                            return typeof e;
                          }
                        : function (e) {
                            return e &&
                              'function' == typeof Symbol &&
                              e.constructor === Symbol &&
                              e !== Symbol.prototype
                              ? 'symbol'
                              : typeof e;
                          }),
                    n(e)
                  );
                }
                function t(e) {
                  return a(e) || i(e) || o(e) || r();
                }
                function r() {
                  throw new TypeError(
                    'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                  );
                }
                function o(e, n) {
                  if (e) {
                    if ('string' == typeof e) return c(e, n);
                    var t = {}.toString.call(e).slice(8, -1);
                    return (
                      'Object' === t &&
                        e.constructor &&
                        (t = e.constructor.name),
                      'Map' === t || 'Set' === t
                        ? Array.from(e)
                        : 'Arguments' === t ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)
                        ? c(e, n)
                        : void 0
                    );
                  }
                }
                function i(e) {
                  if (
                    ('undefined' != typeof Symbol &&
                      null != e[Symbol.iterator]) ||
                    null != e['@@iterator']
                  )
                    return Array.from(e);
                }
                function a(e) {
                  if (Array.isArray(e)) return c(e);
                }
                function c(e, n) {
                  (null == n || n > e.length) && (n = e.length);
                  for (var t = 0, r = Array(n); t < n; t++) r[t] = e[t];
                  return r;
                }
                function u(e, n) {
                  var t = Object.keys(e);
                  if (Object.getOwnPropertySymbols) {
                    var r = Object.getOwnPropertySymbols(e);
                    n &&
                      (r = r.filter(function (n) {
                        return Object.getOwnPropertyDescriptor(e, n).enumerable;
                      })),
                      t.push.apply(t, r);
                  }
                  return t;
                }
                function s(e) {
                  for (var n = 1; n < arguments.length; n++) {
                    var t = null != arguments[n] ? arguments[n] : {};
                    n % 2
                      ? u(Object(t), !0).forEach(function (n) {
                          d(e, n, t[n]);
                        })
                      : Object.getOwnPropertyDescriptors
                      ? Object.defineProperties(
                          e,
                          Object.getOwnPropertyDescriptors(t)
                        )
                      : u(Object(t)).forEach(function (n) {
                          Object.defineProperty(
                            e,
                            n,
                            Object.getOwnPropertyDescriptor(t, n)
                          );
                        });
                  }
                  return e;
                }
                function d(e, n, t) {
                  return (
                    (n = l(n)) in e
                      ? Object.defineProperty(e, n, {
                          value: t,
                          enumerable: !0,
                          configurable: !0,
                          writable: !0,
                        })
                      : (e[n] = t),
                    e
                  );
                }
                function l(e) {
                  var t = f(e, 'string');
                  return 'symbol' == n(t) ? t : t + '';
                }
                function f(e, t) {
                  if ('object' != n(e) || !e) return e;
                  var r = e[Symbol.toPrimitive];
                  if (void 0 !== r) {
                    var o = r.call(e, t || 'default');
                    if ('object' != n(o)) return o;
                    throw new TypeError(
                      '@@toPrimitive must return a primitive value.'
                    );
                  }
                  return ('string' === t ? String : Number)(e);
                }
                function p(e, n) {
                  if (null == e) return {};
                  var t,
                    r,
                    o = g(e, n);
                  if (Object.getOwnPropertySymbols) {
                    var i = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < i.length; r++)
                      (t = i[r]),
                        n.includes(t) ||
                          ({}.propertyIsEnumerable.call(e, t) && (o[t] = e[t]));
                  }
                  return o;
                }
                function g(e, n) {
                  if (null == e) return {};
                  var t = {};
                  for (var r in e)
                    if ({}.hasOwnProperty.call(e, r)) {
                      if (n.includes(r)) continue;
                      t[r] = e[r];
                    }
                  return t;
                }
                var m = [
                  'name',
                  'edgeConfigId',
                  'stagingEdgeConfigId',
                  'developmentEdgeConfigId',
                  'onBeforeEventSend',
                ];
                e.exports = function (e) {
                  var n = e.turbine,
                    r = e.window,
                    o = e.createInstance,
                    i = e.createEventMergeId,
                    a = e.orgId,
                    c = e.wrapOnBeforeEventSend,
                    u = e.getConfigOverrides,
                    d = n.getExtensionSettings().instances,
                    l = {},
                    f = {};
                  return (
                    (r.__alloyMonitors = r.__alloyMonitors || []),
                    r.__alloyMonitors.push({
                      onInstanceCreated: function () {
                        f.onInstanceCreated || (f.onInstanceCreated = []);
                        for (
                          var e = arguments.length, n = new Array(e), t = 0;
                          t < e;
                          t++
                        )
                          n[t] = arguments[t];
                        f.onInstanceCreated.push(n);
                      },
                      onInstanceConfigured: function () {
                        f.onInstanceConfigured || (f.onInstanceConfigured = []);
                        for (
                          var e = arguments.length, n = new Array(e), t = 0;
                          t < e;
                          t++
                        )
                          n[t] = arguments[t];
                        f.onInstanceConfigured.push(n);
                      },
                      onBeforeCommand: function () {
                        for (
                          var e = arguments.length, n = new Array(e), t = 0;
                          t < e;
                          t++
                        )
                          n[t] = arguments[t];
                        'configure' === n[0].commandName &&
                          (f.onBeforeCommand || (f.onBeforeCommand = []),
                          f.onBeforeCommand.push(n));
                      },
                    }),
                    d.forEach(function (e) {
                      var t = e.name,
                        i = e.edgeConfigId,
                        d = e.stagingEdgeConfigId,
                        f = e.developmentEdgeConfigId,
                        g = e.onBeforeEventSend,
                        v = p(e, m),
                        y = o({ name: t });
                      (r[t] = y),
                        r.__alloyNS || (r.__alloyNS = []),
                        r.__alloyNS.push(t),
                        (l[t] = y);
                      var h = n.environment && n.environment.stage,
                        b =
                          ('development' === h && f) ||
                          ('staging' === h && d) ||
                          i;
                      (v.edgeConfigOverrides = u(v)),
                        y(
                          'configure',
                          s(
                            s({}, v),
                            {},
                            {
                              datastreamId: b,
                              debugEnabled: n.debugEnabled,
                              orgId: v.orgId || a,
                              onBeforeEventSend: c(g),
                            }
                          )
                        ),
                        n.onDebugChanged(function (e) {
                          y('setDebug', { enabled: e });
                        });
                    }),
                    {
                      getInstance: function (e) {
                        return l[e];
                      },
                      createEventMergeId: function () {
                        return i();
                      },
                      addMonitor: function (e) {
                        r.__alloyMonitors.push(e),
                          Object.keys(f).forEach(function (n) {
                            e[n] &&
                              f[n].forEach(function (r) {
                                e[n].apply(e, t(r));
                              });
                          });
                      },
                    }
                  );
                };
              },
            },
          'adobe-alloy-nina/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js':
            {
              script: function (e) {
                'use strict';
                e.exports = function (e) {
                  var n = e.version;
                  return function (e) {
                    return function (t) {
                      if (
                        ((t.xdm.implementationDetails.name = ''.concat(
                          t.xdm.implementationDetails.name,
                          '/reactor'
                        )),
                        (t.xdm.implementationDetails.version = ''
                          .concat(t.xdm.implementationDetails.version, '+')
                          .concat(n)),
                        e)
                      )
                        return e(t);
                    };
                  };
                };
              },
            },
          'adobe-alloy-nina/dist/lib/createEventMergeIdCache.js': {
            script: function (e) {
              'use strict';
              e.exports = function () {
                var e = {};
                return {
                  set: function (n, t) {
                    e[n] = t;
                  },
                  getByCacheId: function (n) {
                    return e[n];
                  },
                  clearByEventMergeId: function (n) {
                    Object.keys(e).forEach(function (t) {
                      e[t] === n && delete e[t];
                    });
                  },
                };
              };
            },
          },
          'adobe-alloy-nina/dist/lib/createSendEventCallbackStorage.js': {
            script: function (e) {
              'use strict';
              e.exports = function () {
                var e = [];
                return {
                  add: function (n) {
                    e.push(n);
                  },
                  triggerEvent: function (n) {
                    e.forEach(function (e) {
                      e(n);
                    });
                  },
                };
              };
            },
          },
          'adobe-alloy-nina/dist/lib/createMediaCollectionSessionStorage.js': {
            script: function (e) {
              'use strict';
              e.exports = function () {
                var e = {};
                return {
                  add: function (n) {
                    var t = n.playerId,
                      r = n.sessionDetails;
                    if (e[t])
                      throw new Error(
                        'Player Id '.concat(t, ' already exists')
                      );
                    e[t] = r;
                  },
                  remove: function (n) {
                    var t = n.playerId;
                    e[t] = void 0;
                  },
                  get: function (n) {
                    var t = n.playerId;
                    return e[t];
                  },
                };
              };
            },
          },
          'adobe-alloy-nina/dist/lib/createVariableStore.js': {
            script: function (e) {
              'use strict';
              e.exports = function () {
                return {};
              };
            },
          },
        },
      },
    },
    company: {
      orgId: '97D1F3F459CE0AD80A495CBE@AdobeOrg',
      dynamicCdnEnabled: !1,
    },
    property: {
      name: 'brand-concierge-development-dotcom',
      settings: {
        domains: ['adobe.com'],
        undefinedVarsReturnEmpty: !1,
        ruleComponentSequencingEnabled: !0,
      },
      id: 'PR2761a010649f4cffac7ffb37742e84ee',
    },
    rules: [
      {
        id: 'RL3052079b13b4472f80df304f267f9603',
        name: 'page-load',
        events: [
          {
            modulePath: 'core/src/lib/events/libraryLoaded.js',
            settings: {},
            ruleOrder: 50,
          },
        ],
        conditions: [],
        actions: [
          {
            modulePath: 'adobe-alloy-nina/dist/lib/actions/sendEvent/index.js',
            settings: {
              xdm: '%xdm%',
              type: 'page-load',
              instanceName: 'alloy',
            },
            timeout: 2e3,
            delayNext: !0,
          },
        ],
      },
    ],
  });
var _satellite = (function () {
  'use strict';
  function e(e) {
    return e &&
      e.__esModule &&
      Object.prototype.hasOwnProperty.call(e, 'default')
      ? e.default
      : e;
  }
  function n(e) {
    return '[object Object]' === Object.prototype.toString.call(e);
  }
  function t(e) {
    var t, r;
    return (
      !1 !== n(e) &&
      (void 0 === (t = e.constructor) ||
        (!1 !== n((r = t.prototype)) &&
          !1 !== r.hasOwnProperty('isPrototypeOf')))
    );
  }
  function r(e) {
    return (
      'string' == typeof e && -1 !== e.indexOf('[') && -1 !== e.indexOf(']')
    );
  }
  function o(e) {
    return e.substr(0, e.indexOf('['));
  }
  function i(e, n, t) {
    if (e.length && fn(n)) {
      var a = e[0];
      if (1 !== e.length) {
        var c = e.slice(1);
        if (!r(a)) return i(c, n[a], t);
        var u = n[(a = o(a))];
        Array.isArray(u) &&
          u.forEach(function (e) {
            return i(c, e, t);
          });
      } else n.hasOwnProperty(a) && 'string' == typeof n[a] && (n[a] = t(n[a]));
    }
  }
  if (window.atob) {
    var a =
        'undefined' != typeof globalThis
          ? globalThis
          : 'undefined' != typeof window
          ? window
          : 'undefined' != typeof global
          ? global
          : 'undefined' != typeof self
          ? self
          : {},
      c = document,
      u = Object.assign,
      s = window,
      d = s,
      l = function (e, n, t, r) {
        var o,
          i = Boolean(n && Array.isArray(t)),
          a = Boolean(i && e),
          c = document.createElement('a');
        if (i) {
          var u = function () {
            var e = new Error(
              'Unable to find the Library Embed Code for Dynamic Host Resolution.'
            );
            throw ((e.code = 'dynamic_host_resolver_constructor_error'), e);
          };
          if (
            (e &&
              (/^((https?:)?\/\/).+/.test(e) || u(),
              /^\/\/.+/.test(e)
                ? (c.href = d.location.protocol + e)
                : (c.href = e)),
            c.hostname || u(),
            -1 === t.indexOf(c.hostname))
          ) {
            var s = new Error(
              'This library is not authorized for this domain. Please contact your CSM for more information.'
            );
            throw ((s.code = 'dynamic_host_not_allowed'), s);
          }
        }
        var l = function () {
            if (null != o) return o;
            if (a) {
              var e = c.host;
              /:80$/.test(e)
                ? (e = e.replace(':80', ''))
                : /:80\/$/.test(e)
                ? (e = e.replace(':80/', ''))
                : /:443$/.test(e)
                ? (e = e.replace(':443', ''))
                : /:443\/$/.test(e) && (e = e.replace(':443/', '')),
                (o = c.protocol + '//' + e);
            } else o = '';
            return o;
          },
          f = function (e) {
            return a && 'string' == typeof e
              ? [l(), '/' === e.charAt(0) ? e.slice(1) : e].join('/')
              : e;
          },
          p = {
            getTurbineHost: l,
            decorateWithDynamicHost: f,
            get isDynamicEnforced() {
              return i;
            },
          };
        return (
          d &&
            r.onDebugChanged(function (e) {
              e ? (d.dynamicHostResolver = p) : delete d.dynamicHostResolver;
            }),
          p
        );
      },
      f = function (e) {
        var n = [];
        return (
          e.forEach(function (e) {
            e.events &&
              e.events.forEach(function (t) {
                n.push({ rule: e, event: t });
              });
          }),
          n.sort(function (e, n) {
            return e.event.ruleOrder - n.event.ruleOrder;
          })
        );
      },
      p = 'debug',
      g = function (e, n) {
        var t = function () {
            return 'true' === e.getItem(p);
          },
          r = function (n) {
            e.setItem(p, n);
          },
          o = [],
          i = function (e) {
            o.push(e);
          };
        return (
          (n.outputEnabled = t()),
          {
            onDebugChanged: i,
            getDebugEnabled: t,
            setDebugEnabled: function (e) {
              t() !== e &&
                (r(e),
                (n.outputEnabled = e),
                o.forEach(function (n) {
                  n(e);
                }));
            },
          }
        );
      },
      m = 'Module did not export a function.',
      v = function (e, n, t) {
        return function (r, o, i) {
          i = i || [];
          var a = e.getModuleExports(r.modulePath);
          if ('function' != typeof a) throw new Error(m);
          var c = e.getModuleDefinition(r.modulePath),
            u = r.settings || {};
          !r.hasTransformedFilePaths &&
            c.filePaths &&
            (t(u, c.filePaths, r.modulePath), (r.hasTransformedFilePaths = !0));
          var s = n(u, o);
          return a.bind(null, s).apply(null, i);
        };
      },
      y = function (e) {
        return 'string' == typeof e ? e.replace(/\s+/g, ' ').trim() : e;
      },
      h = {
        LOG: 'log',
        INFO: 'info',
        DEBUG: 'debug',
        WARN: 'warn',
        ERROR: 'error',
      },
      b = '\ud83d\ude80',
      w =
        10 ===
        parseInt(
          (/msie (\d+)/.exec(navigator.userAgent.toLowerCase()) || [])[1]
        )
          ? '[Launch]'
          : b,
      E = !1,
      C = function (e) {
        if (E && window.console) {
          var n = Array.prototype.slice.call(arguments, 1);
          n.unshift(w),
            e !== h.DEBUG || window.console[e] || (e = h.INFO),
            window.console[e].apply(window.console, n);
        }
      },
      I = C.bind(null, h.LOG),
      S = C.bind(null, h.INFO),
      k = C.bind(null, h.DEBUG),
      O = C.bind(null, h.WARN),
      P = C.bind(null, h.ERROR),
      D = function () {
        var e = E;
        (E = !0),
          C.apply(
            null,
            Array.prototype.concat(
              h.WARN,
              Array.prototype.slice.call(arguments)
            )
          ),
          e || (E = !1);
      },
      T = {
        log: I,
        info: S,
        debug: k,
        warn: O,
        error: P,
        deprecation: D,
        get outputEnabled() {
          return E;
        },
        set outputEnabled(e) {
          E = e;
        },
        createPrefixedLogger: function (e) {
          var n = '[' + e + ']';
          return {
            log: I.bind(null, n),
            info: S.bind(null, n),
            debug: k.bind(null, n),
            warn: O.bind(null, n),
            error: P.bind(null, n),
          };
        },
      },
      R = s,
      N = 'com.adobe.reactor.',
      A = function (e, n) {
        var t = N + (n || '');
        return {
          getItem: function (n) {
            try {
              return R[e].getItem(t + n);
            } catch (e) {
              return null;
            }
          },
          setItem: function (n, r) {
            try {
              return R[e].setItem(t + n, r), !0;
            } catch (e) {
              return !1;
            }
          },
        };
      },
      x = A,
      M = 'dataElements.',
      j = x('sessionStorage', M),
      _ = x('localStorage', M),
      L = { PAGEVIEW: 'pageview', SESSION: 'session', VISITOR: 'visitor' },
      q = {},
      U = function (e) {
        var n;
        try {
          n = JSON.stringify(e);
        } catch (e) {}
        return n;
      },
      B = y,
      F = T,
      V = {
        setValue: function (e, n, t) {
          var r;
          switch (n) {
            case L.PAGEVIEW:
              return void (q[e] = t);
            case L.SESSION:
              return void ((r = U(t)) && j.setItem(e, r));
            case L.VISITOR:
              return void ((r = U(t)) && _.setItem(e, r));
          }
        },
        getValue: function (e, n) {
          var t;
          switch (n) {
            case L.PAGEVIEW:
              return q.hasOwnProperty(e) ? q[e] : null;
            case L.SESSION:
              return null === (t = j.getItem(e)) ? t : JSON.parse(t);
            case L.VISITOR:
              return null === (t = _.getItem(e)) ? t : JSON.parse(t);
          }
        },
      },
      H = function (e, n, t, r) {
        return (
          'Failed to execute data element module ' +
          e.modulePath +
          ' for data element ' +
          n +
          '. ' +
          t +
          (r ? '\n' + r : '')
        );
      },
      z = function (e, n, t, r, o) {
        return function (i, a) {
          var c = n(i);
          if (!c) return r ? '' : void 0;
          var u,
            s,
            d = c.storageDuration;
          try {
            (u = e.getModuleExports(c.modulePath)),
              (s = e.getModuleDefinition(c.modulePath));
          } catch (e) {
            return void F.error(H(c, i, e.message, e.stack));
          }
          if ('function' == typeof u) {
            var l,
              f = c.settings || {};
            !c.hasTransformedFilePaths &&
              s.filePaths &&
              (o(f, s.filePaths, c.modulePath),
              (c.hasTransformedFilePaths = !0));
            try {
              l = u(t(f, a), a);
            } catch (e) {
              return void F.error(H(c, i, e.message, e.stack));
            }
            return (
              d && (null != l ? V.setValue(i, d, l) : (l = V.getValue(i, d))),
              null == l && null != c.defaultValue && (l = c.defaultValue),
              'string' == typeof l &&
                (c.cleanText && (l = B(l)),
                c.forceLowerCase && (l = l.toLowerCase())),
              l
            );
          }
          F.error(H(c, i, 'Module did not export a function.'));
        };
      },
      J = y,
      G = {
        text: function (e) {
          return e.textContent;
        },
        cleanText: function (e) {
          return J(e.textContent);
        },
      },
      Q = function (e, n, t) {
        for (var r, o = e, i = 0, a = n.length; i < a; i++) {
          if (null == o) return;
          var c = n[i];
          if (t && '@' === c.charAt(0)) {
            var u = c.slice(1);
            o = G[u](o);
          } else if (
            o.getAttribute &&
            (r = c.match(/^getAttribute\((.+)\)$/))
          ) {
            var s = r[1];
            o = o.getAttribute(s);
          } else o = o[c];
        }
        return o;
      },
      W = function (e, n, t) {
        return function (r, o) {
          var i;
          if (n(r)) i = t(r, o);
          else {
            var a = r.split('.'),
              c = a.shift();
            'this' === c
              ? o && (i = Q(o.element, a, !0))
              : 'event' === c
              ? o && (i = Q(o, a))
              : 'target' === c
              ? o && (i = Q(o.target, a))
              : (i = Q(e[c], a));
          }
          return i;
        };
      },
      X = function (e, n) {
        return function (t) {
          var r = t.split('.')[0];
          return Boolean(
            n(t) ||
              'this' === r ||
              'event' === r ||
              'target' === r ||
              e.hasOwnProperty(r)
          );
        };
      },
      $ = function (e, n, t) {
        var r = { exports: {} };
        return (
          e.call(r.exports, r, r.exports, n, t),
          r &&
          r.exports &&
          r.exports.__esModule &&
          Object.prototype.hasOwnProperty.call(r.exports, 'default')
            ? r.exports.default
            : r.exports
        );
      },
      Y = $,
      K = T,
      Z = function () {
        var e = {},
          n = function (n) {
            var t = e[n];
            if (!t) throw new Error('Module ' + n + ' not found.');
            return t;
          },
          t = function () {
            Object.keys(e).forEach(function (e) {
              try {
                r(e);
              } catch (t) {
                var n =
                  'Error initializing module ' +
                  e +
                  '. ' +
                  t.message +
                  (t.stack ? '\n' + t.stack : '');
                K.error(n);
              }
            });
          },
          r = function (e) {
            var t = n(e);
            return (
              t.hasOwnProperty('exports') ||
                (t.exports = Y(t.definition.script, t.require, t.turbine)),
              t.exports
            );
          };
        return {
          registerModule: function (n, t, r, o, i) {
            var a = { definition: t, extensionName: r, require: o, turbine: i };
            (a.require = o), (e[n] = a);
          },
          hydrateCache: t,
          getModuleExports: r,
          getModuleDefinition: function (e) {
            return n(e).definition;
          },
          getModuleExtensionName: function (e) {
            return n(e).extensionName;
          },
        };
      },
      ee = T,
      ne = !1,
      te = function (e) {
        return function (n, t) {
          var r = e._monitors;
          r &&
            (ne ||
              (ee.warn(
                'The _satellite._monitors API may change at any time and should only be used for debugging.'
              ),
              (ne = !0)),
            r.forEach(function (e) {
              e[n] && e[n](t);
            }));
        };
      },
      re = T,
      oe = function (e, n, t) {
        var r,
          o,
          i,
          a,
          c = [],
          u = function (r, o, i) {
            if (!e(o)) return r;
            c.push(o);
            var a = n(o, i);
            return c.pop(), null == a && t ? '' : a;
          };
        return (
          (r = function (e, n) {
            var t = /^%([^%]+)%$/.exec(e);
            return t
              ? u(e, t[1], n)
              : e.replace(/%(.+?)%/g, function (e, t) {
                  return u(e, t, n);
                });
          }),
          (o = function (e, n) {
            for (var t = {}, r = Object.keys(e), o = 0; o < r.length; o++) {
              var i = r[o],
                c = e[i];
              t[i] = a(c, n);
            }
            return t;
          }),
          (i = function (e, n) {
            for (var t = [], r = 0, o = e.length; r < o; r++)
              t.push(a(e[r], n));
            return t;
          }),
          (a = function (e, n) {
            return 'string' == typeof e
              ? r(e, n)
              : Array.isArray(e)
              ? i(e, n)
              : 'object' == typeof e && null !== e
              ? o(e, n)
              : e;
          }),
          function (e, n) {
            return c.length > 10
              ? (re.error(
                  'Data element circular reference detected: ' + c.join(' -> ')
                ),
                e)
              : a(e, n);
          }
        );
      },
      ie = function (e) {
        return function () {
          if ('string' == typeof arguments[0]) e[arguments[0]] = arguments[1];
          else if (arguments[0]) {
            var n = arguments[0];
            for (var t in n) e[t] = n[t];
          }
        };
      },
      ae =
        ('undefined' != typeof window && window.Promise) ||
        (void 0 !== a && a.Promise),
      ce = ae,
      ue = function (e, n, t) {
        return function (r, o, i, a) {
          return a.then(function () {
            var a,
              c = r.delayNext;
            return new ce(function (n, t) {
              var o = e(r, i, [i]);
              if (!c) return n();
              var u = r.timeout,
                s = new ce(function (e, n) {
                  a = setTimeout(function () {
                    n(
                      new Error(
                        'A timeout occurred because the action took longer than ' +
                          u / 1e3 +
                          ' seconds to complete. '
                      )
                    );
                  }, u);
                });
              ce.race([o, s]).then(n, t);
            })
              .catch(function (e) {
                return clearTimeout(a), (e = n(e)), t(r, o, e), ce.reject(e);
              })
              .then(function () {
                clearTimeout(a);
              });
          });
        };
      },
      se = ae,
      de = function (e, n, t, r, o) {
        return function (i, a, c, u) {
          return u.then(function () {
            var u;
            return new se(function (n, t) {
              var r = e(i, c, [c]),
                o = i.timeout,
                a = new se(function (e, n) {
                  u = setTimeout(function () {
                    n(
                      new Error(
                        'A timeout occurred because the condition took longer than ' +
                          o / 1e3 +
                          ' seconds to complete. '
                      )
                    );
                  }, o);
                });
              se.race([r, a]).then(n, t);
            })
              .catch(function (e) {
                return clearTimeout(u), (e = n(e)), r(i, a, e), se.reject(e);
              })
              .then(function (e) {
                if ((clearTimeout(u), !t(i, e))) return o(i, a), se.reject();
              });
          });
        };
      },
      le = ae.resolve(),
      fe = function (e, n, t) {
        return function (r, o) {
          return (
            r.conditions &&
              r.conditions.forEach(function (n) {
                le = e(n, r, o, le);
              }),
            r.actions &&
              r.actions.forEach(function (e) {
                le = n(e, r, o, le);
              }),
            (le = (le = le.then(function () {
              t(r);
            })).catch(function () {}))
          );
        };
      },
      pe = function (e) {
        return Boolean(
          e && 'object' == typeof e && 'function' == typeof e.then
        );
      },
      ge = function (e, n, t, r) {
        return function (o, i) {
          var a;
          if (o.conditions)
            for (var c = 0; c < o.conditions.length; c++) {
              a = o.conditions[c];
              try {
                var u = e(a, i, [i]);
                if (pe(u))
                  throw new Error(
                    'Rule component sequencing must be enabled on the property for this condition to function properly.'
                  );
                if (!n(a, u)) return t(a, o), !1;
              } catch (e) {
                return r(a, o, e), !1;
              }
            }
          return !0;
        };
      },
      me = function (e, n) {
        return function (t, r) {
          e(t, r) && n(t, r);
        };
      },
      ve = function (e) {
        return function (n) {
          var t = e.getModuleDefinition(n.modulePath);
          return (t && t.displayName) || n.modulePath;
        };
      },
      ye = function (e) {
        return function (n) {
          var t = n.rule,
            r = n.event,
            o = e.getModuleDefinition(r.modulePath).name;
          return {
            $type: e.getModuleExtensionName(r.modulePath) + '.' + o,
            $rule: { id: t.id, name: t.name },
          };
        };
      },
      he = function (e, n, t, r, o, i) {
        return function (a, c) {
          var u = c.rule,
            s = c.event;
          s.settings = s.settings || {};
          try {
            var d = o(c);
            n(s, null, [
              function (n) {
                var r = t(d, n);
                a(function () {
                  e(r, u);
                });
              },
            ]);
          } catch (e) {
            i.error(r(s, u, e));
          }
        };
      },
      be = function (e, n, t, r) {
        return function (o, i, a) {
          var c = n(o);
          t.error(e(c, i.name, a)),
            r('ruleActionFailed', { rule: i, action: o });
        };
      },
      we = function (e, n, t, r) {
        return function (o, i, a) {
          var c = n(o);
          t.error(e(c, i.name, a)),
            r('ruleConditionFailed', { rule: i, condition: o });
        };
      },
      Ee = function (e, n, t) {
        return function (r, o) {
          var i = e(r);
          n.log('Condition "' + i + '" for rule "' + o.name + '" was not met.'),
            t('ruleConditionFailed', { rule: o, condition: r });
        };
      },
      Ce = function (e, n) {
        return function (t) {
          e.log('Rule "' + t.name + '" fired.'),
            n('ruleCompleted', { rule: t });
        };
      },
      Ie = function (e, n, t) {
        return function (r, o) {
          var i;
          if (r.actions)
            for (var a = 0; a < r.actions.length; a++) {
              i = r.actions[a];
              try {
                e(i, o, [o]);
              } catch (e) {
                return void n(i, r, e);
              }
            }
          t(r);
        };
      },
      Se = function (e, n, t, r) {
        return function (o, i) {
          r('ruleTriggered', { rule: i }), e ? t(i, o) : n(i, o);
        };
      },
      ke = function (e, n, t) {
        return (
          'Failed to execute "' +
          e +
          '" for "' +
          n +
          '" rule. ' +
          t.message +
          (t.stack ? '\n' + t.stack : '')
        );
      },
      Oe = function (e, n) {
        return (n && !e.negate) || (!n && e.negate);
      },
      Pe = [],
      De = !1,
      Te = function (e) {
        De ? e() : Pe.push(e);
      },
      Re = function (e, n, t) {
        e(n).forEach(function (e) {
          t(Te, e);
        }),
          (De = !0),
          Pe.forEach(function (e) {
            e();
          }),
          (Pe = []);
      },
      Ne = function (e) {
        if (
          (e ||
            (e = new Error(
              'The extension triggered an error, but no error information was provided.'
            )),
          !(e instanceof Error))
        ) {
          var n = 'object' == typeof e ? JSON.stringify(e) : String(e);
          e = new Error(n);
        }
        return e;
      },
      Ae = {};
    Object.defineProperty(Ae, '__esModule', { value: !0 }),
      (Ae.isPlainObject = t);
    var xe,
      Me = T,
      je = u,
      { isPlainObject: _e } = Ae,
      Le = function (e, n) {
        return (
          _e((n = n || {})) ? (n = je({}, n, e)) : je(n, e),
          n.hasOwnProperty('type') ||
            Object.defineProperty(n, 'type', {
              get: function () {
                return (
                  Me.deprecation(
                    'Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead.'
                  ),
                  n.$type
                );
              },
            }),
          n
        );
      },
      qe = function (e, n) {
        return function (t, r) {
          var o = e[t];
          if (o) {
            var i = o.modules;
            if (i)
              for (var a = Object.keys(i), c = 0; c < a.length; c++) {
                var u = a[c],
                  s = i[u];
                if (s.shared && s.name === r) return n.getModuleExports(u);
              }
          }
        };
      },
      Ue = function (e, n) {
        return function () {
          return n ? e(n) : {};
        };
      },
      Be = function (e, n, t) {
        return function (r) {
          if (t) {
            var o = r.split('.');
            o.splice(o.length - 1 || 1, 0, 'min'), (r = o.join('.'));
          }
          return e(n) + r;
        };
      },
      Fe = '.js',
      Ve = function (e) {
        return e.substr(0, e.lastIndexOf('/'));
      },
      He = function (e, n) {
        return -1 !== e.indexOf(n, e.length - n.length);
      },
      ze = function (e, n) {
        He(n, Fe) || (n += Fe);
        var t = n.split('/'),
          r = Ve(e).split('/');
        return (
          t.forEach(function (e) {
            e && '.' !== e && ('..' === e ? r.length && r.pop() : r.push(e));
          }),
          r.join('/')
        );
      },
      Je = { exports: {} };
    (xe = function () {
      function e() {
        for (var e = 0, n = {}; e < arguments.length; e++) {
          var t = arguments[e];
          for (var r in t) n[r] = t[r];
        }
        return n;
      }
      function n(e) {
        return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
      }
      function t(r) {
        function o() {}
        function i(n, t, i) {
          if ('undefined' != typeof document) {
            'number' == typeof (i = e({ path: '/' }, o.defaults, i)).expires &&
              (i.expires = new Date(1 * new Date() + 864e5 * i.expires)),
              (i.expires = i.expires ? i.expires.toUTCString() : '');
            try {
              var a = JSON.stringify(t);
              /^[\{\[]/.test(a) && (t = a);
            } catch (e) {}
            (t = r.write
              ? r.write(t, n)
              : encodeURIComponent(String(t)).replace(
                  /%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
                  decodeURIComponent
                )),
              (n = encodeURIComponent(String(n))
                .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
                .replace(/[\(\)]/g, escape));
            var c = '';
            for (var u in i)
              i[u] &&
                ((c += '; ' + u),
                !0 !== i[u] && (c += '=' + i[u].split(';')[0]));
            return (document.cookie = n + '=' + t + c);
          }
        }
        function a(e, t) {
          if ('undefined' != typeof document) {
            for (
              var o = {},
                i = document.cookie ? document.cookie.split('; ') : [],
                a = 0;
              a < i.length;
              a++
            ) {
              var c = i[a].split('='),
                u = c.slice(1).join('=');
              t || '"' !== u.charAt(0) || (u = u.slice(1, -1));
              try {
                var s = n(c[0]);
                if (((u = (r.read || r)(u, s) || n(u)), t))
                  try {
                    u = JSON.parse(u);
                  } catch (e) {}
                if (((o[s] = u), e === s)) break;
              } catch (e) {}
            }
            return e ? o[e] : o;
          }
        }
        return (
          (o.set = i),
          (o.get = function (e) {
            return a(e, !1);
          }),
          (o.getJSON = function (e) {
            return a(e, !0);
          }),
          (o.remove = function (n, t) {
            i(n, '', e(t, { expires: -1 }));
          }),
          (o.defaults = {}),
          (o.withConverter = t),
          o
        );
      }
      return t(function () {});
    }),
      (Je.exports = xe());
    var Ge = Je.exports,
      Qe = { get: Ge.get, set: Ge.set, remove: Ge.remove },
      We = ae,
      Xe = function (e, n) {
        return new We(function (t, r) {
          (n.onload = function () {
            t(n);
          }),
            (n.onerror = function () {
              r(new Error('Failed to load script ' + e));
            });
        });
      },
      $e = function (e) {
        var n = {};
        if (!e || 'string' != typeof e) return n;
        var t = e.trim().replace(/^[?#&]/, ''),
          r = new URLSearchParams(t),
          o = r.keys();
        do {
          var i = o.next(),
            a = i.value;
          if (a) {
            var c = r.getAll(a);
            1 === c.length ? (n[a] = c[0]) : (n[a] = c);
          }
        } while (!1 === i.done);
        return n;
      },
      Ye = function (e) {
        var n = '{{space}}',
          t = new URLSearchParams();
        return (
          Object.keys(e).forEach(function (r) {
            var o = e[r];
            'string' == typeof e[r]
              ? (o = o.replace(/ /g, n))
              : ['object', 'undefined'].includes(typeof o) &&
                !Array.isArray(o) &&
                (o = ''),
              Array.isArray(o)
                ? o.forEach(function (e) {
                    t.append(r, e);
                  })
                : t.append(r, o);
          }),
          t.toString().replace(new RegExp(encodeURIComponent(n), 'g'), '%20')
        );
      },
      Ke = '@adobe/reactor-',
      Ze = {
        cookie: Qe,
        document: c,
        'load-script': function (e) {
          var n = document.createElement('script');
          (n.src = e), (n.async = !0);
          var t = Xe(e, n);
          return document.getElementsByTagName('head')[0].appendChild(n), t;
        },
        'object-assign': u,
        promise: ae,
        'query-string': {
          parse: function (e) {
            return $e(e);
          },
          stringify: function (e) {
            return Ye(e);
          },
        },
        window: s,
      },
      en = function (e) {
        return function (n) {
          if (0 === n.indexOf(Ke)) {
            var t = n.substr(Ke.length),
              r = Ze[t];
            if (r) return r;
          }
          if (0 === n.indexOf('./') || 0 === n.indexOf('../')) return e(n);
          throw new Error('Cannot resolve module "' + n + '".');
        };
      },
      nn = qe,
      tn = Ue,
      rn = Be,
      on = T,
      an = ze,
      cn = en,
      un = function (e, n, t, r, o, i, a) {
        var c = e.extensions,
          u = e.buildInfo,
          s = e.environment,
          d = e.property.settings;
        if (c) {
          var l = nn(c, n);
          Object.keys(c).forEach(function (f) {
            var p = c[f],
              g = p.settings;
            Array.isArray(p.filePaths) && (g = i(g, p.filePaths));
            var m = tn(r, g);
            if (p.modules) {
              var v = on.createPrefixedLogger(p.displayName),
                y = rn(a, p.hostedLibFilesBaseUrl, u.minified),
                h = {
                  buildInfo: u,
                  environment: s,
                  property: { name: e.property.name, id: e.property.id },
                  getDataElementValue: o,
                  getExtensionSettings: m,
                  getHostedLibFileUrl: y,
                  getSharedModule: l,
                  logger: v,
                  propertySettings: d,
                  replaceTokens: r,
                  onDebugChanged: t.onDebugChanged,
                  get debugEnabled() {
                    return t.getDebugEnabled();
                  },
                };
              Object.keys(p.modules).forEach(function (e) {
                var t = p.modules[e],
                  r = cn(function (t) {
                    var r = an(e, t);
                    return n.getModuleExports(r);
                  });
                n.registerModule(e, t, f, r, h);
              });
            }
          }),
            n.hydrateCache();
        }
        return n;
      },
      sn = Qe,
      dn = T,
      ln = function (e, n, t, r, o) {
        var i = dn.createPrefixedLogger('Custom Script');
        (e.track = function (e) {
          dn.log('"' + e + '" does not match any direct call identifiers.');
        }),
          (e.getVisitorId = function () {
            return null;
          }),
          (e.property = { name: n.property.name, id: n.property.id }),
          (e.company = n.company),
          (e.buildInfo = n.buildInfo),
          (e.environment = n.environment),
          (e.logger = i),
          (e.notify = function (e, n) {
            switch (
              (dn.deprecation(
                '_satellite.notify is deprecated. Please use the `_satellite.logger` API.'
              ),
              n)
            ) {
              case 3:
                i.info(e);
                break;
              case 4:
                i.warn(e);
                break;
              case 5:
                i.error(e);
                break;
              default:
                i.log(e);
            }
          }),
          (e.getVar = r),
          (e.setVar = o),
          (e.setCookie = function (e, n, t) {
            var r = '',
              o = {};
            t && ((r = ', { expires: ' + t + ' }'), (o.expires = t));
            var i =
              '_satellite.setCookie is deprecated. Please use _satellite.cookie.set("' +
              e +
              '", "' +
              n +
              '"' +
              r +
              ').';
            dn.deprecation(i), sn.set(e, n, o);
          }),
          (e.readCookie = function (e) {
            return (
              dn.deprecation(
                '_satellite.readCookie is deprecated. Please use _satellite.cookie.get("' +
                  e +
                  '").'
              ),
              sn.get(e)
            );
          }),
          (e.removeCookie = function (e) {
            dn.deprecation(
              '_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("' +
                e +
                '").'
            ),
              sn.remove(e);
          }),
          (e.cookie = sn),
          (e.pageBottom = function () {}),
          (e.setDebug = t);
        var a = !1;
        Object.defineProperty(e, '_container', {
          get: function () {
            return (
              a ||
                (dn.warn(
                  '_satellite._container may change at any time and should only be used for debugging.'
                ),
                (a = !0)),
              n
            );
          },
        });
      },
      { isPlainObject: fn } = Ae,
      pn = c,
      gn = u,
      mn = l,
      vn = f,
      yn = g,
      hn = v,
      bn = z,
      wn = W,
      En = X,
      Cn = Z,
      In = te,
      Sn = oe,
      kn = ie,
      On = ue,
      Pn = de,
      Dn = fe,
      Tn = ge,
      Rn = me,
      Nn = ve,
      An = ye,
      xn = he,
      Mn = be,
      jn = we,
      _n = Ee,
      Ln = Ce,
      qn = Ie,
      Un = Se,
      Bn = ke,
      Fn = Oe,
      Vn = Re,
      Hn = Ne,
      zn = Le,
      Jn = A,
      Gn = un,
      Qn = ln,
      Wn = function (e, n) {
        return function (t, r, o) {
          return e &&
            fn(t) &&
            Object.keys(t).length &&
            Array.isArray(r) &&
            r.length
            ? (r.forEach(function (e) {
                (Boolean(
                  null != o && /^core\/.*actions.*\/customCode\.js$/.test(o)
                ) &&
                  'source' === e &&
                  !t.isExternal) ||
                  i(e.split('.'), t, n);
              }),
              t)
            : t;
        };
      },
      Xn = T,
      $n = window._satellite;
    if ($n && !window.__satelliteLoaded) {
      window.__satelliteLoaded = !0;
      var Yn = $n.container;
      delete $n.container;
      var Kn = gn({}, Yn.buildInfo);
      Object.defineProperty(Kn, 'environment', {
        get: function () {
          return (
            Xn.deprecation(
              'container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead'
            ),
            Yn.environment.stage
          );
        },
      }),
        (Yn.buildInfo = Kn);
      var Zn,
        et = yn(Jn('localStorage'), Xn),
        nt = '';
      pn.currentScript &&
        pn.currentScript.getAttribute('src') &&
        (nt = pn.currentScript.getAttribute('src'));
      try {
        Zn = mn(
          nt,
          Boolean(Yn.company.dynamicCdnEnabled),
          Yn.company.cdnAllowList,
          et
        );
      } catch (e) {
        throw (Xn.warn('Please review the following error:'), e);
      }
      var tt,
        rt = Wn(Zn.isDynamicEnforced, Zn.decorateWithDynamicHost),
        ot = Cn(),
        it = Yn.property.settings.undefinedVarsReturnEmpty,
        at = Yn.property.settings.ruleComponentSequencingEnabled,
        ct = Yn.dataElements || {},
        ut = function (e) {
          return ct[e];
        },
        st = function () {
          return tt.apply(null, arguments);
        },
        dt = bn(ot, ut, st, it, rt),
        lt = {},
        ft = kn(lt),
        pt = En(lt, ut),
        gt = wn(lt, ut, dt);
      (tt = Sn(pt, gt, it)),
        Qn($n, Yn, et.setDebugEnabled, gt, ft),
        Gn(Yn, ot, et, tt, dt, rt, Zn.decorateWithDynamicHost);
      var mt = In($n),
        vt = hn(ot, tt, rt),
        yt = Nn(ot),
        ht = _n(yt, Xn, mt),
        bt = jn(Bn, yt, Xn, mt),
        wt = Mn(Bn, yt, Xn, mt),
        Et = Ln(Xn, mt),
        Ct = xn(
          Un(
            at,
            Rn(Tn(vt, Fn, ht, bt), qn(vt, wt, Et)),
            Dn(Pn(vt, Hn, Fn, bt, ht), On(vt, Hn, wt), Et),
            mt
          ),
          vt,
          zn,
          Bn,
          An(ot),
          Xn
        );
      Vn(vn, Yn.rules || [], Ct);
    }
    return e($n);
  }
  console.warn('Adobe Launch is unsupported in IE 9 and below.');
})();
