/*!*************************************************************************
 * Copyright 2021 Adobe
 * All Rights Reserved.
 *
 * NOTICE: Adobe permits you to use, modify, and distribute this file in
 * accordance with the terms of the Adobe license agreement accompanying
 * it. 
 **************************************************************************/
!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n){return Object.getOwnPropertyNames(n).reduce((function(e,t){return Object.defineProperty(e,t,{value:n[t],enumerable:!0})}),{})}let e;const t=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});t.decode();let r=new Uint8Array;function o(){return 0===r.byteLength&&(r=new Uint8Array(e.memory.buffer)),r}function _(n,e){return t.decode(o().subarray(n,n+e))}let c=0;const i=new TextEncoder("utf-8"),b="function"==typeof i.encodeInto?function(n,e){return i.encodeInto(n,e)}:function(n,e){const t=i.encode(n);return e.set(t),{read:n.length,written:t.length}};function u(n,e,t){if(void 0===t){const t=i.encode(n),r=e(t.length);return o().subarray(r,r+t.length).set(t),c=t.length,r}let r=n.length,_=e(r);const u=o();let f=0;for(;f<r;f++){const e=n.charCodeAt(f);if(e>127)break;u[_+f]=e}if(f!==r){0!==f&&(n=n.slice(f)),_=t(_,r,r=f+3*n.length);const e=o().subarray(_+f,_+r);f+=b(n,e).written}return c=f,_}function f(n){return null==n}let a=new Int32Array;function g(){return 0===a.byteLength&&(a=new Int32Array(e.memory.buffer)),a}let w,s=new Float64Array;function l(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=l(n[0]));for(let r=1;r<e;r++)t+=", "+l(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function d(n){try{const o=e.__wbindgen_add_to_stack_pointer(-16);e.scan_array_buffer(o,n);var t=g()[o/4+0],r=g()[o/4+1];if(g()[o/4+2])throw function(n){const t=e.__wbindgen_export_2.get(n);return e.__externref_table_dealloc(n),t}(r);return t>>>0}finally{e.__wbindgen_add_to_stack_pointer(16)}}function y(){const n={wbg:{}};return n.wbg.__wbg_isArray_27c46c67f498e15d=function(n){return Array.isArray(n)},n.wbg.__wbg_length_6e3bbe7c8bd4dbd8=function(n){return n.length},n.wbg.__wbg_get_57245cc7d7c7619d=function(n,e){return n[e>>>0]},n.wbg.__wbg_isSafeInteger_dfa0593e8d7ac35a=function(n){return Number.isSafeInteger(n)},n.wbg.__wbindgen_string_new=function(n,e){return _(n,e)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},n.wbg.__wbg_stack_658279fe44541cf6=function(n,t){const r=u(t.stack,e.__wbindgen_malloc,e.__wbindgen_realloc),o=c;g()[n/4+1]=o,g()[n/4+0]=r},n.wbg.__wbg_error_f851667af71bcfc6=function(n,t){try{console.error(_(n,t))}finally{e.__wbindgen_free(n,t)}},n.wbg.__wbg_length_9e1ae1900cb0fbd5=function(n){return n.length},n.wbg.__wbindgen_memory=function(){return e.memory},n.wbg.__wbg_buffer_3f3d764d4747d564=function(n){return n.buffer},n.wbg.__wbg_new_8c3f0052272a457a=function(n){return new Uint8Array(n)},n.wbg.__wbg_set_83db9690f9353e79=function(n,e,t){n.set(e,t>>>0)},n.wbg.__wbindgen_error_new=function(n,e){return new Error(_(n,e))},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return n==e},n.wbg.__wbindgen_boolean_get=function(n){return"boolean"==typeof n?n?1:0:2},n.wbg.__wbindgen_string_get=function(n,t){const r="string"==typeof t?t:void 0;var o=f(r)?0:u(r,e.__wbindgen_malloc,e.__wbindgen_realloc),_=c;g()[n/4+1]=_,g()[n/4+0]=o},n.wbg.__wbindgen_number_get=function(n,t){const r="number"==typeof t?t:void 0;(0===s.byteLength&&(s=new Float64Array(e.memory.buffer)),s)[n/8+1]=f(r)?0:r,g()[n/4+0]=!f(r)},n.wbg.__wbg_instanceof_Uint8Array_971eeda69eb75003=function(n){let e;try{e=n instanceof Uint8Array}catch{e=!1}return e},n.wbg.__wbg_instanceof_ArrayBuffer_e5e48f4762c5610b=function(n){let e;try{e=n instanceof ArrayBuffer}catch{e=!1}return e},n.wbg.__wbindgen_debug_string=function(n,t){const r=u(l(t),e.__wbindgen_malloc,e.__wbindgen_realloc),o=c;g()[n/4+1]=o,g()[n/4+0]=r},n.wbg.__wbindgen_throw=function(n,e){throw new Error(_(n,e))},n.wbg.__wbindgen_init_externref_table=function(){const n=e.__wbindgen_export_2,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)},n}async function m(n){void 0===n&&(n=new URL("detector_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("c2pa.worker.min.js",document.baseURI).href));const t=y();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:o,module:_}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,t);return function(n,t){return e=n.exports,m.__wbindgen_wasm_module=t,s=new Float64Array,a=new Int32Array,r=new Uint8Array,e.__wbindgen_start(),e}(o,_)}const p=new Array(32).fill(void 0);function h(n){return p[n]}p.push(void 0,null,!0,!1);let A=p.length;function v(n){const e=h(n);return function(n){n<36||(p[n]=A,A=n)}(n),e}function S(n){A===p.length&&p.push(p.length+1);const e=A;return A=p[e],p[e]=n,e}const U=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});U.decode();let R=new Uint8Array;function I(){return 0===R.byteLength&&(R=new Uint8Array(w.memory.buffer)),R}function W(n,e){return U.decode(I().subarray(n,n+e))}function j(n){return null==n}let k=new Float64Array;let F=new Int32Array;function O(){return 0===F.byteLength&&(F=new Int32Array(w.memory.buffer)),F}let L=0;const x=new TextEncoder("utf-8"),E="function"==typeof x.encodeInto?function(n,e){return x.encodeInto(n,e)}:function(n,e){const t=x.encode(n);return e.set(t),{read:n.length,written:t.length}};function M(n,e,t){if(void 0===t){const t=x.encode(n),r=e(t.length);return I().subarray(r,r+t.length).set(t),L=t.length,r}let r=n.length,o=e(r);const _=I();let c=0;for(;c<r;c++){const e=n.charCodeAt(c);if(e>127)break;_[o+c]=e}if(c!==r){0!==c&&(n=n.slice(c)),o=t(o,r,r=c+3*n.length);const e=I().subarray(o+c,o+r);c+=E(n,e).written}return L=c,o}function $(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=$(n[0]));for(let r=1;r<e;r++)t+=", "+$(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}const B=new FinalizationRegistry((n=>{w.__wbindgen_export_2.get(n.dtor)(n.a,n.b)}));function q(n,e,t){w.wasm_bindgen__convert__closures__invoke1_mut__hb008bd30a1c33b39(n,e,S(t))}function T(n,e){const t=M(e,w.__wbindgen_malloc,w.__wbindgen_realloc),r=L;return v(w.getManifestStoreFromArrayBuffer(S(n),t,r))}function N(n,e,t){const r=M(t,w.__wbindgen_malloc,w.__wbindgen_realloc),o=L;return v(w.getManifestStoreFromManifestAndAsset(S(n),S(e),r,o))}function C(n,e){try{return n.apply(this,e)}catch(n){w.__wbindgen_exn_store(S(n))}}function D(n,e){return I().subarray(n/1,n/1+e)}function P(){const n={wbg:{}};return n.wbg.__wbindgen_object_drop_ref=function(n){v(n)},n.wbg.__wbg_call_168da88779e35f61=function(){return C((function(n,e,t){return S(h(n).call(h(e),h(t)))}),arguments)},n.wbg.__wbindgen_object_clone_ref=function(n){return S(h(n))},n.wbg.__wbg_Window_939b1cb33ec25323=function(n){return S(h(n).Window)},n.wbg.__wbindgen_is_undefined=function(n){return void 0===h(n)},n.wbg.__wbg_WorkerGlobalScope_651176d88dfa15f3=function(n){return S(h(n).WorkerGlobalScope)},n.wbg.__wbg_crypto_9f07beb1e97bfa1b=function(){return C((function(n){return S(h(n).crypto)}),arguments)},n.wbg.__wbg_crypto_667306dda14c4f0d=function(){return C((function(n){return S(h(n).crypto)}),arguments)},n.wbg.__wbg_subtle_655bd6c3f4d598bb=function(n){return S(h(n).subtle)},n.wbg.__wbg_new_1d9a920c6bfc44a8=function(){return S(new Array)},n.wbg.__wbindgen_string_new=function(n,e){return S(W(n,e))},n.wbg.__wbg_push_740e4b286702d964=function(n,e){return h(n).push(h(e))},n.wbg.__wbg_debug_aa79221726d7e043=function(n,e){console.debug(h(n),h(e))},n.wbg.__wbg_new_0b9bfdd97583284e=function(){return S(new Object)},n.wbg.__wbg_verify_5b1aa2f26307e87b=function(){return C((function(n,e,t,r,o){return S(h(n).verify(h(e),h(t),h(r),h(o)))}),arguments)},n.wbg.__wbindgen_is_falsy=function(n){return!h(n)},n.wbg.__wbg_newwithlength_f5933855e4f48a19=function(n){return S(new Uint8Array(n>>>0))},n.wbg.__wbg_length_9e1ae1900cb0fbd5=function(n){return h(n).length},n.wbg.__wbg_set_83db9690f9353e79=function(n,e,t){h(n).set(h(e),t>>>0)},n.wbg.__wbg_buffer_21310ea17257b0b4=function(n){return S(h(n).buffer)},n.wbg.__wbg_set_a68214f35c417fa9=function(n,e,t){h(n)[e>>>0]=v(t)},n.wbg.__wbg_new_268f7b7dd3430798=function(){return S(new Map)},n.wbg.__wbg_set_841ac57cff3d672b=function(n,e,t){h(n)[v(e)]=v(t)},n.wbg.__wbg_set_933729cf5b66ac11=function(n,e,t){return S(h(n).set(h(e),h(t)))},n.wbg.__wbindgen_is_string=function(n){return"string"==typeof h(n)},n.wbg.__wbindgen_number_new=function(n){return S(n)},n.wbg.__wbg_now_58886682b7e790d7=function(){return Date.now()},n.wbg.__wbg_isArray_27c46c67f498e15d=function(n){return Array.isArray(h(n))},n.wbg.__wbg_length_6e3bbe7c8bd4dbd8=function(n){return h(n).length},n.wbg.__wbg_get_57245cc7d7c7619d=function(n,e){return S(h(n)[e>>>0])},n.wbg.__wbindgen_number_get=function(n,e){const t=h(e),r="number"==typeof t?t:void 0;(0===k.byteLength&&(k=new Float64Array(w.memory.buffer)),k)[n/8+1]=j(r)?0:r,O()[n/4+0]=!j(r)},n.wbg.__wbg_isSafeInteger_dfa0593e8d7ac35a=function(n){return Number.isSafeInteger(h(n))},n.wbg.__wbg_new_8c3f0052272a457a=function(n){return S(new Uint8Array(h(n)))},n.wbg.__wbg_from_7ce3cb27cb258569=function(n){return S(Array.from(h(n)))},n.wbg.__wbindgen_bigint_from_u64=function(n){return S(BigInt.asUintN(64,n))},n.wbg.__wbindgen_error_new=function(n,e){return S(new Error(W(n,e)))},n.wbg.__wbg_String_88810dfeb4021902=function(n,e){const t=M(String(h(e)),w.__wbindgen_malloc,w.__wbindgen_realloc),r=L;O()[n/4+1]=r,O()[n/4+0]=t},n.wbg.__wbg_new_8d2af00bc1e329ee=function(n,e){return S(new Error(W(n,e)))},n.wbg.__wbg_setname_d26cefd43ea3a082=function(n,e,t){h(n).name=W(e,t)},n.wbg.__wbg_new_9962f939219f1820=function(n,e){try{var t={a:n,b:e};const r=new Promise(((n,e)=>{const r=t.a;t.a=0;try{return function(n,e,t,r){w.wasm_bindgen__convert__closures__invoke2_mut__h28dc49e36daf3d4e(n,e,S(t),S(r))}(r,t.b,n,e)}finally{t.a=r}}));return S(r)}finally{t.a=t.b=0}},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return S(new Error)},n.wbg.__wbg_stack_658279fe44541cf6=function(n,e){const t=M(h(e).stack,w.__wbindgen_malloc,w.__wbindgen_realloc),r=L;O()[n/4+1]=r,O()[n/4+0]=t},n.wbg.__wbg_error_f851667af71bcfc6=function(n,e){try{console.error(W(n,e))}finally{w.__wbindgen_free(n,e)}},n.wbg.__wbg_randomFillSync_065afffde01daa66=function(){return C((function(n,e,t){h(n).randomFillSync(D(e,t))}),arguments)},n.wbg.__wbg_subarray_58ad4efbb5bcb886=function(n,e,t){return S(h(n).subarray(e>>>0,t>>>0))},n.wbg.__wbg_getRandomValues_b99eec4244a475bb=function(){return C((function(n,e){h(n).getRandomValues(h(e))}),arguments)},n.wbg.__wbg_process_0cc2ada8524d6f83=function(n){return S(h(n).process)},n.wbg.__wbindgen_is_object=function(n){const e=h(n);return"object"==typeof e&&null!==e},n.wbg.__wbg_versions_c11acceab27a6c87=function(n){return S(h(n).versions)},n.wbg.__wbg_node_7ff1ce49caf23815=function(n){return S(h(n).node)},n.wbg.__wbg_static_accessor_NODE_MODULE_cf6401cc1091279e=function(){return S(module)},n.wbg.__wbg_require_a746e79b322b9336=function(){return C((function(n,e,t){return S(h(n).require(W(e,t)))}),arguments)},n.wbg.__wbg_crypto_2036bed7c44c25e7=function(n){return S(h(n).crypto)},n.wbg.__wbg_msCrypto_a21fc88caf1ecdc8=function(n){return S(h(n).msCrypto)},n.wbg.__wbg_self_6d479506f72c6a71=function(){return C((function(){return S(self.self)}),arguments)},n.wbg.__wbg_window_f2557cc78490aceb=function(){return C((function(){return S(window.window)}),arguments)},n.wbg.__wbg_globalThis_7f206bda628d5286=function(){return C((function(){return S(globalThis.globalThis)}),arguments)},n.wbg.__wbg_global_ba75c50d1cf384f4=function(){return C((function(){return S(global.global)}),arguments)},n.wbg.__wbg_newnoargs_b5b063fc6c2f0376=function(n,e){return S(new Function(W(n,e)))},n.wbg.__wbg_call_97ae9d8645dc388b=function(){return C((function(n,e){return S(h(n).call(h(e)))}),arguments)},n.wbg.__wbindgen_memory=function(){return S(w.memory)},n.wbg.__wbg_buffer_3f3d764d4747d564=function(n){return S(h(n).buffer)},n.wbg.__wbg_newwithbyteoffsetandlength_d9aa266703cb98be=function(n,e,t){return S(new Uint8Array(h(n),e>>>0,t>>>0))},n.wbg.__wbg_set_bf3f89b92d5a34bf=function(){return C((function(n,e,t){return Reflect.set(h(n),h(e),h(t))}),arguments)},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return h(n)==h(e)},n.wbg.__wbindgen_boolean_get=function(n){const e=h(n);return"boolean"==typeof e?e?1:0:2},n.wbg.__wbindgen_string_get=function(n,e){const t=h(e),r="string"==typeof t?t:void 0;var o=j(r)?0:M(r,w.__wbindgen_malloc,w.__wbindgen_realloc),_=L;O()[n/4+1]=_,O()[n/4+0]=o},n.wbg.__wbg_instanceof_Uint8Array_971eeda69eb75003=function(n){let e;try{e=h(n)instanceof Uint8Array}catch{e=!1}return e},n.wbg.__wbg_instanceof_ArrayBuffer_e5e48f4762c5610b=function(n){let e;try{e=h(n)instanceof ArrayBuffer}catch{e=!1}return e},n.wbg.__wbindgen_debug_string=function(n,e){const t=M($(h(e)),w.__wbindgen_malloc,w.__wbindgen_realloc),r=L;O()[n/4+1]=r,O()[n/4+0]=t},n.wbg.__wbindgen_throw=function(n,e){throw new Error(W(n,e))},n.wbg.__wbindgen_cb_drop=function(n){const e=v(n).original;if(1==e.cnt--)return e.a=0,!0;return!1},n.wbg.__wbg_then_cedad20fbbd9418a=function(n,e,t){return S(h(n).then(h(e),h(t)))},n.wbg.__wbg_then_11f7a54d67b4bfad=function(n,e){return S(h(n).then(h(e)))},n.wbg.__wbg_resolve_99fe17964f31ffc0=function(n){return S(Promise.resolve(h(n)))},n.wbg.__wbg_debug_64711eb2fc6980ef=function(n,e,t,r){console.debug(h(n),h(e),h(t),h(r))},n.wbg.__wbg_error_00c5d571f754f629=function(n,e,t,r){console.error(h(n),h(e),h(t),h(r))},n.wbg.__wbg_info_d60a960a4e955dc2=function(n,e,t,r){console.info(h(n),h(e),h(t),h(r))},n.wbg.__wbg_log_de258f66ad9eb784=function(n,e,t,r){console.log(h(n),h(e),h(t),h(r))},n.wbg.__wbg_warn_be542501a57387a5=function(n,e,t,r){console.warn(h(n),h(e),h(t),h(r))},n.wbg.__wbg_importKey_c7da74a5821fc721=function(){return C((function(n,e,t,r,o,_,c){return S(h(n).importKey(W(e,t),h(r),h(o),0!==_,h(c)))}),arguments)},n.wbg.__wbindgen_closure_wrapper3959=function(n,e,t){const r=function(n,e,t,r){const o={a:n,b:e,cnt:1,dtor:t},_=(...n)=>{o.cnt++;const e=o.a;o.a=0;try{return r(e,o.b,...n)}finally{0==--o.cnt?(w.__wbindgen_export_2.get(o.dtor)(e,o.b),B.unregister(o)):o.a=e}};return _.original=o,B.register(_,o,o),_}(n,e,103,q);return S(r)},n}async function G(n){void 0===n&&(n=new URL("toolkit_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("c2pa.worker.min.js",document.baseURI).href));const e=P();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,e);return function(n,e){return w=n.exports,G.__wbindgen_wasm_module=e,k=new Float64Array,F=new Int32Array,R=new Uint8Array,w.__wbindgen_start(),w}(t,r)}const J={compileWasm:async n=>WebAssembly.compile(n),getReport:async(n,e,t)=>(await G(n),T(e,t)),async getReportFromAssetAndManifestBuffer(n,e,t){await G(n);return N(e,await t.arrayBuffer(),t.type)},async scanInput(n,e){await m(n);try{return{found:!0,offset:await d(e)}}catch(n){return{found:!1}}}};var K;K=J,onmessage=async e=>{const{args:t,method:r}=e.data;try{const n=await K[r](...t);postMessage({type:"success",data:n})}catch(e){postMessage({type:"error",error:n(e)})}}}));
