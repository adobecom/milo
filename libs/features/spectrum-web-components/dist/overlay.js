/* eslint-disable */
/* Generated by Milo */

var mn=Object.defineProperty;var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var fn=(e,t)=>{for(var n in t)mn(e,n,{get:t[n],enumerable:!0})};var Ft,me=x(()=>{"use strict";Ft=class{constructor(t={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,t)}async openTimer(t){if(this.cancelCooldownTimer(),!this.component||t!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=t,this.isWarm?!1:(this.promise=new Promise(n=>{this.resolve=n,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error("Inconsistent state")}close(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}});import{SpectrumElement as gn}from"/libs/features/spectrum-web-components/dist/base.js";import{reparentChildren as vn}from"/libs/features/spectrum-web-components/dist/shared.js";function S(){return new Promise(e=>requestAnimationFrame(()=>e()))}var vt,U,yt,gt,Z=x(()=>{"use strict";me();vt=new Ft,U=()=>{},yt=(e,t,n)=>{let o=new AbortController,i=new Map,a=()=>{o.abort(),n()},r,s,l=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a()})})}),c=h=>{h.target===e&&(i.set(h.propertyName,i.get(h.propertyName)-1),i.get(h.propertyName)||i.delete(h.propertyName),i.size===0&&a())},p=h=>{h.target===e&&(i.has(h.propertyName)||i.set(h.propertyName,0),i.set(h.propertyName,i.get(h.propertyName)+1),cancelAnimationFrame(l),cancelAnimationFrame(r),cancelAnimationFrame(s))};e.addEventListener("transitionrun",p,{signal:o.signal}),e.addEventListener("transitionend",c,{signal:o.signal}),e.addEventListener("transitioncancel",c,{signal:o.signal}),t()};gt=class e extends gn{constructor(){super(...arguments),this.dispose=U,this.offset=0,this.willPreventClose=!1}async applyFocus(t,n){}get delayed(){return!1}set delayed(t){}get disabled(){return!1}set disabled(t){}get elementResolver(){return this._elementResolver}set elementResolver(t){this._elementResolver=t}async ensureOnDOM(t){}async makeTransition(t){return null}async manageDelay(t){}async manageDialogOpen(){}async managePopoverOpen(){}managePosition(){}get open(){return!1}set open(t){}get placementController(){return this._placementController}set placementController(t){this._placementController=t}requestSlottable(){}returnFocus(){}get state(){return"closed"}set state(t){}manuallyKeepOpen(){}static update(){let t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}static async open(t,n,o,i){await Promise.resolve().then(()=>(rt(),Ct));let a=arguments.length===2,r=o||t,s=new this,l=!1;s.dispose=()=>{s.addEventListener("sp-closed",()=>{l||(c(),l=!0),requestAnimationFrame(()=>{s.remove()})}),s.open=!1,s.dispose=U};let c=vn([r],s,{position:"beforeend",prepareCallback:h=>{let u=h.slot;return h.removeAttribute("slot"),()=>{h.slot=u}}});if(!a&&r&&i){let h=t,u=n,d=i;return e.applyOptions(s,{...d,delayed:d.delayed||r.hasAttribute("delayed"),trigger:d.virtualTrigger||h,type:u==="modal"?"modal":u==="hover"?"hint":"auto"}),h.insertAdjacentElement("afterend",s),await s.updateComplete,s.open=!0,s.dispose}let p=n;return s.append(r),e.applyOptions(s,{...p,delayed:p.delayed||r.hasAttribute("delayed")}),s.updateComplete.then(()=>{s.open=!0}),s}static applyOptions(t,n){var o,i;t.delayed=!!n.delayed,t.receivesFocus=(o=n.receivesFocus)!=null?o:"auto",t.triggerElement=n.trigger||null,t.type=n.type||"modal",t.offset=(i=n.offset)!=null?i:0,t.placement=n.placement,t.willPreventClose=!!n.notImmediatelyClosable}}});var W,Ot=x(()=>{"use strict";Z();W=class{constructor(t,n){this.x=0,this.y=0,this.x=t,this.y=n}updateBoundingClientRect(t,n){this.x=t,this.y=n,gt.update()}getBoundingClientRect(){return{width:0,height:0,top:this.y,right:this.x,y:this.y,x:this.x,bottom:this.y,left:this.x,toJSON(){}}}}});var tt,et,P,$t=x(()=>{"use strict";tt=class extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="open",this.newState="closed"}},et=class extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="closed",this.newState="open"}},P=class extends Event{constructor(t,n,{publish:o,interaction:i,reason:a}){super(t,{bubbles:o,composed:o}),this.overlay=n,this.detail={interaction:i,reason:a}}}});import{firstFocusableIn as yn,firstFocusableSlottedIn as wn}from"/libs/features/spectrum-web-components/dist/shared.js";import{userFocusableSelector as bn}from"/libs/features/spectrum-web-components/dist/shared.js";function fe(e){class t extends e{async manageDialogOpen(){let o=this.open;if(await this.managePosition(),this.open!==o)return;let i=await this.dialogMakeTransition(o);this.open===o&&await this.dialogApplyFocus(o,i)}async dialogMakeTransition(o){let i=null,a=(s,l)=>async()=>{if(s.open=o,!o){let p=()=>{s.removeEventListener("close",p),r(s,l)};s.addEventListener("close",p)}if(l>0)return;let c=o?et:tt;this.dispatchEvent(new c),o&&(s.matches(bn)&&(i=s),i=i||yn(s),i||s.querySelectorAll("slot").forEach(p=>{i||(i=wn(p))}),!(!this.isConnected||this.dialogEl.open)&&this.dialogEl.showModal())},r=(s,l)=>()=>{if(this.open!==o)return;let c=o?"sp-opened":"sp-closed";if(l>0){s.dispatchEvent(new P(c,this,{interaction:this.type,publish:!1}));return}if(!this.isConnected||o!==this.open)return;let p=async()=>{let h=this.triggerElement instanceof W;this.dispatchEvent(new P(c,this,{interaction:this.type,publish:h})),s.dispatchEvent(new P(c,this,{interaction:this.type,publish:!1})),this.triggerElement&&!h&&this.triggerElement.dispatchEvent(new P(c,this,{interaction:this.type,publish:!0})),this.state=o?"opened":"closed",this.returnFocus(),await S(),await S(),o===this.open&&o===!1&&this.requestSlottable()};!o&&this.dialogEl.open?(this.dialogEl.addEventListener("close",()=>{p()},{once:!0}),this.dialogEl.close()):p()};return this.elements.forEach((s,l)=>{yt(s,a(s,l),r(s,l))}),i}async dialogApplyFocus(o,i){this.applyFocus(o,i)}}return t}var ge=x(()=>{"use strict";Ot();Z();$t()});import{firstFocusableIn as xn,firstFocusableSlottedIn as En}from"/libs/features/spectrum-web-components/dist/shared.js";import{userFocusableSelector as Cn}from"/libs/features/spectrum-web-components/dist/shared.js";function ve(e){let t=!1;try{t=e.matches(":popover-open")}catch{}let n=!1;try{n=e.matches(":open")}catch{}return t||n}function ye(e){class t extends e{async manageDelay(o){if(o===!1||o!==this.open){vt.close(this);return}this.delayed&&await vt.openTimer(this)&&(this.open=!o)}async shouldHidePopover(o){if(o&&this.open!==o)return;let i=async({newState:a}={})=>{a!=="open"&&await this.placementController.resetOverlayPosition()};if(!ve(this.dialogEl)){i();return}this.dialogEl.addEventListener("toggle",i,{once:!0})}async shouldShowPopover(o){let i=!1;try{i=this.dialogEl.matches(":popover-open")}catch{}let a=!1;try{a=this.dialogEl.matches(":open")}catch{}o&&this.open===o&&!i&&!a&&this.isConnected&&(this.dialogEl.showPopover(),await this.managePosition())}async ensureOnDOM(o){await S(),On||await this.shouldHidePopover(o),await this.shouldShowPopover(o),await S()}async makeTransition(o){if(this.open!==o)return null;let i=null,a=(s,l)=>()=>{if(s.open=o,l===0){let c=o?et:tt;this.dispatchEvent(new c)}!o||(s.matches(Cn)&&(i=s),i=i||xn(s),i)||s.querySelectorAll("slot").forEach(c=>{i||(i=En(c))})},r=(s,l)=>async()=>{if(this.open!==o)return;let c=o?"sp-opened":"sp-closed";if(l>0){s.dispatchEvent(new P(c,this,{interaction:this.type,publish:!1}));return}let p=async()=>{if(this.open!==o)return;await S();let u=this.triggerElement instanceof W;this.dispatchEvent(new P(c,this,{interaction:this.type,publish:u})),s.dispatchEvent(new P(c,this,{interaction:this.type,publish:!1})),this.triggerElement&&!u&&this.triggerElement.dispatchEvent(new P(c,this,{interaction:this.type,publish:!0})),this.state=o?"opened":"closed",this.returnFocus(),await S(),await S(),o===this.open&&o===!1&&this.requestSlottable()};if(this.open!==o)return;let h=ve(this.dialogEl);o!==!0&&h&&this.isConnected?(this.dialogEl.addEventListener("beforetoggle",()=>{p()},{once:!0}),this.dialogEl.hidePopover()):p()};return this.elements.forEach((s,l)=>{yt(s,a(s,l),r(s,l))}),i}}return t}var On,we=x(()=>{"use strict";Ot();Z();$t();On=CSS.supports("(overlay: auto)")});import{firstFocusableIn as Pn,firstFocusableSlottedIn as An}from"/libs/features/spectrum-web-components/dist/shared.js";import{userFocusableSelector as Sn}from"/libs/features/spectrum-web-components/dist/shared.js";function be(e){class t extends e{async managePopoverOpen(){await this.managePosition()}async manageDelay(o){if(o===!1||o!==this.open){vt.close(this);return}this.delayed&&await vt.openTimer(this)&&(this.open=!o)}async ensureOnDOM(o){document.body.offsetHeight}async makeTransition(o){if(this.open!==o)return null;let i=null,a=(s,l)=>()=>{if(o===this.open){if(s.open=o,l===0){let c=o?et:tt;this.dispatchEvent(new c)}o!==!0||(s.matches(Sn)&&(i=s),i=i||Pn(s),i)||s.querySelectorAll("slot").forEach(c=>{i||(i=An(c))})}},r=(s,l)=>async()=>{if(this.open!==o)return;let c=o?"sp-opened":"sp-closed";if(s.dispatchEvent(new P(c,this,{interaction:this.type})),l>0)return;let p=this.triggerElement instanceof W;this.dispatchEvent(new P(c,this,{interaction:this.type,publish:p})),this.triggerElement&&!p&&this.triggerElement.dispatchEvent(new P(c,this,{interaction:this.type,publish:!0})),this.state=o?"opened":"closed",this.returnFocus(),await S(),await S(),o===this.open&&o===!1&&this.requestSlottable()};return this.elements.forEach((s,l)=>{yt(s,a(s,l),r(s,l))}),i}}return t}var xe=x(()=>{"use strict";Ot();Z();$t()});var Tn,te,ee,Ee=x(()=>{"use strict";Tn="showPopover"in document.createElement("div"),te=class{constructor(){this.root=document.body,this.stack=[],this.handlePointerdown=t=>{this.pointerdownPath=t.composedPath(),this.lastOverlay=this.stack[this.stack.length-1]},this.handlePointerup=()=>{let t=this.pointerdownPath;if(this.pointerdownPath=void 0,!this.stack.length||!(t!=null&&t.length))return;let n=this.stack.length-1,o=this.stack.filter((i,a)=>!t.find(r=>r===i||r===i?.triggerElement&&i?.type==="hint"||a===n&&i!==this.lastOverlay&&i.triggerInteraction==="longpress")&&!i.shouldPreventClose()&&i.type!=="manual");o.reverse(),o.forEach(i=>{this.closeOverlay(i);let a=i.parentOverlayToForceClose;for(;a;)this.closeOverlay(a),a=a.parentOverlayToForceClose})},this.handleBeforetoggle=t=>{let{target:n,newState:o}=t;o!=="open"&&this.closeOverlay(n)},this.handleKeydown=t=>{if(t.code!=="Escape"||!this.stack.length)return;let n=this.stack[this.stack.length-1];if(n?.type==="page"){t.preventDefault();return}Tn||n?.type!=="manual"&&n&&this.closeOverlay(n)},this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener("pointerdown",this.handlePointerdown),this.document.addEventListener("pointerup",this.handlePointerup),this.document.addEventListener("keydown",this.handleKeydown)}closeOverlay(t){let n=this.stack.indexOf(t);n>-1&&this.stack.splice(n,1),t.open=!1}overlaysByTriggerElement(t){return this.stack.filter(n=>n.triggerElement===t)}add(t){if(this.stack.includes(t)){let n=this.stack.indexOf(t);n>-1&&(this.stack.splice(n,1),this.stack.push(t));return}if(t.type==="auto"||t.type==="modal"||t.type==="page"){let n="sp-overlay-query-path",o=new Event(n,{composed:!0,bubbles:!0});t.addEventListener(n,i=>{let a=i.composedPath();this.stack.forEach(r=>{!a.find(s=>s===r)&&r.type!=="manual"&&this.closeOverlay(r)})},{once:!0}),t.dispatchEvent(o)}else if(t.type==="hint"){if(this.stack.some(n=>n.type!=="manual"&&n.triggerElement&&n.triggerElement===t.triggerElement)){t.open=!1;return}this.stack.forEach(n=>{n.type==="hint"&&this.closeOverlay(n)})}requestAnimationFrame(()=>{this.stack.push(t),t.addEventListener("beforetoggle",this.handleBeforetoggle,{once:!0})})}remove(t){this.closeOverlay(t)}},ee=new te});function Bt(e,t,n){return T(e,F(t,n))}function at(e,t){return typeof e=="function"?e(t):e}function K(e){return e.split("-")[0]}function lt(e){return e.split("-")[1]}function ne(e){return e==="x"?"y":"x"}function Mt(e){return e==="y"?"height":"width"}function nt(e){return["top","bottom"].includes(K(e))?"y":"x"}function It(e){return ne(nt(e))}function Ce(e,t,n){n===void 0&&(n=!1);let o=lt(e),i=It(e),a=Mt(i),r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(r=Pt(r)),[r,Pt(r)]}function Oe(e){let t=Pt(e);return[Nt(e),t,Nt(t)]}function Nt(e){return e.replace(/start|end/g,t=>kn[t])}function Ln(e,t,n){let o=["left","right"],i=["right","left"],a=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?a:r;default:return[]}}function Pe(e,t,n,o){let i=lt(e),a=Ln(K(e),n==="start",o);return i&&(a=a.map(r=>r+"-"+i),t&&(a=a.concat(a.map(Nt)))),a}function Pt(e){return e.replace(/left|right|bottom|top/g,t=>Rn[t])}function Dn(e){return{top:0,right:0,bottom:0,left:0,...e}}function oe(e){return typeof e!="number"?Dn(e):{top:e,right:e,bottom:e,left:e}}function ct(e){let{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}var F,T,At,St,j,Rn,kn,Ht=x(()=>{F=Math.min,T=Math.max,At=Math.round,St=Math.floor,j=e=>({x:e,y:e}),Rn={left:"right",right:"left",bottom:"top",top:"bottom"},kn={start:"end",end:"start"}});function Ae(e,t,n){let{reference:o,floating:i}=e,a=nt(t),r=It(t),s=Mt(r),l=K(t),c=a==="y",p=o.x+o.width/2-i.width/2,h=o.y+o.height/2-i.height/2,u=o[s]/2-i[s]/2,d;switch(l){case"top":d={x:p,y:o.y-i.height};break;case"bottom":d={x:p,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:h};break;case"left":d={x:o.x-i.width,y:h};break;default:d={x:o.x,y:o.y}}switch(lt(t)){case"start":d[r]-=u*(n&&c?-1:1);break;case"end":d[r]+=u*(n&&c?-1:1);break}return d}async function _t(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:a,rects:r,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=at(t,e),m=oe(d),v=s[u?h==="floating"?"reference":"floating":h],g=ct(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:p,strategy:l})),y=h==="floating"?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),E=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},b=ct(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-b.top+m.top)/E.y,bottom:(b.bottom-g.bottom+m.bottom)/E.y,left:(g.left-b.left+m.left)/E.x,right:(b.right-g.right+m.right)/E.x}}async function Fn(e,t){let{placement:n,platform:o,elements:i}=e,a=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=K(n),s=lt(n),l=nt(n)==="y",c=["left","top"].includes(r)?-1:1,p=a&&l?-1:1,h=at(t,e),{mainAxis:u,crossAxis:d,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&typeof m=="number"&&(d=s==="end"?m*-1:m),l?{x:d*p,y:u*c}:{x:u*c,y:d*p}}var Se,Te,Re,ke,Le,De,Fe=x(()=>{Ht();Ht();Se=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:a=[],platform:r}=n,s=a.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(t)),c=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:h}=Ae(c,o,l),u=o,d={},m=0;for(let f=0;f<s.length;f++){let{name:v,fn:g}=s[f],{x:y,y:w,data:E,reset:b}=await g({x:p,y:h,initialPlacement:o,placement:u,strategy:i,middlewareData:d,rects:c,platform:r,elements:{reference:e,floating:t}});p=y??p,h=w??h,d={...d,[v]:{...d[v],...E}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(u=b.placement),b.rects&&(c=b.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:p,y:h}=Ae(c,u,l)),f=-1)}return{x:p,y:h,placement:u,strategy:i,middlewareData:d}};Te=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:a,platform:r,elements:s,middlewareData:l}=t,{element:c,padding:p=0}=at(e,t)||{};if(c==null)return{};let h=oe(p),u={x:n,y:o},d=It(i),m=Mt(d),f=await r.getDimensions(c),v=d==="y",g=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",E=a.reference[m]+a.reference[d]-u[d]-a.floating[m],b=u[d]-a.reference[d],k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c)),H=k?k[w]:0;(!H||!await(r.isElement==null?void 0:r.isElement(k)))&&(H=s.floating[w]||a.floating[m]);let X=E/2-b/2,_=H/2-f[m]/2-1,B=F(h[g],_),G=F(h[y],_),st=B,Et=H-f[m]-G,A=H/2-f[m]/2+X,ft=Bt(st,A,Et),z=!l.arrow&&lt(i)!=null&&A!==ft&&a.reference[m]/2-(A<st?B:G)-f[m]/2<0,q=z?A<st?A-st:A-Et:0;return{[d]:u[d]+q,data:{[d]:ft,centerOffset:A-ft-q,...z&&{alignmentOffset:q}},reset:z}}}),Re=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;let{placement:i,middlewareData:a,rects:r,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...v}=at(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};let g=K(i),y=nt(s),w=K(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=u||(w||!f?[Pt(s)]:Oe(s)),k=m!=="none";!u&&k&&b.push(...Pe(s,f,m,E));let H=[s,...b],X=await _t(t,v),_=[],B=((o=a.flip)==null?void 0:o.overflows)||[];if(p&&_.push(X[g]),h){let A=Ce(i,r,E);_.push(X[A[0]],X[A[1]])}if(B=[...B,{placement:i,overflows:_}],!_.every(A=>A<=0)){var G,st;let A=(((G=a.flip)==null?void 0:G.index)||0)+1,ft=H[A];if(ft)return{data:{index:A,overflows:B},reset:{placement:ft}};let z=(st=B.filter(q=>q.overflows[0]<=0).sort((q,J)=>q.overflows[1]-J.overflows[1])[0])==null?void 0:st.placement;if(!z)switch(d){case"bestFit":{var Et;let q=(Et=B.filter(J=>{if(k){let Q=nt(J.placement);return Q===y||Q==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Q=>Q>0).reduce((Q,un)=>Q+un,0)]).sort((J,Q)=>J[1]-Q[1])[0])==null?void 0:Et[0];q&&(z=q);break}case"initialPlacement":z=s;break}if(i!==z)return{reset:{placement:z}}}return{}}}};ke=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;let{x:i,y:a,placement:r,middlewareData:s}=t,l=await Fn(t,e);return r===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:r}}}}},Le=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:a=!0,crossAxis:r=!1,limiter:s={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=at(e,t),c={x:n,y:o},p=await _t(t,l),h=nt(K(i)),u=ne(h),d=c[u],m=c[h];if(a){let v=u==="y"?"top":"left",g=u==="y"?"bottom":"right",y=d+p[v],w=d-p[g];d=Bt(y,d,w)}if(r){let v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=m+p[v],w=m-p[g];m=Bt(y,m,w)}let f=s.fn({...t,[u]:d,[h]:m});return{...f,data:{x:f.x-n,y:f.y-o}}}}},De=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){let{placement:n,rects:o,platform:i,elements:a}=t,{apply:r=()=>{},...s}=at(e,t),l=await _t(t,s),c=K(n),p=lt(n),h=nt(n)==="y",{width:u,height:d}=o.floating,m,f;c==="top"||c==="bottom"?(m=c,f=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(f=c,m=p==="end"?"top":"bottom");let v=d-l.top-l.bottom,g=u-l.left-l.right,y=F(d-l[m],v),w=F(u-l[f],g),E=!t.middlewareData.shift,b=y,k=w;if(h?k=p||E?F(w,g):g:b=p||E?F(y,v):v,E&&!p){let X=T(l.left,0),_=T(l.right,0),B=T(l.top,0),G=T(l.bottom,0);h?k=u-2*(X!==0||_!==0?X+_:T(l.left,l.right)):b=d-2*(B!==0||G!==0?B+G:T(l.top,l.bottom))}await r({...t,availableWidth:k,availableHeight:b});let H=await i.getDimensions(a.floating);return u!==H.width||d!==H.height?{reset:{rects:!0}}:{}}}}});function ht(e){return Ne(e)?(e.nodeName||"").toLowerCase():"#document"}function L(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function V(e){var t;return(t=(Ne(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ne(e){return e instanceof Node||e instanceof L(e).Node}function $(e){return e instanceof Element||e instanceof L(e).Element}function M(e){return e instanceof HTMLElement||e instanceof L(e).HTMLElement}function $e(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof L(e).ShadowRoot}function bt(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=N(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Be(e){return["table","td","th"].includes(ht(e))}function Tt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qt(e){let t=Wt(),n=$(e)?N(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Me(e){let t=Y(e);for(;M(t)&&!pt(t);){if(qt(t))return t;if(Tt(t))return null;t=Y(t)}return null}function Wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pt(e){return["html","body","#document"].includes(ht(e))}function N(e){return L(e).getComputedStyle(e)}function Rt(e){return $(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Y(e){if(ht(e)==="html")return e;let t=e.assignedSlot||e.parentNode||$e(e)&&e.host||V(e);return $e(t)?t.host:t}function Ie(e){let t=Y(e);return pt(t)?e.ownerDocument?e.ownerDocument.body:e.body:M(t)&&bt(t)?t:Ie(t)}function wt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);let i=Ie(e),a=i===((o=e.ownerDocument)==null?void 0:o.body),r=L(i);if(a){let s=Vt(r);return t.concat(r,r.visualViewport||[],bt(i)?i:[],s&&n?wt(s):[])}return t.concat(i,wt(i,[],n))}function Vt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var He=x(()=>{});function We(e){let t=N(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=M(e),a=i?e.offsetWidth:n,r=i?e.offsetHeight:o,s=At(n)!==a||At(o)!==r;return s&&(n=a,o=r),{width:n,height:o,$:s}}function se(e){return $(e)?e:e.contextElement}function xt(e){let t=se(e);if(!M(t))return j(1);let n=t.getBoundingClientRect(),{width:o,height:i,$:a}=We(t),r=(a?At(n.width):n.width)/o,s=(a?At(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!s||!Number.isFinite(s))&&(s=1),{x:r,y:s}}function Ve(e){let t=L(e);return!Wt()||!t.visualViewport?$n:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Nn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==L(e)?!1:t}function dt(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=se(e),r=j(1);t&&(o?$(o)&&(r=xt(o)):r=xt(e));let s=Nn(a,n,o)?Ve(a):j(0),l=(i.left+s.x)/r.x,c=(i.top+s.y)/r.y,p=i.width/r.x,h=i.height/r.y;if(a){let u=L(a),d=o&&$(o)?L(o):o,m=u,f=Vt(m);for(;f&&o&&d!==m;){let v=xt(f),g=f.getBoundingClientRect(),y=N(f),w=g.left+(f.clientLeft+parseFloat(y.paddingLeft))*v.x,E=g.top+(f.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,p*=v.x,h*=v.y,l+=w,c+=E,m=L(f),f=Vt(m)}}return ct({width:p,height:h,x:l,y:c})}function Bn(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e,a=i==="fixed",r=V(o),s=t?Tt(t.floating):!1;if(o===r||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=j(1),p=j(0),h=M(o);if((h||!h&&!a)&&((ht(o)!=="body"||bt(r))&&(l=Rt(o)),M(o))){let u=dt(o);c=xt(o),p.x=u.x+o.clientLeft,p.y=u.y+o.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+p.x,y:n.y*c.y-l.scrollTop*c.y+p.y}}function Mn(e){return Array.from(e.getClientRects())}function ze(e){return dt(V(e)).left+Rt(e).scrollLeft}function In(e){let t=V(e),n=Rt(e),o=e.ownerDocument.body,i=T(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=T(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),r=-n.scrollLeft+ze(e),s=-n.scrollTop;return N(o).direction==="rtl"&&(r+=T(t.clientWidth,o.clientWidth)-i),{width:i,height:a,x:r,y:s}}function Hn(e,t){let n=L(e),o=V(e),i=n.visualViewport,a=o.clientWidth,r=o.clientHeight,s=0,l=0;if(i){a=i.width,r=i.height;let c=Wt();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:r,x:s,y:l}}function _n(e,t){let n=dt(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,a=M(e)?xt(e):j(1),r=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=o*a.y;return{width:r,height:s,x:l,y:c}}function _e(e,t,n){let o;if(t==="viewport")o=Hn(e,n);else if(t==="document")o=In(V(e));else if($(t))o=_n(t,n);else{let i=Ve(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return ct(o)}function Ue(e,t){let n=Y(e);return n===t||!$(n)||pt(n)?!1:N(n).position==="fixed"||Ue(n,t)}function qn(e,t){let n=t.get(e);if(n)return n;let o=wt(e,[],!1).filter(s=>$(s)&&ht(s)!=="body"),i=null,a=N(e).position==="fixed",r=a?Y(e):e;for(;$(r)&&!pt(r);){let s=N(r),l=qt(r);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bt(r)&&!l&&Ue(e,r))?o=o.filter(p=>p!==r):i=s,r=Y(r)}return t.set(e,o),o}function Wn(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,r=[...n==="clippingAncestors"?Tt(t)?[]:qn(t,this._c):[].concat(n),o],s=r[0],l=r.reduce((c,p)=>{let h=_e(t,p,i);return c.top=T(h.top,c.top),c.right=F(h.right,c.right),c.bottom=F(h.bottom,c.bottom),c.left=T(h.left,c.left),c},_e(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Vn(e){let{width:t,height:n}=We(e);return{width:t,height:n}}function zn(e,t,n){let o=M(t),i=V(t),a=n==="fixed",r=dt(e,!0,a,t),s={scrollLeft:0,scrollTop:0},l=j(0);if(o||!o&&!a)if((ht(t)!=="body"||bt(i))&&(s=Rt(t)),o){let h=dt(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=ze(i));let c=r.left+s.scrollLeft-l.x,p=r.top+s.scrollTop-l.y;return{x:c,y:p,width:r.width,height:r.height}}function ie(e){return N(e).position==="static"}function qe(e,t){return!M(e)||N(e).position==="fixed"?null:t?t(e):e.offsetParent}function je(e,t){let n=L(e);if(Tt(e))return n;if(!M(e)){let i=Y(e);for(;i&&!pt(i);){if($(i)&&!ie(i))return i;i=Y(i)}return n}let o=qe(e,t);for(;o&&Be(o)&&ie(o);)o=qe(o,t);return o&&pt(o)&&ie(o)&&!qt(o)?n:o||Me(e)||n}function jn(e){return N(e).direction==="rtl"}function Yn(e,t){let n=null,o,i=V(e);function a(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function r(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();let{left:c,top:p,width:h,height:u}=e.getBoundingClientRect();if(s||t(),!h||!u)return;let d=St(p),m=St(i.clientWidth-(c+h)),f=St(i.clientHeight-(p+u)),v=St(c),y={rootMargin:-d+"px "+-m+"px "+-f+"px "+-v+"px",threshold:T(0,F(1,l))||1},w=!0;function E(b){let k=b[0].intersectionRatio;if(k!==l){if(!w)return r();k?r(!1,k):o=setTimeout(()=>{r(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(E,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return r(!0),a}function re(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,c=se(e),p=i||a?[...c?wt(c):[],...wt(t)]:[];p.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});let h=c&&s?Yn(c,n):null,u=-1,d=null;r&&(d=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),c&&!l&&d.observe(c),d.observe(t));let m,f=l?dt(e):null;l&&v();function v(){let g=dt(e);f&&(g.x!==f.x||g.y!==f.y||g.width!==f.width||g.height!==f.height)&&n(),f=g,m=requestAnimationFrame(v)}return n(),()=>{var g;p.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),h?.(),(g=d)==null||g.disconnect(),d=null,l&&cancelAnimationFrame(m)}}var $n,Un,Kn,Ke,Ye,ae,Xe,Ge,Je,Qe=x(()=>{Fe();Ht();He();$n=j(0);Un=async function(e){let t=this.getOffsetParent||je,n=this.getDimensions,o=await n(e.floating);return{reference:zn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};Kn={convertOffsetParentRelativeRectToViewportRelativeRect:Bn,getDocumentElement:V,getClippingRect:Wn,getOffsetParent:je,getElementRects:Un,getClientRects:Mn,getDimensions:Vn,getScale:xt,isElement:$,isRTL:jn};Ke=ke,Ye=Le,ae=Re,Xe=De,Ge=Te,Je=(e,t,n)=>{let o=new Map,i={platform:Kn,...n},a={...i.platform,_c:o};return Se(e,t,{...i,platform:a})}});function zt(e){if(typeof e>"u")return 0;let t=window.devicePixelRatio||1;return Math.round(e*t)/t}var Ut,Xn,Gn,di,jt,Ze=x(()=>{"use strict";Qe();Ut=8,Xn=100,Gn=e=>{var t;return(t={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[e])!=null?t:[e]},di=Symbol("placement updated"),jt=class{constructor(t){this.originalPlacements=new WeakMap,this.allowPlacementUpdate=!1,this.closeForAncestorUpdate=()=>{!this.allowPlacementUpdate&&this.options.type!=="modal"&&this.cleanup&&this.target.dispatchEvent(new Event("close",{bubbles:!0})),this.allowPlacementUpdate=!1},this.updatePlacement=()=>{this.computePlacement()},this.resetOverlayPosition=()=>{!this.target||!this.options||(this.clearOverlayPosition(),this.host.offsetHeight,this.computePlacement())},this.host=t,this.host.addController(this)}async placeOverlay(t=this.target,n=this.options){if(this.target=t,this.options=n,!t||!n)return;let o=re(n.trigger,t,this.closeForAncestorUpdate,{ancestorResize:!1,elementResize:!1,layoutShift:!1}),i=re(n.trigger,t,this.updatePlacement,{ancestorScroll:!1});this.cleanup=()=>{var a;(a=this.host.elements)==null||a.forEach(r=>{r.addEventListener("sp-closed",()=>{let s=this.originalPlacements.get(r);s&&r.setAttribute("placement",s),this.originalPlacements.delete(r)},{once:!0})}),o(),i()}}async computePlacement(){var t,n;let{options:o,target:i}=this;await(document.fonts?document.fonts.ready:Promise.resolve());let a=o.trigger instanceof HTMLElement?ae():ae({padding:Ut,fallbackPlacements:Gn(o.placement)}),[r=0,s=0]=Array.isArray(o?.offset)?o.offset:[o.offset,0],l=(t=this.host.elements.find(m=>m.tipElement))==null?void 0:t.tipElement,c=[Ke({mainAxis:r,crossAxis:s}),Ye({padding:Ut}),a,Xe({padding:Ut,apply:({availableWidth:m,availableHeight:f,rects:{floating:v}})=>{let g=Math.max(Xn,Math.floor(f)),y=v.height;this.initialHeight=this.isConstrained&&this.initialHeight||y,this.isConstrained=y<this.initialHeight||g<=y;let w=this.isConstrained?`${g}px`:"";Object.assign(i.style,{maxWidth:`${Math.floor(m)}px`,maxHeight:w})}}),...l?[Ge({element:l,padding:o.tipPadding||Ut})]:[]],{x:p,y:h,placement:u,middlewareData:d}=await Je(o.trigger,i,{placement:o.placement,middleware:c,strategy:"fixed"});if(Object.assign(i.style,{top:"0px",left:"0px",translate:`${zt(p)}px ${zt(h)}px`}),i.setAttribute("actual-placement",u),(n=this.host.elements)==null||n.forEach(m=>{this.originalPlacements.has(m)||this.originalPlacements.set(m,m.getAttribute("placement")),m.setAttribute("placement",u)}),l&&d.arrow){let{x:m,y:f}=d.arrow;Object.assign(l.style,{top:u.startsWith("right")||u.startsWith("left")?"0px":"",left:u.startsWith("bottom")||u.startsWith("top")?"0px":"",translate:`${zt(m)}px ${zt(f)}px`})}}clearOverlayPosition(){this.target&&(this.target.style.removeProperty("max-height"),this.target.style.removeProperty("max-width"),this.initialHeight=void 0,this.isConstrained=!1)}hostConnected(){document.addEventListener("sp-update-overlays",this.resetOverlayPosition)}hostUpdated(){var t;this.host.open||((t=this.cleanup)==null||t.call(this),this.cleanup=void 0)}hostDisconnected(){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0,document.removeEventListener("sp-update-overlays",this.resetOverlayPosition)}}});var ut,ot,Kt=x(()=>{"use strict";ut=(e=>(e[e.click=0]="click",e[e.hover=1]="hover",e[e.longpress=2]="longpress",e))(ut||{}),ot=class{constructor(t,{overlay:n,isPersistent:o,handleOverlayReady:i}){this.target=t,this.isLazilyOpen=!1,this.isPersistent=!1,this.isPersistent=!!o,this.handleOverlayReady=i,this.isPersistent&&this.init(),this.overlay=n}get activelyOpening(){return!1}get open(){var t,n;return(n=(t=this.overlay)==null?void 0:t.open)!=null?n:this.isLazilyOpen}set open(t){if(t!==this.open){if(this.isLazilyOpen=t,this.overlay){this.overlay.open=t;return}t&&(customElements.whenDefined("sp-overlay").then(async()=>{let{Overlay:n}=await Promise.resolve().then(()=>(Yt(),tn));this.overlay=new n,this.overlay.open=!0}),Promise.resolve().then(()=>(rt(),Ct)))}}get overlay(){return this._overlay}set overlay(t){var n;t&&this.overlay!==t&&(this.overlay&&this.overlay.removeController(this),this._overlay=t,this.overlay.addController(this),this.initOverlay(),this.prepareDescription(this.target),(n=this.handleOverlayReady)==null||n.call(this,this.overlay))}prepareDescription(t){}releaseDescription(){}shouldCompleteOpen(){}init(){}initOverlay(){}abort(){var t;this.releaseDescription(),(t=this.abortController)==null||t.abort()}hostConnected(){this.init()}hostDisconnected(){this.isPersistent||this.abort()}}});import{isAndroid as Jn,isIOS as Qn}from"/libs/features/spectrum-web-components/dist/shared.js";import{conditionAttributeWithId as Zn}from"/libs/features/spectrum-web-components/dist/base.js";import{randomID as to}from"/libs/features/spectrum-web-components/dist/shared.js";var eo,le,Xt,ce=x(()=>{"use strict";Z();Kt();eo=300,le={touch:"Double tap and long press for additional options",keyboard:"Press Space or Alt+Down Arrow for additional options",mouse:"Click and hold for additional options"},Xt=class extends ot{constructor(){super(...arguments),this.type=ut.longpress,this.longpressState=null,this.releaseDescription=U,this.handlePointerup=()=>{var t;clearTimeout(this.timeout),this.target&&(this.longpressState=((t=this.overlay)==null?void 0:t.state)==="opening"?"pressed":null,document.removeEventListener("pointerup",this.handlePointerup),document.removeEventListener("pointercancel",this.handlePointerup))}}get activelyOpening(){return this.longpressState==="opening"||this.longpressState==="pressed"}handleLongpress(){this.open=!0,this.longpressState=this.longpressState==="potential"?"opening":"pressed"}handlePointerdown(t){!this.target||t.button!==0||(this.longpressState="potential",document.addEventListener("pointerup",this.handlePointerup),document.addEventListener("pointercancel",this.handlePointerup),"holdAffordance"in this.target)||(this.timeout=setTimeout(()=>{this.target&&this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"pointer"}}))},eo))}handleKeydown(t){let{code:n,altKey:o}=t;o&&n==="ArrowDown"&&(t.stopPropagation(),t.stopImmediatePropagation())}handleKeyup(t){let{code:n,altKey:o}=t;if(n==="Space"||o&&n==="ArrowDown"){if(!this.target)return;t.stopPropagation(),this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"keyboard"}})),setTimeout(()=>{this.longpressState=null})}}prepareDescription(t){if(this.releaseDescription!==U||!this.overlay.elements.length)return;let n=document.createElement("div");n.id=`longpress-describedby-descriptor-${to()}`;let o=Qn()||Jn()?"touch":"keyboard";n.textContent=le[o],n.slot="longpress-describedby-descriptor";let i=t.getRootNode(),a=this.overlay.getRootNode();i===a?this.overlay.append(n):(n.hidden=!("host"in i),t.insertAdjacentElement("afterend",n));let r=Zn(t,"aria-describedby",[n.id]);this.releaseDescription=()=>{r(),n.remove(),this.releaseDescription=U}}shouldCompleteOpen(){this.longpressState=this.longpressState==="pressed"?null:this.longpressState}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;let{signal:n}=this.abortController;this.target.addEventListener("longpress",()=>this.handleLongpress(),{signal:n}),this.target.addEventListener("pointerdown",o=>this.handlePointerdown(o),{signal:n}),this.prepareDescription(this.target),!this.target.holdAffordance&&(this.target.addEventListener("keydown",o=>this.handleKeydown(o),{signal:n}),this.target.addEventListener("keyup",o=>this.handleKeyup(o),{signal:n}))}}});var Gt,en=x(()=>{"use strict";Kt();Gt=class extends ot{constructor(){super(...arguments),this.type=ut.click,this.preventNextToggle=!1}handleClick(){this.preventNextToggle||(this.open=!this.open),this.preventNextToggle=!1}handlePointerdown(){this.preventNextToggle=this.open}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;let{signal:n}=this.abortController;this.target.addEventListener("click",()=>this.handleClick(),{signal:n}),this.target.addEventListener("pointerdown",()=>this.handlePointerdown(),{signal:n})}}});import{conditionAttributeWithId as nn}from"/libs/features/spectrum-web-components/dist/base.js";import{randomID as no}from"/libs/features/spectrum-web-components/dist/shared.js";var oo,Jt,on=x(()=>{"use strict";Kt();Z();oo=300,Jt=class extends ot{constructor(){super(...arguments),this.type=ut.hover,this.elementIds=[],this.focusedin=!1,this.pointerentered=!1}handleTargetFocusin(){this.target.matches(":focus-visible")&&(this.open=!0,this.focusedin=!0)}handleTargetFocusout(){this.focusedin=!1,!this.pointerentered&&(this.open=!1)}handleTargetPointerenter(){var t;this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0),!((t=this.overlay)!=null&&t.disabled)&&(this.open=!0,this.pointerentered=!0)}handleTargetPointerleave(){this.doPointerleave()}handleHostPointerenter(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0)}handleHostPointerleave(){this.doPointerleave()}prepareDescription(){if(!this.overlay.elements.length)return;let t=this.target.getRootNode(),n=this.overlay.elements[0].getRootNode(),o=this.overlay.getRootNode();t===o?this.prepareOverlayRelativeDescription():t===n&&this.prepareContentRelativeDescription()}prepareOverlayRelativeDescription(){let t=nn(this.target,"aria-describedby",[this.overlay.id]);this.releaseDescription=()=>{t(),this.releaseDescription=U}}prepareContentRelativeDescription(){let t=[],n=this.overlay.elements.map(i=>(t.push(i.id),i.id||(i.id=`${this.overlay.tagName.toLowerCase()}-helper-${no()}`),i.id));this.elementIds=t;let o=nn(this.target,"aria-describedby",n);this.releaseDescription=()=>{o(),this.overlay.elements.map((i,a)=>{i.id=this.elementIds[a]}),this.releaseDescription=U}}doPointerleave(){this.pointerentered=!1;let t=this.target;this.focusedin&&t.matches(":focus-visible")||(this.hoverTimeout=setTimeout(()=>{this.open=!1},oo))}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;let{signal:n}=this.abortController;this.target.addEventListener("focusin",()=>this.handleTargetFocusin(),{signal:n}),this.target.addEventListener("focusout",()=>this.handleTargetFocusout(),{signal:n}),this.target.addEventListener("pointerenter",()=>this.handleTargetPointerenter(),{signal:n}),this.target.addEventListener("pointerleave",()=>this.handleTargetPointerleave(),{signal:n}),this.overlay&&this.initOverlay()}initOverlay(){if(!this.abortController)return;let{signal:t}=this.abortController;this.overlay.addEventListener("pointerenter",()=>this.handleHostPointerenter(),{signal:t}),this.overlay.addEventListener("pointerleave",()=>this.handleHostPointerleave(),{signal:t})}}});var sn,rn=x(()=>{"use strict";en();on();ce();sn={click:Gt,longpress:Xt,hover:Jt}});var kt,an,he=x(()=>{"use strict";kt=class extends Event{constructor(t,n,o){super("slottable-request",{bubbles:!1,cancelable:!0,composed:!1}),this.name=t,this.data=n,this.slotName=o!==void 0?`${t}.${o}`:t}},an=Symbol("remove-slottable-request")});import{css as io}from"/libs/features/spectrum-web-components/dist/base.js";var so,ln,cn=x(()=>{"use strict";so=io`
    :host{pointer-events:none;--swc-overlay-animation-distance:var(--spectrum-spacing-100);display:contents}:host(:has(>sp-tooltip)){--swc-overlay-animation-distance:var(--spectrum-tooltip-animation-distance)}.dialog{box-sizing:border-box;max-height:calc(100vh - 16px);max-height:calc(100dvh - 16px);max-width:calc(100vw - 16px);height:auto;--sp-overlay-open:true;background:0 0;border:0;margin:0;padding:0;display:flex;position:fixed;inset:0 auto auto 0;overflow:visible;opacity:1!important}.dialog:not([is-visible]){display:none}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:"";position:absolute;inset:-999em;pointer-events:auto!important}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto;visibility:visible!important}::slotted(sp-popover){position:static}.dialog:not([actual-placement])[placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}@supports selector(:open){.dialog{opacity:0}.dialog:open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports (overlay:auto){.dialog{transition:all var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s)),translate 0s,display var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s));transition-behavior:allow-discrete;display:none}.dialog:popover-open,.dialog:modal{display:flex}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base,1000) + var(--swc-overlay-open-count))}}
`,ln=so});var tn={};fn(tn,{LONGPRESS_INSTRUCTIONS:()=>le,Overlay:()=>Dt});import{html as Qt}from"/libs/features/spectrum-web-components/dist/base.js";import{property as I,query as hn,queryAssignedElements as lo,state as co}from"/libs/features/spectrum-web-components/dist/base.js";import{ElementResolutionController as ho,elementResolverUpdatedSymbol as po}from"/libs/features/spectrum-web-components/dist/reactive-controllers.js";import{ifDefined as pe,styleMap as pn}from"/libs/features/spectrum-web-components/dist/base.js";import{randomID as uo}from"/libs/features/spectrum-web-components/dist/shared.js";var ro,ao,R,mo,Lt,C,Dt,Yt=x(()=>{"use strict";Z();ge();we();xe();Ee();Ot();Ze();ce();rn();he();cn();ro=Object.defineProperty,ao=Object.getOwnPropertyDescriptor,R=(e,t,n,o)=>{for(var i=o>1?void 0:o?ao(t,n):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(i=(o?r(t,n,i):r(i))||i);return o&&i&&ro(t,n,i),i},mo="showPopover"in document.createElement("div"),Lt=fe(gt);mo?Lt=ye(Lt):Lt=be(Lt);C=class de extends Lt{constructor(){super(...arguments),this._delayed=!1,this._disabled=!1,this.offset=0,this._open=!1,this.lastRequestSlottableState=!1,this.receivesFocus="auto",this._state="closed",this.triggerElement=null,this.type="auto",this.wasOpen=!1,this.closeOnFocusOut=t=>{if(!t.relatedTarget)return;let n=new Event("overlay-relation-query",{bubbles:!0,composed:!0});t.relatedTarget.addEventListener(n.type,o=>{o.composedPath().includes(this)||(this.open=!1)}),t.relatedTarget.dispatchEvent(n)}}get delayed(){var t;return((t=this.elements.at(-1))==null?void 0:t.hasAttribute("delayed"))||this._delayed}set delayed(t){this._delayed=t}get disabled(){return this._disabled}set disabled(t){var n;this._disabled=t,t?((n=this.strategy)==null||n.abort(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!!this.triggerElement&&!(this.triggerElement instanceof W)}get placementController(){return this._placementController||(this._placementController=new jt(this)),this._placementController}get open(){return this._open}set open(t){var n;t&&this.disabled||t!==this.open&&((n=this.strategy)!=null&&n.activelyOpening&&!t||(this._open=t,this.open&&(de.openCount+=1),this.requestUpdate("open",!this.open),this.open&&this.requestSlottable()))}get state(){return this._state}set state(t){var n;if(t===this.state)return;let o=this.state;this._state=t,(this.state==="opened"||this.state==="closed")&&((n=this.strategy)==null||n.shouldCompleteOpen()),this.requestUpdate("state",o)}get elementResolver(){return this._elementResolver||(this._elementResolver=new ho(this)),this._elementResolver}get usesDialog(){return this.type==="modal"||this.type==="page"}get popoverValue(){if("popover"in this)switch(this.type){case"modal":case"page":return;case"hint":return"manual";default:return this.type}}get requiresPosition(){return!(this.type==="page"||!this.open||!this.triggerElement||!this.placement&&this.type!=="hint")}managePosition(){if(!this.requiresPosition||!this.open)return;let t=this.offset||0,n=this.triggerElement,o=this.placement||"right",i=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:t,placement:o,tipPadding:i,trigger:n,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();let t=this.open;if(this.open!==t||(await this.manageDelay(t),this.open!==t)||(await this.ensureOnDOM(t),this.open!==t))return;let n=await this.makeTransition(t);this.open===t&&await this.applyFocus(t,n)}async applyFocus(t,n){if(!(this.receivesFocus==="false"||this.type==="hint")){if(await S(),await S(),t===this.open&&!this.open){this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus();return}n?.focus()}}returnFocus(){var t;if(this.open||this.type==="hint")return;let n=()=>{var o,i;let a=[],r=document.activeElement;for(;(o=r?.shadowRoot)!=null&&o.activeElement;)r=r.shadowRoot.activeElement;for(;r;){let s=r.assignedSlot||r.parentElement||((i=r.getRootNode())==null?void 0:i.host);s&&a.push(s),r=s}return a};this.receivesFocus!=="false"&&(t=this.triggerElement)!=null&&t.focus&&(this.contains(this.getRootNode().activeElement)||n().includes(this)||document.activeElement===document.body)&&this.triggerElement.focus()}async manageOpen(t){if(!(!this.isConnected&&this.open)&&(this.hasUpdated||await this.updateComplete,this.open?(ee.add(this),this.willPreventClose&&(document.addEventListener("pointerup",()=>{this.dialogEl.classList.toggle("not-immediately-closable",!1),this.willPreventClose=!1},{once:!0}),this.dialogEl.classList.toggle("not-immediately-closable",!0))):(t&&this.dispose(),ee.remove(this)),this.open&&this.state!=="opened"?this.state="opening":!this.open&&this.state!=="closed"&&(this.state="closing"),this.usesDialog?this.manageDialogOpen():this.managePopoverOpen(),this.type==="auto")){let n=this.getRootNode();this.open?n.addEventListener("focusout",this.closeOnFocusOut,{capture:!0}):n.removeEventListener("focusout",this.closeOnFocusOut,{capture:!0})}}bindEvents(){var t;(t=this.strategy)==null||t.abort(),this.strategy=void 0,this.hasNonVirtualTrigger&&this.triggerInteraction&&(this.strategy=new sn[this.triggerInteraction](this.triggerElement,{overlay:this}))}handleBeforetoggle(t){t.newState!=="open"&&this.handleBrowserClose()}handleBrowserClose(){var t;if(!((t=this.strategy)!=null&&t.activelyOpening)){this.open=!1;return}this.manuallyKeepOpen()}manuallyKeepOpen(){this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){var t,n;this.elements.length?this.hasNonVirtualTrigger&&((n=this.strategy)==null||n.prepareDescription(this.triggerElement)):(t=this.strategy)==null||t.releaseDescription()}shouldPreventClose(){let t=this.willPreventClose;return this.willPreventClose=!1,t}requestSlottable(){this.lastRequestSlottableState!==this.open&&(this.open||document.body.offsetHeight,this.dispatchEvent(new kt("overlay-content",this.open?{}:an)),this.lastRequestSlottableState=this.open)}willUpdate(t){var n;if(this.hasAttribute("id")||this.setAttribute("id",`${this.tagName.toLowerCase()}-${uo()}`),t.has("open")&&(this.hasUpdated||this.open)&&this.manageOpen(t.get("open")),t.has("trigger")){let[i,a]=((n=this.trigger)==null?void 0:n.split("@"))||[];this.elementResolver.selector=i?`#${i}`:"",this.triggerInteraction=a}let o=!1;t.has(po)&&(o=this.triggerElement,this.triggerElement=this.elementResolver.element),t.has("triggerElement")&&(o=t.get("triggerElement")),o!==!1&&this.bindEvents()}updated(t){super.updated(t),t.has("placement")&&(this.placement?this.dialogEl.setAttribute("actual-placement",this.placement):this.dialogEl.removeAttribute("actual-placement"),this.open&&typeof t.get("placement")<"u"&&this.placementController.resetOverlayPosition()),t.has("state")&&this.state==="closed"&&typeof t.get("state")<"u"&&this.placementController.clearOverlayPosition()}renderContent(){return Qt`
            <slot @slotchange=${this.handleSlotchange}></slot>
        `}get dialogStyleMap(){return{"--swc-overlay-open-count":de.openCount.toString()}}renderDialog(){return Qt`
            <dialog
                class="dialog"
                part="dialog"
                placement=${pe(this.requiresPosition?this.placement||"right":void 0)}
                style=${pn(this.dialogStyleMap)}
                @close=${this.handleBrowserClose}
                @cancel=${this.handleBrowserClose}
                @beforetoggle=${this.handleBeforetoggle}
                ?is-visible=${this.state!=="closed"}
            >
                ${this.renderContent()}
            </dialog>
        `}renderPopover(){return Qt`
            <div
                class="dialog"
                part="dialog"
                placement=${pe(this.requiresPosition?this.placement||"right":void 0)}
                popover=${pe(this.popoverValue)}
                style=${pn(this.dialogStyleMap)}
                @beforetoggle=${this.handleBeforetoggle}
                @close=${this.handleBrowserClose}
                ?is-visible=${this.state!=="closed"}
            >
                ${this.renderContent()}
            </div>
        `}render(){let t=this.type==="modal"||this.type==="page";return Qt`
            ${t?this.renderDialog():this.renderPopover()}
            <slot name="longpress-describedby-descriptor"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("close",()=>{this.open=!1}),this.hasUpdated&&this.bindEvents()}disconnectedCallback(){var t;(t=this.strategy)==null||t.releaseDescription(),this.open=!1,super.disconnectedCallback()}};C.styles=[ln],C.openCount=1,R([I({type:Boolean})],C.prototype,"delayed",1),R([hn(".dialog")],C.prototype,"dialogEl",2),R([I({type:Boolean})],C.prototype,"disabled",1),R([lo({flatten:!0,selector:':not([slot="longpress-describedby-descriptor"], slot)'})],C.prototype,"elements",2),R([I({type:Number})],C.prototype,"offset",2),R([I({type:Boolean,reflect:!0})],C.prototype,"open",1),R([I()],C.prototype,"placement",2),R([I({attribute:"receives-focus"})],C.prototype,"receivesFocus",2),R([hn("slot")],C.prototype,"slotEl",2),R([co()],C.prototype,"state",1),R([I({type:Number,attribute:"tip-padding"})],C.prototype,"tipPadding",2),R([I()],C.prototype,"trigger",2),R([I({attribute:!1})],C.prototype,"triggerElement",2),R([I({attribute:!1})],C.prototype,"triggerInteraction",2),R([I()],C.prototype,"type",2);Dt=C});var Ct={};import{defineElement as fo}from"/libs/features/spectrum-web-components/dist/base.js";var rt=x(()=>{"use strict";Yt();fo("sp-overlay",Dt)});rt();import{defineElement as xo}from"/libs/features/spectrum-web-components/dist/base.js";import{html as it,SpectrumElement as bo}from"/libs/features/spectrum-web-components/dist/base.js";import{property as mt,query as ue,state as Zt}from"/libs/features/spectrum-web-components/dist/base.js";import{css as go}from"/libs/features/spectrum-web-components/dist/base.js";var vo=go`
    :host([disabled]) ::slotted([slot=trigger]){pointer-events:none}slot[name=longpress-describedby-descriptor]{display:none}
`,dn=vo;var yo=Object.defineProperty,wo=Object.getOwnPropertyDescriptor,D=(e,t,n,o)=>{for(var i=o>1?void 0:o?wo(t,n):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(i=(o?r(t,n,i):r(i))||i);return o&&i&&yo(t,n,i),i},O=class extends bo{constructor(){super(...arguments),this.content="click hover longpress",this.offset=6,this.disabled=!1,this.receivesFocus="auto",this.clickContent=[],this.longpressContent=[],this.hoverContent=[],this.targetContent=[]}static get styles(){return[dn]}getAssignedElementsFromSlot(t){return t.assignedElements({flatten:!0})}handleTriggerContent(t){this.targetContent=this.getAssignedElementsFromSlot(t.target)}handleSlotContent(t){switch(t.target.name){case"click-content":this.clickContent=this.getAssignedElementsFromSlot(t.target);break;case"longpress-content":this.longpressContent=this.getAssignedElementsFromSlot(t.target);break;case"hover-content":this.hoverContent=this.getAssignedElementsFromSlot(t.target);break}}handleBeforetoggle(t){let{target:n}=t,o;if(n===this.clickOverlayElement)o="click";else if(n===this.longpressOverlayElement)o="longpress";else if(n===this.hoverOverlayElement)o="hover";else return;t.newState==="open"?this.open=o:this.open===o&&(this.open=void 0)}update(t){var n,o,i,a,r,s;t.has("clickContent")&&(this.clickPlacement=((n=this.clickContent[0])==null?void 0:n.getAttribute("placement"))||((o=this.clickContent[0])==null?void 0:o.getAttribute("direction"))||void 0),t.has("hoverContent")&&(this.hoverPlacement=((i=this.hoverContent[0])==null?void 0:i.getAttribute("placement"))||((a=this.hoverContent[0])==null?void 0:a.getAttribute("direction"))||void 0),t.has("longpressContent")&&(this.longpressPlacement=((r=this.longpressContent[0])==null?void 0:r.getAttribute("placement"))||((s=this.longpressContent[0])==null?void 0:s.getAttribute("direction"))||void 0),super.update(t)}renderSlot(t){return it`
            <slot name=${t} @slotchange=${this.handleSlotContent}></slot>
        `}renderClickOverlay(){Promise.resolve().then(()=>rt());let t=this.renderSlot("click-content");return this.clickContent.length?it`
            <sp-overlay
                id="click-overlay"
                ?disabled=${this.disabled||!this.clickContent.length}
                ?open=${this.open==="click"&&!!this.clickContent.length}
                .offset=${this.offset}
                .placement=${this.clickPlacement||this.placement}
                .triggerElement=${this.targetContent[0]}
                .triggerInteraction=${"click"}
                .type=${this.type!=="modal"?"auto":"modal"}
                @beforetoggle=${this.handleBeforetoggle}
                .receivesFocus=${this.receivesFocus}
            >
                ${t}
            </sp-overlay>
        `:t}renderHoverOverlay(){Promise.resolve().then(()=>rt());let t=this.renderSlot("hover-content");return this.hoverContent.length?it`
            <sp-overlay
                id="hover-overlay"
                ?open=${this.open==="hover"&&!!this.hoverContent.length}
                ?disabled=${this.disabled||!this.hoverContent.length||!!this.open&&this.open!=="hover"}
                .offset=${this.offset}
                .placement=${this.hoverPlacement||this.placement}
                .triggerElement=${this.targetContent[0]}
                .triggerInteraction=${"hover"}
                .type=${"hint"}
                @beforetoggle=${this.handleBeforetoggle}
                .receivesFocus=${this.receivesFocus}
            >
                ${t}
            </sp-overlay>
        `:t}renderLongpressOverlay(){Promise.resolve().then(()=>rt());let t=this.renderSlot("longpress-content");return this.longpressContent.length?it`
            <sp-overlay
                id="longpress-overlay"
                ?disabled=${this.disabled||!this.longpressContent.length}
                ?open=${this.open==="longpress"&&!!this.longpressContent.length}
                .offset=${this.offset}
                .placement=${this.longpressPlacement||this.placement}
                .triggerElement=${this.targetContent[0]}
                .triggerInteraction=${"longpress"}
                .type=${"auto"}
                @beforetoggle=${this.handleBeforetoggle}
                .receivesFocus=${this.receivesFocus}
            >
                ${t}
            </sp-overlay>
            <slot name="longpress-describedby-descriptor"></slot>
        `:t}render(){let t=this.content.split(" ");return it`
            <slot
                id="trigger"
                name="trigger"
                @slotchange=${this.handleTriggerContent}
            ></slot>
            ${[t.includes("click")?this.renderClickOverlay():it``,t.includes("hover")?this.renderHoverOverlay():it``,t.includes("longpress")?this.renderLongpressOverlay():it``]}
        `}updated(t){if(super.updated(t),this.disabled&&t.has("disabled")){this.open=void 0;return}}async getUpdateComplete(){return await super.getUpdateComplete()}};D([mt()],O.prototype,"content",2),D([mt({reflect:!0})],O.prototype,"placement",2),D([mt()],O.prototype,"type",2),D([mt({type:Number})],O.prototype,"offset",2),D([mt({reflect:!0})],O.prototype,"open",2),D([mt({type:Boolean,reflect:!0})],O.prototype,"disabled",2),D([mt({attribute:"receives-focus"})],O.prototype,"receivesFocus",2),D([Zt()],O.prototype,"clickContent",2),D([Zt()],O.prototype,"longpressContent",2),D([Zt()],O.prototype,"hoverContent",2),D([Zt()],O.prototype,"targetContent",2),D([ue("#click-overlay",!0)],O.prototype,"clickOverlayElement",2),D([ue("#longpress-overlay",!0)],O.prototype,"longpressOverlayElement",2),D([ue("#hover-overlay",!0)],O.prototype,"hoverOverlayElement",2);xo("overlay-trigger",O);Yt();he();window.__merch__spectrum_Overlay=Dt;export{Dt as Overlay,kt as SlottableRequestEvent};
