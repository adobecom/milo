/* eslint-disable */
/* Generated by Milo */

var C=(e,t)=>()=>(e&&(t=e(e=0)),t);var St,ae=C(()=>{"use strict";St=class{constructor(t={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,t)}async openTimer(t){if(this.cancelCooldownTimer(),!this.component||t!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=t,this.isWarm?!1:(this.promise=new Promise(o=>{this.resolve=o,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error("Inconsistent state")}close(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}});import{SpectrumElement as on}from"/libs/features/spectrum-web-components/dist/base.js";import{reparentChildren as sn}from"/libs/features/spectrum-web-components/dist/shared.js";function S(){return new Promise(e=>requestAnimationFrame(()=>e()))}var ct,j,J,Q,A,ht,lt,Z=C(()=>{"use strict";ae();ct=new St,j=()=>{},J=class extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="open",this.newState="closed"}},Q=class extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="closed",this.newState="open"}},A=class extends Event{constructor(t,o,{publish:n,interaction:i,reason:r}){super(t,{bubbles:n,composed:n}),this.overlay=o,this.detail={interaction:i,reason:r}}},ht=(e,t,o)=>{let n=new AbortController,i=new Map,r=()=>{n.abort(),o()},s,a,l=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{r()})})}),c=h=>{h.target===e&&(i.set(h.propertyName,i.get(h.propertyName)-1),i.get(h.propertyName)||i.delete(h.propertyName),i.size===0&&r())},p=h=>{h.target===e&&(i.has(h.propertyName)||i.set(h.propertyName,0),i.set(h.propertyName,i.get(h.propertyName)+1),cancelAnimationFrame(l),cancelAnimationFrame(s),cancelAnimationFrame(a))};e.addEventListener("transitionrun",p,{signal:n.signal}),e.addEventListener("transitionend",c,{signal:n.signal}),e.addEventListener("transitioncancel",c,{signal:n.signal}),t()};lt=class e extends on{constructor(){super(...arguments),this.dispose=j,this.offset=0,this.willPreventClose=!1}async applyFocus(t,o){}get delayed(){return!1}set delayed(t){}get disabled(){return!1}set disabled(t){}get elementResolver(){return this._elementResolver}set elementResolver(t){this._elementResolver=t}async ensureOnDOM(t){}async makeTransition(t){return null}async manageDelay(t){}async manageDialogOpen(){}async managePopoverOpen(){}managePosition(){}get open(){return!1}set open(t){}get placementController(){return this._placementController}set placementController(t){this._placementController=t}requestSlottable(){}returnFocus(){}get state(){return"closed"}set state(t){}manuallyKeepOpen(){}static update(){let t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}static async open(t,o,n,i){await Promise.resolve().then(()=>(pt(),Tt));let r=arguments.length===2,s=n||t,a=new this,l=!1;a.dispose=()=>{a.addEventListener("sp-closed",()=>{l||(c(),l=!0),requestAnimationFrame(()=>{a.remove()})}),a.open=!1,a.dispose=j};let c=sn([s],a,{position:"beforeend",prepareCallback:h=>{let u=h.slot;return h.removeAttribute("slot"),()=>{h.slot=u}}});if(!r&&s&&i){let h=t,u=o,d=i;return e.applyOptions(a,{...d,delayed:d.delayed||s.hasAttribute("delayed"),trigger:d.virtualTrigger||h,type:u==="modal"?"modal":u==="hover"?"hint":"auto"}),h.insertAdjacentElement("afterend",a),await a.updateComplete,a.open=!0,a.dispose}let p=o;return a.append(s),e.applyOptions(a,{...p,delayed:p.delayed||s.hasAttribute("delayed")}),a.updateComplete.then(()=>{a.open=!0}),a}static applyOptions(t,o){var n,i;t.delayed=!!o.delayed,t.receivesFocus=(n=o.receivesFocus)!=null?n:"auto",t.triggerElement=o.trigger||null,t.type=o.type||"modal",t.offset=(i=o.offset)!=null?i:0,t.placement=o.placement,t.willPreventClose=!!o.notImmediatelyClosable}}});var q,bt=C(()=>{"use strict";Z();q=class{constructor(t,o){this.x=0,this.y=0,this.x=t,this.y=o}updateBoundingClientRect(t,o){this.x=t,this.y=o,lt.update()}getBoundingClientRect(){return{width:0,height:0,top:this.y,right:this.x,y:this.y,x:this.x,bottom:this.y,left:this.x,toJSON(){}}}}});import{firstFocusableIn as rn,firstFocusableSlottedIn as an}from"/libs/features/spectrum-web-components/dist/shared.js";import{userFocusableSelector as ln}from"/libs/features/spectrum-web-components/dist/shared.js";function le(e){class t extends e{async manageDialogOpen(){let n=this.open;if(await this.managePosition(),this.open!==n)return;let i=await this.dialogMakeTransition(n);this.open===n&&await this.dialogApplyFocus(n,i)}async dialogMakeTransition(n){let i=null,r=(a,l)=>async()=>{if(a.open=n,!n){let p=()=>{a.removeEventListener("close",p),s(a,l)};a.addEventListener("close",p)}if(l>0)return;let c=n?Q:J;this.dispatchEvent(new c),n&&(a.matches(ln)&&(i=a),i=i||rn(a),i||a.querySelectorAll("slot").forEach(p=>{i||(i=an(p))}),!(!this.isConnected||this.dialogEl.open)&&this.dialogEl.showModal())},s=(a,l)=>()=>{if(this.open!==n)return;let c=n?"sp-opened":"sp-closed";if(l>0){a.dispatchEvent(new A(c,this,{interaction:this.type,publish:!1}));return}if(!this.isConnected||n!==this.open)return;let p=async()=>{let h=this.triggerElement instanceof q;this.dispatchEvent(new A(c,this,{interaction:this.type,publish:h})),a.dispatchEvent(new A(c,this,{interaction:this.type,publish:!1})),this.triggerElement&&!h&&this.triggerElement.dispatchEvent(new A(c,this,{interaction:this.type,publish:!0})),this.state=n?"opened":"closed",this.returnFocus(),await S(),await S(),n===this.open&&n===!1&&this.requestSlottable()};!n&&this.dialogEl.open?(this.dialogEl.addEventListener("close",()=>{p()},{once:!0}),this.dialogEl.close()):p()};return this.elements.forEach((a,l)=>{ht(a,r(a,l),s(a,l))}),i}async dialogApplyFocus(n,i){this.applyFocus(n,i)}}return t}var ce=C(()=>{"use strict";bt();Z()});import{firstFocusableIn as cn,firstFocusableSlottedIn as hn}from"/libs/features/spectrum-web-components/dist/shared.js";import{userFocusableSelector as pn}from"/libs/features/spectrum-web-components/dist/shared.js";function he(e){let t=!1;try{t=e.matches(":popover-open")}catch{}let o=!1;try{o=e.matches(":open")}catch{}return t||o}function pe(e){class t extends e{async manageDelay(n){if(n===!1||n!==this.open){ct.close(this);return}this.delayed&&await ct.openTimer(this)&&(this.open=!n)}async shouldHidePopover(n){if(n&&this.open!==n)return;let i=async({newState:r}={})=>{r!=="open"&&await this.placementController.resetOverlayPosition()};if(!he(this.dialogEl)){i();return}this.dialogEl.addEventListener("toggle",i,{once:!0})}async shouldShowPopover(n){let i=!1;try{i=this.dialogEl.matches(":popover-open")}catch{}let r=!1;try{r=this.dialogEl.matches(":open")}catch{}n&&this.open===n&&!i&&!r&&this.isConnected&&(this.dialogEl.showPopover(),await this.managePosition())}async ensureOnDOM(n){await S(),dn||await this.shouldHidePopover(n),await this.shouldShowPopover(n),await S()}async makeTransition(n){if(this.open!==n)return null;let i=null,r=(a,l)=>()=>{if(a.open=n,l===0){let c=n?Q:J;this.dispatchEvent(new c)}!n||(a.matches(pn)&&(i=a),i=i||cn(a),i)||a.querySelectorAll("slot").forEach(c=>{i||(i=hn(c))})},s=(a,l)=>async()=>{if(this.open!==n)return;let c=n?"sp-opened":"sp-closed";if(l>0){a.dispatchEvent(new A(c,this,{interaction:this.type,publish:!1}));return}let p=async()=>{if(this.open!==n)return;await S();let u=this.triggerElement instanceof q;this.dispatchEvent(new A(c,this,{interaction:this.type,publish:u})),a.dispatchEvent(new A(c,this,{interaction:this.type,publish:!1})),this.triggerElement&&!u&&this.triggerElement.dispatchEvent(new A(c,this,{interaction:this.type,publish:!0})),this.state=n?"opened":"closed",this.returnFocus(),await S(),await S(),n===this.open&&n===!1&&this.requestSlottable()};if(this.open!==n)return;let h=he(this.dialogEl);n!==!0&&h&&this.isConnected?(this.dialogEl.addEventListener("beforetoggle",()=>{p()},{once:!0}),this.dialogEl.hidePopover()):p()};return this.elements.forEach((a,l)=>{ht(a,r(a,l),s(a,l))}),i}}return t}var dn,de=C(()=>{"use strict";bt();Z();dn=CSS.supports("(overlay: auto)")});import{firstFocusableIn as un,firstFocusableSlottedIn as mn}from"/libs/features/spectrum-web-components/dist/shared.js";import{userFocusableSelector as gn}from"/libs/features/spectrum-web-components/dist/shared.js";function ue(e){class t extends e{async managePopoverOpen(){await this.managePosition()}async manageDelay(n){if(n===!1||n!==this.open){ct.close(this);return}this.delayed&&await ct.openTimer(this)&&(this.open=!n)}async ensureOnDOM(n){document.body.offsetHeight}async makeTransition(n){if(this.open!==n)return null;let i=null,r=(a,l)=>()=>{if(n===this.open){if(a.open=n,l===0){let c=n?Q:J;this.dispatchEvent(new c)}n!==!0||(a.matches(gn)&&(i=a),i=i||un(a),i)||a.querySelectorAll("slot").forEach(c=>{i||(i=mn(c))})}},s=(a,l)=>async()=>{if(this.open!==n)return;let c=n?"sp-opened":"sp-closed";if(a.dispatchEvent(new A(c,this,{interaction:this.type})),l>0)return;let p=this.triggerElement instanceof q;this.dispatchEvent(new A(c,this,{interaction:this.type,publish:p})),this.triggerElement&&!p&&this.triggerElement.dispatchEvent(new A(c,this,{interaction:this.type,publish:!0})),this.state=n?"opened":"closed",this.returnFocus(),await S(),await S(),n===this.open&&n===!1&&this.requestSlottable()};return this.elements.forEach((a,l)=>{ht(a,r(a,l),s(a,l))}),i}}return t}var me=C(()=>{"use strict";bt();Z()});var fn,Yt,Xt,ge=C(()=>{"use strict";fn="showPopover"in document.createElement("div"),Yt=class{constructor(){this.root=document.body,this.stack=[],this.handlePointerdown=t=>{this.pointerdownPath=t.composedPath(),this.lastOverlay=this.stack.at(-1)},this.handlePointerup=()=>{var t;if(!this.stack.length||!((t=this.pointerdownPath)!=null&&t.length))return;let o=this.pointerdownPath;this.pointerdownPath=void 0;let n=this.stack.length-1,i=this.stack.filter((r,s)=>!o.find(a=>a===r||a===r?.triggerElement&&r?.type==="hint"||s===n&&r!==this.lastOverlay&&r.triggerInteraction==="longpress")&&!r.shouldPreventClose()&&r.type!=="manual");i.reverse(),i.forEach(r=>{this.closeOverlay(r);let s=r.parentOverlayToForceClose;for(;s;)this.closeOverlay(s),s=s.parentOverlayToForceClose})},this.handleBeforetoggle=t=>{let{target:o,newState:n}=t;n!=="open"&&this.closeOverlay(o)},this.handleKeydown=t=>{if(t.code!=="Escape"||!this.stack.length)return;let o=this.stack.at(-1);if(o?.type==="page"){t.preventDefault();return}fn||o?.type!=="manual"&&o&&this.closeOverlay(o)},this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener("pointerdown",this.handlePointerdown),this.document.addEventListener("pointerup",this.handlePointerup),this.document.addEventListener("keydown",this.handleKeydown)}closeOverlay(t){let o=this.stack.indexOf(t);o>-1&&this.stack.splice(o,1),t.open=!1}overlaysByTriggerElement(t){return this.stack.filter(o=>o.triggerElement===t)}add(t){if(this.stack.includes(t)){let o=this.stack.indexOf(t);o>-1&&(this.stack.splice(o,1),this.stack.push(t));return}if(t.type==="auto"||t.type==="modal"||t.type==="page"){let o="sp-overlay-query-path",n=new Event(o,{composed:!0,bubbles:!0});t.addEventListener(o,i=>{let r=i.composedPath();this.stack.forEach(s=>{!r.find(a=>a===s)&&s.type!=="manual"&&this.closeOverlay(s)})},{once:!0}),t.dispatchEvent(n)}else if(t.type==="hint"){if(this.stack.some(o=>o.type!=="manual"&&o.triggerElement&&o.triggerElement===t.triggerElement)){t.open=!1;return}this.stack.forEach(o=>{o.type==="hint"&&this.closeOverlay(o)})}requestAnimationFrame(()=>{this.stack.push(t),t.addEventListener("beforetoggle",this.handleBeforetoggle,{once:!0})})}remove(t){this.closeOverlay(t)}},Xt=new Yt});function kt(e,t,o){return T(e,_(t,o))}function nt(e,t){return typeof e=="function"?e(t):e}function Y(e){return e.split("-")[0]}function ot(e){return e.split("-")[1]}function Gt(e){return e==="x"?"y":"x"}function Lt(e){return e==="y"?"height":"width"}function dt(e){return["top","bottom"].includes(Y(e))?"y":"x"}function Dt(e){return Gt(dt(e))}function fe(e,t,o){o===void 0&&(o=!1);let n=ot(e),i=Dt(e),r=Lt(i),s=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=xt(s)),[s,xt(s)]}function ve(e){let t=xt(e);return[Rt(e),t,Rt(t)]}function Rt(e){return e.replace(/start|end/g,t=>yn[t])}function wn(e,t,o){let n=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return o?t?i:n:t?n:i;case"left":case"right":return t?r:s;default:return[]}}function ye(e,t,o,n){let i=ot(e),r=wn(Y(e),o==="start",n);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(Rt)))),r}function xt(e){return e.replace(/left|right|bottom|top/g,t=>vn[t])}function bn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jt(e){return typeof e!="number"?bn(e):{top:e,right:e,bottom:e,left:e}}function it(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}var _,T,Et,Ct,K,vn,yn,Ft=C(()=>{_=Math.min,T=Math.max,Et=Math.round,Ct=Math.floor,K=e=>({x:e,y:e}),vn={left:"right",right:"left",bottom:"top",top:"bottom"},yn={start:"end",end:"start"}});function we(e,t,o){let{reference:n,floating:i}=e,r=dt(t),s=Dt(t),a=Lt(s),l=Y(t),c=r==="y",p=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,u=n[a]/2-i[a]/2,d;switch(l){case"top":d={x:p,y:n.y-i.height};break;case"bottom":d={x:p,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:h};break;case"left":d={x:n.x-i.width,y:h};break;default:d={x:n.x,y:n.y}}switch(ot(t)){case"start":d[s]-=u*(o&&c?-1:1);break;case"end":d[s]+=u*(o&&c?-1:1);break}return d}async function $t(e,t){var o;t===void 0&&(t={});let{x:n,y:i,platform:r,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=nt(t,e),m=Jt(d),v=a[u?h==="floating"?"reference":"floating":h],f=it(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(v)))==null||o?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:p,strategy:l})),y=h==="floating"?{...s.floating,x:n,y:i}:s.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),x=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},b=it(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(f.top-b.top+m.top)/x.y,bottom:(b.bottom-f.bottom+m.bottom)/x.y,left:(f.left-b.left+m.left)/x.x,right:(b.right-f.right+m.right)/x.x}}async function xn(e,t){let{placement:o,platform:n,elements:i}=e,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Y(o),a=ot(o),l=dt(o)==="y",c=["left","top"].includes(s)?-1:1,p=r&&l?-1:1,h=nt(t,e),{mainAxis:u,crossAxis:d,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof m=="number"&&(d=a==="end"?m*-1:m),l?{x:d*p,y:u*c}:{x:u*c,y:d*p}}var be,xe,Ee,Qt,Ce,Oe,Zt=C(()=>{Ft();Ft();be=async(e,t,o)=>{let{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:s}=o,a=r.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:h}=we(c,n,l),u=n,d={},m=0;for(let g=0;g<a.length;g++){let{name:v,fn:f}=a[g],{x:y,y:w,data:x,reset:b}=await f({x:p,y:h,initialPlacement:n,placement:u,strategy:i,middlewareData:d,rects:c,platform:s,elements:{reference:e,floating:t}});p=y??p,h=w??h,d={...d,[v]:{...d[v],...x}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(u=b.placement),b.rects&&(c=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:p,y:h}=we(c,u,l)),g=-1)}return{x:p,y:h,placement:u,strategy:i,middlewareData:d}};xe=e=>({name:"arrow",options:e,async fn(t){let{x:o,y:n,placement:i,rects:r,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:p=0}=nt(e,t)||{};if(c==null)return{};let h=Jt(p),u={x:o,y:n},d=Dt(i),m=Lt(d),g=await s.getDimensions(c),v=d==="y",f=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=r.reference[m]+r.reference[d]-u[d]-r.floating[m],b=u[d]-r.reference[d],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c)),L=E?E[w]:0;(!L||!await(s.isElement==null?void 0:s.isElement(E)))&&(L=a.floating[w]||r.floating[m]);let I=x/2-b/2,G=L/2-g[m]/2-1,vt=_(h[f],G),yt=_(h[y],G),N=vt,wt=L-g[m]-yt,D=L/2-g[m]/2+I,H=kt(N,D,wt),W=!l.arrow&&ot(i)!=null&&D!==H&&r.reference[m]/2-(D<N?vt:yt)-g[m]/2<0,z=W?D<N?D-N:D-wt:0;return{[d]:u[d]+z,data:{[d]:H,centerOffset:D-H-z,...W&&{alignmentOffset:z}},reset:W}}}),Ee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;let{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=nt(e,t);if((o=r.arrow)!=null&&o.alignmentOffset)return{};let f=Y(i),y=Y(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=u||(y||!g?[xt(a)]:ve(a));!u&&m!=="none"&&x.push(...ye(a,g,m,w));let b=[a,...x],E=await $t(t,v),L=[],I=((n=r.flip)==null?void 0:n.overflows)||[];if(p&&L.push(E[f]),h){let N=fe(i,s,w);L.push(E[N[0]],E[N[1]])}if(I=[...I,{placement:i,overflows:L}],!L.every(N=>N<=0)){var G,vt;let N=(((G=r.flip)==null?void 0:G.index)||0)+1,wt=b[N];if(wt)return{data:{index:N,overflows:I},reset:{placement:wt}};let D=(vt=I.filter(H=>H.overflows[0]<=0).sort((H,W)=>H.overflows[1]-W.overflows[1])[0])==null?void 0:vt.placement;if(!D)switch(d){case"bestFit":{var yt;let H=(yt=I.map(W=>[W.placement,W.overflows.filter(z=>z>0).reduce((z,nn)=>z+nn,0)]).sort((W,z)=>W[1]-z[1])[0])==null?void 0:yt[0];H&&(D=H);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};Qt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;let{x:i,y:r,placement:s,middlewareData:a}=t,l=await xn(t,e);return s===((o=a.offset)==null?void 0:o.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:s}}}}},Ce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:o,y:n,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:f,y}=v;return{x:f,y}}},...l}=nt(e,t),c={x:o,y:n},p=await $t(t,l),h=dt(Y(i)),u=Gt(h),d=c[u],m=c[h];if(r){let v=u==="y"?"top":"left",f=u==="y"?"bottom":"right",y=d+p[v],w=d-p[f];d=kt(y,d,w)}if(s){let v=h==="y"?"top":"left",f=h==="y"?"bottom":"right",y=m+p[v],w=m-p[f];m=kt(y,m,w)}let g=a.fn({...t,[u]:d,[h]:m});return{...g,data:{x:g.x-o,y:g.y-n}}}}},Oe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){let{placement:o,rects:n,platform:i,elements:r}=t,{apply:s=()=>{},...a}=nt(e,t),l=await $t(t,a),c=Y(o),p=ot(o),h=dt(o)==="y",{width:u,height:d}=n.floating,m,g;c==="top"||c==="bottom"?(m=c,g=p===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(g=c,m=p==="end"?"top":"bottom");let v=d-l[m],f=u-l[g],y=!t.middlewareData.shift,w=v,x=f;if(h){let E=u-l.left-l.right;x=p||y?_(f,E):E}else{let E=d-l.top-l.bottom;w=p||y?_(v,E):E}if(y&&!p){let E=T(l.left,0),L=T(l.right,0),I=T(l.top,0),G=T(l.bottom,0);h?x=u-2*(E!==0||L!==0?E+L:T(l.left,l.right)):w=d-2*(I!==0||G!==0?I+G:T(l.top,l.bottom))}await s({...t,availableWidth:x,availableHeight:w});let b=await i.getDimensions(r.floating);return u!==b.width||d!==b.height?{reset:{rects:!0}}:{}}}}});function X(e){return Ae(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function V(e){var t;return(t=(Ae(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ae(e){return e instanceof Node||e instanceof k(e).Node}function U(e){return e instanceof Element||e instanceof k(e).Element}function B(e){return e instanceof HTMLElement||e instanceof k(e).HTMLElement}function Pe(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof k(e).ShadowRoot}function mt(e){let{overflow:t,overflowX:o,overflowY:n,display:i}=F(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(i)}function Se(e){return["table","td","th"].includes(X(e))}function Nt(e){let t=Bt(),o=F(e);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Te(e){let t=st(e);for(;B(t)&&!Ot(t);){if(Nt(t))return t;t=st(t)}return null}function Bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ot(e){return["html","body","#document"].includes(X(e))}function F(e){return k(e).getComputedStyle(e)}function Pt(e){return U(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function st(e){if(X(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Pe(e)&&e.host||V(e);return Pe(t)?t.host:t}function Re(e){let t=st(e);return Ot(t)?e.ownerDocument?e.ownerDocument.body:e.body:B(t)&&mt(t)?t:Re(t)}function ut(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);let i=Re(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=k(i);return r?t.concat(s,s.visualViewport||[],mt(i)?i:[],s.frameElement&&o?ut(s.frameElement):[]):t.concat(i,ut(i,[],o))}var ke=C(()=>{});function Fe(e){let t=F(e),o=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=B(e),r=i?e.offsetWidth:o,s=i?e.offsetHeight:n,a=Et(o)!==r||Et(n)!==s;return a&&(o=r,n=s),{width:o,height:n,$:a}}function te(e){return U(e)?e:e.contextElement}function gt(e){let t=te(e);if(!B(t))return K(1);let o=t.getBoundingClientRect(),{width:n,height:i,$:r}=Fe(t),s=(r?Et(o.width):o.width)/n,a=(r?Et(o.height):o.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}function $e(e){let t=k(e);return!Bt()||!t.visualViewport?En:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Cn(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==k(e)?!1:t}function rt(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);let i=e.getBoundingClientRect(),r=te(e),s=K(1);t&&(n?U(n)&&(s=gt(n)):s=gt(e));let a=Cn(r,o,n)?$e(r):K(0),l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,p=i.width/s.x,h=i.height/s.y;if(r){let u=k(r),d=n&&U(n)?k(n):n,m=u,g=m.frameElement;for(;g&&n&&d!==m;){let v=gt(g),f=g.getBoundingClientRect(),y=F(g),w=f.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,x=f.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,p*=v.x,h*=v.y,l+=w,c+=x,m=k(g),g=m.frameElement}}return it({width:p,height:h,x:l,y:c})}function Ne(e){return On.some(t=>{try{return e.matches(t)}catch{return!1}})}function Pn(e){let{elements:t,rect:o,offsetParent:n,strategy:i}=e,r=i==="fixed",s=V(n),a=t?Ne(t.floating):!1;if(n===s||a&&r)return o;let l={scrollLeft:0,scrollTop:0},c=K(1),p=K(0),h=B(n);if((h||!h&&!r)&&((X(n)!=="body"||mt(s))&&(l=Pt(n)),B(n))){let u=rt(n);c=gt(n),p.x=u.x+n.clientLeft,p.y=u.y+n.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-l.scrollLeft*c.x+p.x,y:o.y*c.y-l.scrollTop*c.y+p.y}}function An(e){return Array.from(e.getClientRects())}function Be(e){return rt(V(e)).left+Pt(e).scrollLeft}function Sn(e){let t=V(e),o=Pt(e),n=e.ownerDocument.body,i=T(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),r=T(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),s=-o.scrollLeft+Be(e),a=-o.scrollTop;return F(n).direction==="rtl"&&(s+=T(t.clientWidth,n.clientWidth)-i),{width:i,height:r,x:s,y:a}}function Tn(e,t){let o=k(e),n=V(e),i=o.visualViewport,r=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){r=i.width,s=i.height;let c=Bt();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:a,y:l}}function Rn(e,t){let o=rt(e,!0,t==="fixed"),n=o.top+e.clientTop,i=o.left+e.clientLeft,r=B(e)?gt(e):K(1),s=e.clientWidth*r.x,a=e.clientHeight*r.y,l=i*r.x,c=n*r.y;return{width:s,height:a,x:l,y:c}}function Le(e,t,o){let n;if(t==="viewport")n=Tn(e,o);else if(t==="document")n=Sn(V(e));else if(U(t))n=Rn(t,o);else{let i=$e(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return it(n)}function Me(e,t){let o=st(e);return o===t||!U(o)||Ot(o)?!1:F(o).position==="fixed"||Me(o,t)}function kn(e,t){let o=t.get(e);if(o)return o;let n=ut(e,[],!1).filter(a=>U(a)&&X(a)!=="body"),i=null,r=F(e).position==="fixed",s=r?st(e):e;for(;U(s)&&!Ot(s);){let a=F(s),l=Nt(s);!l&&a.position==="fixed"&&(i=null),(r?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||mt(s)&&!l&&Me(e,s))?n=n.filter(p=>p!==s):i=a,s=st(s)}return t.set(e,n),n}function Ln(e){let{element:t,boundary:o,rootBoundary:n,strategy:i}=e,s=[...o==="clippingAncestors"?kn(t,this._c):[].concat(o),n],a=s[0],l=s.reduce((c,p)=>{let h=Le(t,p,i);return c.top=T(h.top,c.top),c.right=_(h.right,c.right),c.bottom=_(h.bottom,c.bottom),c.left=T(h.left,c.left),c},Le(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dn(e){let{width:t,height:o}=Fe(e);return{width:t,height:o}}function Fn(e,t,o){let n=B(t),i=V(t),r=o==="fixed",s=rt(e,!0,r,t),a={scrollLeft:0,scrollTop:0},l=K(0);if(n||!n&&!r)if((X(t)!=="body"||mt(i))&&(a=Pt(t)),n){let h=rt(t,!0,r,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Be(i));let c=s.left+a.scrollLeft-l.x,p=s.top+a.scrollTop-l.y;return{x:c,y:p,width:s.width,height:s.height}}function De(e,t){return!B(e)||F(e).position==="fixed"?null:t?t(e):e.offsetParent}function Ie(e,t){let o=k(e);if(!B(e)||Ne(e))return o;let n=De(e,t);for(;n&&Se(n)&&F(n).position==="static";)n=De(n,t);return n&&(X(n)==="html"||X(n)==="body"&&F(n).position==="static"&&!Nt(n))?o:n||Te(e)||o}function Nn(e){return F(e).direction==="rtl"}function Mn(e,t){let o=null,n,i=V(e);function r(){var a;clearTimeout(n),(a=o)==null||a.disconnect(),o=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();let{left:c,top:p,width:h,height:u}=e.getBoundingClientRect();if(a||t(),!h||!u)return;let d=Ct(p),m=Ct(i.clientWidth-(c+h)),g=Ct(i.clientHeight-(p+u)),v=Ct(c),y={rootMargin:-d+"px "+-m+"px "+-g+"px "+-v+"px",threshold:T(0,_(1,l))||1},w=!0;function x(b){let E=b[0].intersectionRatio;if(E!==l){if(!w)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{o=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{o=new IntersectionObserver(x,y)}o.observe(e)}return s(!0),r}function ee(e,t,o,n){n===void 0&&(n={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=te(e),p=i||r?[...c?ut(c):[],...ut(t)]:[];p.forEach(f=>{i&&f.addEventListener("scroll",o,{passive:!0}),r&&f.addEventListener("resize",o)});let h=c&&a?Mn(c,o):null,u=-1,d=null;s&&(d=new ResizeObserver(f=>{let[y]=f;y&&y.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),o()}),c&&!l&&d.observe(c),d.observe(t));let m,g=l?rt(e):null;l&&v();function v(){let f=rt(e);g&&(f.x!==g.x||f.y!==g.y||f.width!==g.width||f.height!==g.height)&&o(),g=f,m=requestAnimationFrame(v)}return o(),()=>{var f;p.forEach(y=>{i&&y.removeEventListener("scroll",o),r&&y.removeEventListener("resize",o)}),h?.(),(f=d)==null||f.disconnect(),d=null,l&&cancelAnimationFrame(m)}}var En,On,$n,Bn,He,ne,We,qe,_e,Ve=C(()=>{Zt();Zt();Ft();ke();En=K(0);On=[":popover-open",":modal"];$n=async function(e){let t=this.getOffsetParent||Ie,o=this.getDimensions;return{reference:Fn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}};Bn={convertOffsetParentRelativeRectToViewportRelativeRect:Pn,getDocumentElement:V,getClippingRect:Ln,getOffsetParent:Ie,getElementRects:$n,getClientRects:An,getDimensions:Dn,getScale:gt,isElement:U,isRTL:Nn};He=Ce,ne=Ee,We=Oe,qe=xe,_e=(e,t,o)=>{let n=new Map,i={platform:Bn,...o},r={...i.platform,_c:n};return be(e,t,{...i,platform:r})}});function Mt(e){if(typeof e>"u")return 0;let t=window.devicePixelRatio||1;return Math.round(e*t)/t}var It,In,Hn,ti,Ht,Ue=C(()=>{"use strict";Ve();It=8,In=100,Hn=e=>{var t;return(t={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[e])!=null?t:[e]},ti=Symbol("placement updated"),Ht=class{constructor(t){this.originalPlacements=new WeakMap,this.allowPlacementUpdate=!1,this.closeForAncestorUpdate=()=>{!this.allowPlacementUpdate&&this.options.type!=="modal"&&this.cleanup&&this.target.dispatchEvent(new Event("close",{bubbles:!0})),this.allowPlacementUpdate=!1},this.updatePlacement=()=>{this.computePlacement()},this.resetOverlayPosition=()=>{!this.target||!this.options||(this.clearOverlayPosition(),this.host.offsetHeight,this.computePlacement())},this.host=t,this.host.addController(this)}async placeOverlay(t=this.target,o=this.options){if(this.target=t,this.options=o,!t||!o)return;let n=ee(o.trigger,t,this.closeForAncestorUpdate,{ancestorResize:!1,elementResize:!1,layoutShift:!1}),i=ee(o.trigger,t,this.updatePlacement,{ancestorScroll:!1});this.cleanup=()=>{var r;(r=this.host.elements)==null||r.forEach(s=>{s.addEventListener("sp-closed",()=>{let a=this.originalPlacements.get(s);a&&s.setAttribute("placement",a),this.originalPlacements.delete(s)},{once:!0})}),n(),i()}}async computePlacement(){var t,o;let{options:n,target:i}=this;await(document.fonts?document.fonts.ready:Promise.resolve());let r=n.trigger instanceof HTMLElement?ne():ne({padding:It,fallbackPlacements:Hn(n.placement)}),[s=0,a=0]=Array.isArray(n?.offset)?n.offset:[n.offset,0],l=(t=this.host.elements.find(m=>m.tipElement))==null?void 0:t.tipElement,c=[Qt({mainAxis:s,crossAxis:a}),He({padding:It}),r,We({padding:It,apply:({availableWidth:m,availableHeight:g,rects:{floating:v}})=>{let f=Math.max(In,Math.floor(g)),y=v.height;this.initialHeight=this.isConstrained&&this.initialHeight||y,this.isConstrained=y<this.initialHeight||f<=y;let w=this.isConstrained?`${f}px`:"";Object.assign(i.style,{maxWidth:`${Math.floor(m)}px`,maxHeight:w})}}),...l?[qe({element:l,padding:n.tipPadding||It})]:[]],{x:p,y:h,placement:u,middlewareData:d}=await _e(n.trigger,i,{placement:n.placement,middleware:c,strategy:"fixed"});if(Object.assign(i.style,{top:"0px",left:"0px",translate:`${Mt(p)}px ${Mt(h)}px`}),i.setAttribute("actual-placement",u),(o=this.host.elements)==null||o.forEach(m=>{this.originalPlacements.has(m)||this.originalPlacements.set(m,m.getAttribute("placement")),m.setAttribute("placement",u)}),l&&d.arrow){let{x:m,y:g}=d.arrow;Object.assign(l.style,{top:u.startsWith("right")||u.startsWith("left")?"0px":"",left:u.startsWith("bottom")||u.startsWith("top")?"0px":"",translate:`${Mt(m)}px ${Mt(g)}px`})}}clearOverlayPosition(){this.target&&(this.target.style.removeProperty("max-height"),this.target.style.removeProperty("max-width"),this.initialHeight=void 0,this.isConstrained=!1)}hostConnected(){document.addEventListener("sp-update-overlays",this.resetOverlayPosition)}hostUpdated(){var t;this.host.open||((t=this.cleanup)==null||t.call(this),this.cleanup=void 0)}hostDisconnected(){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0,document.removeEventListener("sp-update-overlays",this.resetOverlayPosition)}}});var at,tt,Wt=C(()=>{"use strict";at=(e=>(e[e.click=0]="click",e[e.hover=1]="hover",e[e.longpress=2]="longpress",e))(at||{}),tt=class{constructor(t,o,n=!1){this.host=t,this.target=o,this.isPersistent=n,this.host.addController(this),this.prepareDescription(this.target),this.isPersistent&&this.init()}get activelyOpening(){return!1}prepareDescription(t){}releaseDescription(){}shouldCompleteOpen(){}init(){}abort(){var t;this.releaseDescription(),(t=this.abortController)==null||t.abort()}hostConnected(){this.init()}hostDisconnected(){this.isPersistent||this.abort()}}});var qt,ze=C(()=>{"use strict";Wt();qt=class extends tt{constructor(){super(...arguments),this.type=at.click,this.preventNextToggle=!1}handleClick(){this.preventNextToggle||(this.host.open=!this.host.open),this.preventNextToggle=!1}handlePointerdown(){this.preventNextToggle=this.host.open}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;let{signal:o}=this.abortController;this.target.addEventListener("click",()=>this.handleClick(),{signal:o}),this.target.addEventListener("pointerdown",()=>this.handlePointerdown(),{signal:o})}}});import{conditionAttributeWithId as je}from"/libs/features/spectrum-web-components/dist/base.js";import{randomID as Wn}from"/libs/features/spectrum-web-components/dist/shared.js";var qn,_t,Ke=C(()=>{"use strict";Wt();Z();qn=300,_t=class extends tt{constructor(){super(...arguments),this.type=at.hover,this.elementIds=[],this.focusedin=!1,this.pointerentered=!1}handleTargetFocusin(){var t;(t=document.activeElement)!=null&&t.matches(":focus-visible")&&(this.host.open=!0,this.focusedin=!0)}handleTargetFocusout(){this.focusedin=!1,!this.pointerentered&&(this.host.open=!1)}handleTargetPointerenter(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0),!this.host.disabled&&(this.host.open=!0,this.pointerentered=!0)}handleTargetPointerleave(){this.doPointerleave()}handleHostPointerenter(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0)}handleHostPointerleave(){this.doPointerleave()}prepareDescription(){if(!this.host.elements.length)return;let t=this.target.getRootNode(),o=this.host.elements[0].getRootNode(),n=this.host.getRootNode();t===n?this.prepareOverlayRelativeDescription():t===o&&this.prepareContentRelativeDescription()}prepareOverlayRelativeDescription(){let t=je(this.target,"aria-describedby",[this.host.id]);this.releaseDescription=()=>{t(),this.releaseDescription=j}}prepareContentRelativeDescription(){let t=[],o=this.host.elements.map(i=>(t.push(i.id),i.id||(i.id=`${this.host.tagName.toLowerCase()}-helper-${Wn()}`),i.id));this.elementIds=t;let n=je(this.target,"aria-describedby",o);this.releaseDescription=()=>{n(),this.host.elements.map((i,r)=>{i.id=this.elementIds[r]}),this.releaseDescription=j}}doPointerleave(){this.pointerentered=!1;let t=this.target;this.focusedin&&t.matches(":focus-visible")||(this.hoverTimeout=setTimeout(()=>{this.host.open=!1},qn))}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;let{signal:o}=this.abortController;this.target.addEventListener("focusin",()=>this.handleTargetFocusin(),{signal:o}),this.target.addEventListener("focusout",()=>this.handleTargetFocusout(),{signal:o}),this.target.addEventListener("pointerenter",()=>this.handleTargetPointerenter(),{signal:o}),this.target.addEventListener("pointerleave",()=>this.handleTargetPointerleave(),{signal:o}),this.host.addEventListener("pointerenter",()=>this.handleHostPointerenter(),{signal:o}),this.host.addEventListener("pointerleave",()=>this.handleHostPointerleave(),{signal:o})}}});import{isAndroid as _n,isIOS as Vn}from"/libs/features/spectrum-web-components/dist/shared.js";import{conditionAttributeWithId as Un}from"/libs/features/spectrum-web-components/dist/base.js";import{randomID as zn}from"/libs/features/spectrum-web-components/dist/shared.js";var jn,Kn,Vt,Ye=C(()=>{"use strict";Z();Wt();jn=300,Kn={touch:"Double tap and long press for additional options",keyboard:"Press Space or Alt+Down Arrow for additional options",mouse:"Click and hold for additional options"},Vt=class extends tt{constructor(){super(...arguments),this.type=at.longpress,this.longpressState=null,this.releaseDescription=j,this.handlePointerup=()=>{clearTimeout(this.timeout),this.target&&(this.longpressState=this.host.state==="opening"?"pressed":null,document.removeEventListener("pointerup",this.handlePointerup),document.removeEventListener("pointercancel",this.handlePointerup))}}get activelyOpening(){return this.longpressState==="opening"||this.longpressState==="pressed"}handleLongpress(){this.host.open=!0,this.longpressState=this.longpressState==="potential"?"opening":"pressed"}handlePointerdown(t){!this.target||t.button!==0||(this.longpressState="potential",document.addEventListener("pointerup",this.handlePointerup),document.addEventListener("pointercancel",this.handlePointerup),"holdAffordance"in this.target)||(this.timeout=setTimeout(()=>{this.target&&this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"pointer"}}))},jn))}handleKeydown(t){let{code:o,altKey:n}=t;n&&o==="ArrowDown"&&(t.stopPropagation(),t.stopImmediatePropagation())}handleKeyup(t){let{code:o,altKey:n}=t;if(o==="Space"||n&&o==="ArrowDown"){if(!this.target)return;t.stopPropagation(),this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"keyboard"}})),setTimeout(()=>{this.longpressState=null})}}prepareDescription(t){if(this.releaseDescription!==j||!this.host.elements.length)return;let o=document.createElement("div");o.id=`longpress-describedby-descriptor-${zn()}`;let n=Vn()||_n()?"touch":"keyboard";o.textContent=Kn[n],o.slot="longpress-describedby-descriptor";let i=t.getRootNode(),r=this.host.getRootNode();i===r?this.host.append(o):(o.hidden=!("host"in i),t.insertAdjacentElement("afterend",o));let s=Un(t,"aria-describedby",[o.id]);this.releaseDescription=()=>{s(),o.remove(),this.releaseDescription=j}}shouldCompleteOpen(){this.longpressState=this.longpressState==="pressed"?null:this.longpressState}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;let{signal:o}=this.abortController;this.target.addEventListener("longpress",()=>this.handleLongpress(),{signal:o}),this.target.addEventListener("pointerdown",n=>this.handlePointerdown(n),{signal:o}),this.prepareDescription(this.target),!this.target.holdAffordance&&(this.target.addEventListener("keydown",n=>this.handleKeydown(n),{signal:o}),this.target.addEventListener("keyup",n=>this.handleKeyup(n),{signal:o}))}}});var Ut,Xe,Ge=C(()=>{"use strict";Ut=class extends Event{constructor(t,o,n){super("slottable-request",{bubbles:!1,cancelable:!0,composed:!1}),this.name=t,this.data=o,this.slotName=n!==void 0?`${t}.${n}`:t}},Xe=Symbol("remove-slottable-request")});import{css as Yn}from"/libs/features/spectrum-web-components/dist/base.js";var Xn,Je,Qe=C(()=>{"use strict";Xn=Yn`
    :host{pointer-events:none;--swc-overlay-animation-distance:var(--spectrum-spacing-100);display:contents}:host(:has(>sp-tooltip)){--swc-overlay-animation-distance:var(--spectrum-tooltip-animation-distance)}.dialog{box-sizing:border-box;--sp-overlay-open:true;background:0 0;border:0;max-width:calc(100vw - 16px);height:auto;max-height:calc(100dvh - 16px);margin:0;padding:0;display:flex;position:fixed;inset:0 auto auto 0;overflow:visible;opacity:1!important}.dialog:not([is-visible]){display:none}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:"";position:absolute;inset:-999em;pointer-events:auto!important}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto;visibility:visible!important}::slotted(sp-popover){position:static}.dialog:not([actual-placement])[placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}@supports selector(:open){.dialog{opacity:0}.dialog:open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports (overlay:auto){.dialog{transition:all var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s)),translate 0s,display var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s));transition-behavior:allow-discrete;display:none}.dialog:popover-open,.dialog:modal{display:flex}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base,1000) + var(--swc-overlay-open-count))}}
`,Je=Xn});import{html as zt}from"/libs/features/spectrum-web-components/dist/base.js";import{property as M,query as Ze,queryAssignedElements as Qn,state as Zn}from"/libs/features/spectrum-web-components/dist/base.js";import{ElementResolutionController as to,elementResolverUpdatedSymbol as eo}from"/libs/features/spectrum-web-components/dist/reactive-controllers.js";import{ifDefined as oe,styleMap as tn}from"/libs/features/spectrum-web-components/dist/base.js";import{randomID as no}from"/libs/features/spectrum-web-components/dist/shared.js";var Gn,Jn,R,oo,At,io,O,jt,se=C(()=>{"use strict";Z();ce();de();me();ge();bt();Ue();ze();Ke();Ye();Ge();Qe();Gn=Object.defineProperty,Jn=Object.getOwnPropertyDescriptor,R=(e,t,o,n)=>{for(var i=n>1?void 0:n?Jn(t,o):t,r=e.length-1,s;r>=0;r--)(s=e[r])&&(i=(n?s(t,o,i):s(i))||i);return n&&i&&Gn(t,o,i),i},oo="showPopover"in document.createElement("div"),At=le(lt);oo?At=pe(At):At=ue(At);io={click:qt,longpress:Vt,hover:_t},O=class ie extends At{constructor(){super(...arguments),this._delayed=!1,this._disabled=!1,this.offset=0,this._open=!1,this.lastRequestSlottableState=!1,this.receivesFocus="auto",this._state="closed",this.triggerElement=null,this.type="auto",this.wasOpen=!1,this.closeOnFocusOut=t=>{if(!t.relatedTarget)return;let o=new Event("overlay-relation-query",{bubbles:!0,composed:!0});t.relatedTarget.addEventListener(o.type,n=>{n.composedPath().includes(this)||(this.open=!1)}),t.relatedTarget.dispatchEvent(o)}}get delayed(){var t;return((t=this.elements.at(-1))==null?void 0:t.hasAttribute("delayed"))||this._delayed}set delayed(t){this._delayed=t}get disabled(){return this._disabled}set disabled(t){var o;this._disabled=t,t?((o=this.strategy)==null||o.abort(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!!this.triggerElement&&!(this.triggerElement instanceof q)}get placementController(){return this._placementController||(this._placementController=new Ht(this)),this._placementController}get open(){return this._open}set open(t){var o;t&&this.disabled||t!==this.open&&((o=this.strategy)!=null&&o.activelyOpening&&!t||(this._open=t,this.open&&(ie.openCount+=1),this.requestUpdate("open",!this.open),this.open&&this.requestSlottable()))}get state(){return this._state}set state(t){var o;if(t===this.state)return;let n=this.state;this._state=t,(this.state==="opened"||this.state==="closed")&&((o=this.strategy)==null||o.shouldCompleteOpen()),this.requestUpdate("state",n)}get elementResolver(){return this._elementResolver||(this._elementResolver=new to(this)),this._elementResolver}get usesDialog(){return this.type==="modal"||this.type==="page"}get popoverValue(){if("popover"in this)switch(this.type){case"modal":case"page":return;case"hint":return"manual";default:return this.type}}get requiresPosition(){return!(this.type==="page"||!this.open||!this.triggerElement||!this.placement&&this.type!=="hint")}managePosition(){if(!this.requiresPosition||!this.open)return;let t=this.offset||0,o=this.triggerElement,n=this.placement||"right",i=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:t,placement:n,tipPadding:i,trigger:o,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();let t=this.open;if(this.open!==t||(await this.manageDelay(t),this.open!==t)||(await this.ensureOnDOM(t),this.open!==t))return;let o=await this.makeTransition(t);this.open===t&&await this.applyFocus(t,o)}async applyFocus(t,o){if(!(this.receivesFocus==="false"||this.type==="hint")){if(await S(),await S(),t===this.open&&!this.open){this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus();return}o?.focus()}}returnFocus(){var t;if(this.open||this.type==="hint")return;let o=()=>{var n,i;let r=[],s=document.activeElement;for(;(n=s?.shadowRoot)!=null&&n.activeElement;)s=s.shadowRoot.activeElement;for(;s;){let a=s.assignedSlot||s.parentElement||((i=s.getRootNode())==null?void 0:i.host);a&&r.push(a),s=a}return r};(t=this.triggerElement)!=null&&t.focus&&(this.contains(this.getRootNode().activeElement)||o().includes(this)||document.activeElement===document.body)&&this.triggerElement.focus()}async manageOpen(t){if(!(!this.isConnected&&this.open)&&(this.hasUpdated||await this.updateComplete,this.open?(Xt.add(this),this.willPreventClose&&(document.addEventListener("pointerup",()=>{this.dialogEl.classList.toggle("not-immediately-closable",!1),this.willPreventClose=!1},{once:!0}),this.dialogEl.classList.toggle("not-immediately-closable",!0))):(t&&this.dispose(),Xt.remove(this)),this.open&&this.state!=="opened"?this.state="opening":!this.open&&this.state!=="closed"&&(this.state="closing"),this.usesDialog?this.manageDialogOpen():this.managePopoverOpen(),this.type==="auto")){let o=this.getRootNode();this.open?o.addEventListener("focusout",this.closeOnFocusOut,{capture:!0}):o.removeEventListener("focusout",this.closeOnFocusOut,{capture:!0})}}bindEvents(){var t;(t=this.strategy)==null||t.abort(),this.strategy=void 0,this.hasNonVirtualTrigger&&this.triggerInteraction&&(this.strategy=new io[this.triggerInteraction](this,this.triggerElement))}handleBeforetoggle(t){t.newState!=="open"&&this.handleBrowserClose()}handleBrowserClose(){var t;if(!((t=this.strategy)!=null&&t.activelyOpening)){this.open=!1;return}this.manuallyKeepOpen()}manuallyKeepOpen(){this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){var t,o;this.elements.length?this.hasNonVirtualTrigger&&((o=this.strategy)==null||o.prepareDescription(this.triggerElement)):(t=this.strategy)==null||t.releaseDescription()}shouldPreventClose(){let t=this.willPreventClose;return this.willPreventClose=!1,t}requestSlottable(){this.lastRequestSlottableState!==this.open&&(this.open||document.body.offsetHeight,this.dispatchEvent(new Ut("overlay-content",this.open?{}:Xe)),this.lastRequestSlottableState=this.open)}willUpdate(t){var o;if(this.hasAttribute("id")||this.setAttribute("id",`${this.tagName.toLowerCase()}-${no()}`),t.has("open")&&(typeof t.get("open")<"u"||this.open)&&this.manageOpen(t.get("open")),t.has("trigger")){let[i,r]=((o=this.trigger)==null?void 0:o.split("@"))||[];this.elementResolver.selector=i?`#${i}`:"",this.triggerInteraction=r}let n=!1;t.has(eo)&&(n=this.triggerElement,this.triggerElement=this.elementResolver.element),t.has("triggerElement")&&(n=t.get("triggerElement")),n!==!1&&this.bindEvents()}updated(t){super.updated(t),t.has("placement")&&(this.placement?this.dialogEl.setAttribute("actual-placement",this.placement):this.dialogEl.removeAttribute("actual-placement"),this.open&&typeof t.get("placement")<"u"&&this.placementController.resetOverlayPosition()),t.has("state")&&this.state==="closed"&&typeof t.get("state")<"u"&&this.placementController.clearOverlayPosition()}renderContent(){return zt`
            <slot @slotchange=${this.handleSlotchange}></slot>
        `}get dialogStyleMap(){return{"--swc-overlay-open-count":ie.openCount.toString()}}renderDialog(){return zt`
            <dialog
                class="dialog"
                part="dialog"
                placement=${oe(this.requiresPosition?this.placement||"right":void 0)}
                style=${tn(this.dialogStyleMap)}
                @close=${this.handleBrowserClose}
                @cancel=${this.handleBrowserClose}
                @beforetoggle=${this.handleBeforetoggle}
                ?is-visible=${this.state!=="closed"}
            >
                ${this.renderContent()}
            </dialog>
        `}renderPopover(){return zt`
            <div
                class="dialog"
                part="dialog"
                placement=${oe(this.requiresPosition?this.placement||"right":void 0)}
                popover=${oe(this.popoverValue)}
                style=${tn(this.dialogStyleMap)}
                @beforetoggle=${this.handleBeforetoggle}
                @close=${this.handleBrowserClose}
                ?is-visible=${this.state!=="closed"}
            >
                ${this.renderContent()}
            </div>
        `}render(){let t=this.type==="modal"||this.type==="page";return zt`
            ${t?this.renderDialog():this.renderPopover()}
            <slot name="longpress-describedby-descriptor"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("close",()=>{this.open=!1}),this.hasUpdated&&this.bindEvents()}disconnectedCallback(){var t;(t=this.strategy)==null||t.releaseDescription(),this.open=!1,super.disconnectedCallback()}};O.styles=[Je],O.openCount=1,R([M({type:Boolean})],O.prototype,"delayed",1),R([Ze(".dialog")],O.prototype,"dialogEl",2),R([M({type:Boolean})],O.prototype,"disabled",1),R([Qn({flatten:!0,selector:':not([slot="longpress-describedby-descriptor"], slot)'})],O.prototype,"elements",2),R([M({type:Number})],O.prototype,"offset",2),R([M({type:Boolean,reflect:!0})],O.prototype,"open",1),R([M()],O.prototype,"placement",2),R([M({attribute:"receives-focus"})],O.prototype,"receivesFocus",2),R([Ze("slot")],O.prototype,"slotEl",2),R([Zn()],O.prototype,"state",1),R([M({type:Number,attribute:"tip-padding"})],O.prototype,"tipPadding",2),R([M()],O.prototype,"trigger",2),R([M({attribute:!1})],O.prototype,"triggerElement",2),R([M({attribute:!1})],O.prototype,"triggerInteraction",2),R([M()],O.prototype,"type",2);jt=O});var Tt={};import{defineElement as so}from"/libs/features/spectrum-web-components/dist/base.js";var pt=C(()=>{"use strict";se();so("sp-overlay",jt)});pt();import{defineElement as po}from"/libs/features/spectrum-web-components/dist/base.js";import{html as et,SpectrumElement as ho}from"/libs/features/spectrum-web-components/dist/base.js";import{property as ft,query as re,state as Kt}from"/libs/features/spectrum-web-components/dist/base.js";import{css as ro}from"/libs/features/spectrum-web-components/dist/base.js";var ao=ro`
    :host([disabled]) ::slotted([slot=trigger]){pointer-events:none}slot[name=longpress-describedby-descriptor]{display:none}
`,en=ao;var lo=Object.defineProperty,co=Object.getOwnPropertyDescriptor,$=(e,t,o,n)=>{for(var i=n>1?void 0:n?co(t,o):t,r=e.length-1,s;r>=0;r--)(s=e[r])&&(i=(n?s(t,o,i):s(i))||i);return n&&i&&lo(t,o,i),i},P=class extends ho{constructor(){super(...arguments),this.content="click hover longpress",this.offset=6,this.disabled=!1,this.clickContent=[],this.longpressContent=[],this.hoverContent=[],this.targetContent=[]}static get styles(){return[en]}getAssignedElementsFromSlot(t){return t.assignedElements({flatten:!0})}handleTriggerContent(t){this.targetContent=this.getAssignedElementsFromSlot(t.target)}handleSlotContent(t){switch(t.target.name){case"click-content":this.clickContent=this.getAssignedElementsFromSlot(t.target);break;case"longpress-content":this.longpressContent=this.getAssignedElementsFromSlot(t.target);break;case"hover-content":this.hoverContent=this.getAssignedElementsFromSlot(t.target);break}}handleBeforetoggle(t){let{target:o}=t,n;if(o===this.clickOverlayElement)n="click";else if(o===this.longpressOverlayElement)n="longpress";else if(o===this.hoverOverlayElement)n="hover";else return;t.newState==="open"?this.open=n:this.open===n&&(this.open=void 0)}update(t){var o,n,i,r,s,a;t.has("clickContent")&&(this.clickPlacement=((o=this.clickContent[0])==null?void 0:o.getAttribute("placement"))||((n=this.clickContent[0])==null?void 0:n.getAttribute("direction"))||void 0),t.has("hoverContent")&&(this.hoverPlacement=((i=this.hoverContent[0])==null?void 0:i.getAttribute("placement"))||((r=this.hoverContent[0])==null?void 0:r.getAttribute("direction"))||void 0),t.has("longpressContent")&&(this.longpressPlacement=((s=this.longpressContent[0])==null?void 0:s.getAttribute("placement"))||((a=this.longpressContent[0])==null?void 0:a.getAttribute("direction"))||void 0),super.update(t)}renderSlot(t){return et`
            <slot name=${t} @slotchange=${this.handleSlotContent}></slot>
        `}renderClickOverlay(){Promise.resolve().then(()=>pt());let t=this.renderSlot("click-content");return this.clickContent.length?et`
            <sp-overlay
                id="click-overlay"
                ?disabled=${this.disabled||!this.clickContent.length}
                ?open=${this.open==="click"&&!!this.clickContent.length}
                .offset=${this.offset}
                .placement=${this.clickPlacement||this.placement}
                .triggerElement=${this.targetContent[0]}
                .triggerInteraction=${"click"}
                .type=${this.type!=="modal"?"auto":"modal"}
                @beforetoggle=${this.handleBeforetoggle}
            >
                ${t}
            </sp-overlay>
        `:t}renderHoverOverlay(){Promise.resolve().then(()=>pt());let t=this.renderSlot("hover-content");return this.hoverContent.length?et`
            <sp-overlay
                id="hover-overlay"
                ?open=${this.open==="hover"&&!!this.hoverContent.length}
                ?disabled=${this.disabled||!this.hoverContent.length||!!this.open&&this.open!=="hover"}
                .offset=${this.offset}
                .placement=${this.hoverPlacement||this.placement}
                .triggerElement=${this.targetContent[0]}
                .triggerInteraction=${"hover"}
                .type=${"hint"}
                @beforetoggle=${this.handleBeforetoggle}
            >
                ${t}
            </sp-overlay>
        `:t}renderLongpressOverlay(){Promise.resolve().then(()=>pt());let t=this.renderSlot("longpress-content");return this.longpressContent.length?et`
            <sp-overlay
                id="longpress-overlay"
                ?disabled=${this.disabled||!this.longpressContent.length}
                ?open=${this.open==="longpress"&&!!this.longpressContent.length}
                .offset=${this.offset}
                .placement=${this.longpressPlacement||this.placement}
                .triggerElement=${this.targetContent[0]}
                .triggerInteraction=${"longpress"}
                .type=${"auto"}
                @beforetoggle=${this.handleBeforetoggle}
            >
                ${t}
            </sp-overlay>
            <slot name="longpress-describedby-descriptor"></slot>
        `:t}render(){let t=this.content.split(" ");return et`
            <slot
                id="trigger"
                name="trigger"
                @slotchange=${this.handleTriggerContent}
            ></slot>
            ${[t.includes("click")?this.renderClickOverlay():et``,t.includes("hover")?this.renderHoverOverlay():et``,t.includes("longpress")?this.renderLongpressOverlay():et``]}
        `}updated(t){if(super.updated(t),this.disabled&&t.has("disabled")){this.open=void 0;return}}async getUpdateComplete(){return await super.getUpdateComplete()}};$([ft()],P.prototype,"content",2),$([ft({reflect:!0})],P.prototype,"placement",2),$([ft()],P.prototype,"type",2),$([ft({type:Number})],P.prototype,"offset",2),$([ft({reflect:!0})],P.prototype,"open",2),$([ft({type:Boolean,reflect:!0})],P.prototype,"disabled",2),$([Kt()],P.prototype,"clickContent",2),$([Kt()],P.prototype,"longpressContent",2),$([Kt()],P.prototype,"hoverContent",2),$([Kt()],P.prototype,"targetContent",2),$([re("#click-overlay",!0)],P.prototype,"clickOverlayElement",2),$([re("#longpress-overlay",!0)],P.prototype,"longpressOverlayElement",2),$([re("#hover-overlay",!0)],P.prototype,"hoverOverlayElement",2);po("overlay-trigger",P);se();window.__merch__spectrum_Overlay=jt;
