{
  "version": 3,
  "sources": ["../../blocks/global-navigation/global-navigation.js"],
  "sourcesContent": ["/* eslint import/no-relative-packages: 0 */\n/* eslint-disable no-async-promise-executor */\nimport {\n  getConfig,\n  getMetadata,\n  loadIms,\n  decorateLinks,\n  loadScript,\n} from '../../utils/utils.js';\nimport {\n  closeAllDropdowns,\n  decorateCta,\n  fetchAndProcessPlainHtml,\n  getActiveLink,\n  getAnalyticsValue,\n  getExperienceName,\n  getFedsPlaceholderConfig,\n  hasActiveLink,\n  isActiveLink,\n  icons,\n  isDesktop,\n  isTangentToViewport,\n  lanaLog,\n  loadBaseStyles,\n  loadDecorateMenu,\n  rootPath,\n  loadStyles,\n  logErrorFor,\n  selectors,\n  setActiveDropdown,\n  setActiveLink,\n  setCurtainState,\n  setUserProfile,\n  toFragment,\n  trigger,\n  yieldToMain,\n  addMepHighlightAndTargetId,\n  isDarkMode,\n  darkIcons,\n  setDisableAEDState,\n  getDisableAEDState,\n} from './utilities/utilities.js';\n\nimport { replaceKey, replaceKeyArray } from '../../features/placeholders.js';\n\nconst SIGNIN_CONTEXT = getConfig()?.signInContext;\n\nfunction getHelpChildren() {\n  const { unav } = getConfig();\n  return unav?.unavHelpChildren || [\n    { type: 'Support' },\n    { type: 'Community' },\n  ];\n}\n\nexport const CONFIG = {\n  icons: isDarkMode() ? darkIcons : icons,\n  delays: {\n    mainNavDropdowns: 800,\n    loadDelayed: 3000,\n    keyboardNav: 8000,\n  },\n  features: [\n    'gnav-brand',\n    'gnav-promo',\n    'search',\n    'profile',\n    'app-launcher',\n    'adobe-logo',\n  ],\n  universalNav: {\n    components: {\n      profile: {\n        name: 'profile',\n        attributes: {\n          isSignUpRequired: false,\n          componentLoaderConfig: {\n            config: {\n              enableLocalSection: true,\n              miniAppContext: {\n                onMessage: (name, payload) => {\n                  if (name === 'System' && payload.subType === 'AppInitiated') {\n                    window.adobeProfile?.getUserProfile()\n                      .then((data) => { setUserProfile(data); })\n                      .catch(() => { setUserProfile({}); });\n                  }\n                },\n                logger: {\n                  trace: () => {},\n                  debug: () => {},\n                  info: () => {},\n                  warn: (e) => lanaLog({ message: 'Profile Menu warning', e, tags: 'errorType=warn,module=universalnav' }),\n                  error: (e) => lanaLog({ message: 'Profile Menu error', e, tags: 'errorType=error,module=universalnav' }),\n                },\n              },\n              ...getConfig().unav?.profile?.config,\n            },\n          },\n          callbacks: {\n            onSignIn: () => { window.adobeIMS?.signIn(SIGNIN_CONTEXT); },\n            onSignUp: () => { window.adobeIMS?.signIn(SIGNIN_CONTEXT); },\n          },\n        },\n      },\n      appswitcher: { name: 'app-switcher' },\n      notifications: {\n        name: 'notifications',\n        attributes: { notificationsConfig: { applicationContext: { appID: getConfig().unav?.uncAppId || 'adobecom' } } },\n      },\n      help: {\n        name: 'help',\n        attributes: { children: getHelpChildren() },\n      },\n      jarvis: {\n        name: 'jarvis',\n        attributes: {\n          appid: getConfig().jarvis?.id,\n          callbacks: getConfig().jarvis?.callbacks,\n        },\n      },\n    },\n  },\n};\n\nexport const osMap = {\n  Mac: 'macOS',\n  Win: 'windows',\n  Linux: 'linux',\n  CrOS: 'chromeOS',\n  Android: 'android',\n  iPad: 'iPadOS',\n  iPhone: 'iOS',\n};\n\nexport const LANGMAP = {\n  cs: ['cz'],\n  da: ['dk'],\n  de: ['at'],\n  en: ['africa', 'au', 'ca', 'ie', 'in', 'mt', 'ng', 'nz', 'sg', 'za'],\n  es: ['ar', 'cl', 'co', 'cr', 'ec', 'gt', 'la', 'mx', 'pe', 'pr'],\n  et: ['ee'],\n  ja: ['jp'],\n  ko: ['kr'],\n  nb: ['no'],\n  pt: ['br'],\n  sl: ['si'],\n  sv: ['se'],\n  uk: ['ua'],\n  zh: ['cn', 'tw'],\n};\n\n// signIn, decorateSignIn and decorateProfileTrigger can be removed if IMS takes over the profile\nconst signIn = (options = {}) => {\n  if (typeof window.adobeIMS?.signIn !== 'function') {\n    lanaLog({ message: 'IMS signIn method not available', tags: 'errorType=warn,module=gnav' });\n    return;\n  }\n  window.adobeIMS.signIn(options);\n};\n\nconst decorateSignIn = async ({ rawElem, decoratedElem }) => {\n  const dropdownElem = rawElem.querySelector(':scope > div:nth-child(2)');\n  const signInLabel = await replaceKey('sign-in', getFedsPlaceholderConfig());\n  let signInElem;\n\n  if (!dropdownElem) {\n    signInElem = toFragment`<button daa-ll=\"${signInLabel}\" class=\"feds-signIn\">${signInLabel}</button>`;\n\n    signInElem.addEventListener('click', (e) => {\n      e.preventDefault();\n      signIn(SIGNIN_CONTEXT);\n    });\n  } else {\n    signInElem = toFragment`<button daa-ll=\"${signInLabel}\" class=\"feds-signIn\" aria-expanded=\"false\" aria-haspopup=\"true\">${signInLabel}</button>`;\n\n    signInElem.addEventListener('click', (e) => trigger({ element: signInElem, event: e }));\n    signInElem.addEventListener('keydown', (e) => e.code === 'Escape' && closeAllDropdowns());\n    dropdownElem.addEventListener('keydown', (e) => e.code === 'Escape' && closeAllDropdowns());\n\n    dropdownElem.classList.add('feds-signIn-dropdown');\n\n    const dropdownSignInAnchor = dropdownElem.querySelector('[href$=\"?sign-in=true\"]');\n    if (dropdownSignInAnchor) {\n      const dropdownSignInButton = toFragment`<button class=\"feds-signIn\">${dropdownSignInAnchor.textContent}</button>`;\n      dropdownSignInAnchor.replaceWith(dropdownSignInButton);\n      dropdownSignInButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        signIn(SIGNIN_CONTEXT);\n      });\n    } else {\n      lanaLog({ message: 'Sign in link not found in dropdown.', tags: 'errorType=warn,module=gnav' });\n    }\n\n    decoratedElem.append(dropdownElem);\n  }\n\n  decoratedElem.prepend(signInElem);\n};\n\nconst decorateProfileTrigger = async ({ avatar }) => {\n  const [label, profileAvatar] = await replaceKeyArray(\n    ['profile-button', 'profile-avatar'],\n    getFedsPlaceholderConfig(),\n  );\n\n  const buttonElem = toFragment`\n    <button\n      class=\"feds-profile-button\"\n      aria-expanded=\"false\"\n      aria-controls=\"feds-profile-menu\"\n      aria-label=\"${label}\"\n      daa-ll=\"Account\"\n      aria-haspopup=\"true\"\n    >\n      <img class=\"feds-profile-img\" src=\"${avatar}\" alt=\"${profileAvatar}\"></img>\n    </button>\n  `;\n\n  return buttonElem;\n};\n\nlet keyboardNav;\nconst setupKeyboardNav = async () => {\n  keyboardNav = keyboardNav || new Promise(async (resolve) => {\n    const { default: KeyboardNavigation } = await import('./utilities/keyboard/index.js');\n    const instance = new KeyboardNavigation();\n    resolve(instance);\n  });\n};\n\nconst getBrandImage = (image) => {\n  // Return the default Adobe logo if an image is not available\n  if (!image) return CONFIG.icons.company;\n\n  // Try to decorate image as PNG, JPG or JPEG\n  const imgText = image?.textContent || '';\n  const [source, alt] = imgText.split('|');\n  if (source.trim().length) {\n    const img = toFragment`<img src=\"${source.trim()}\" />`;\n    if (alt) img.alt = alt.trim();\n    return img;\n  }\n\n  // Return the default Adobe logo if the image could not be decorated\n  return CONFIG.icons.company;\n};\n\nconst closeOnClickOutside = (e) => {\n  if (!isDesktop.matches) return;\n\n  const openElemSelector = `${selectors.globalNav} [aria-expanded = \"true\"]`;\n  const isClickedElemOpen = [...document.querySelectorAll(openElemSelector)]\n    .find((openItem) => openItem.parentElement.contains(e.target));\n\n  if (!isClickedElemOpen) {\n    closeAllDropdowns();\n  }\n};\n\nexport const getUniversalNavLocale = (locale) => {\n  if (!locale.prefix || locale.prefix === '/') return 'en_US';\n  const prefix = locale.prefix.replace('/', '');\n  if (prefix.includes('_')) {\n    const [lang, country] = prefix.split('_').reverse();\n    return `${lang.toLowerCase()}_${country.toUpperCase()}`;\n  }\n\n  if (prefix === 'uk') return 'en_GB';\n  const customLang = Object.keys(LANGMAP).find((key) => LANGMAP[key].includes(prefix));\n  if (customLang) return `${customLang.toLowerCase()}_${prefix.toUpperCase()}`;\n\n  return `${prefix.toLowerCase()}_${prefix.toUpperCase()}`;\n};\n\nconst convertToPascalCase = (str) => str\n  ?.split('-')\n  .map((s) => s.charAt(0).toUpperCase() + s.slice(1))\n  .join(' ');\n\nclass Gnav {\n  constructor({ content, block } = {}) {\n    this.content = content;\n    this.block = block;\n    this.customLinks = getConfig()?.customLinks?.split(',') || [];\n\n    this.blocks = {\n      profile: {\n        rawElem: this.content.querySelector('.profile'),\n        decoratedElem: toFragment`<div class=\"feds-profile\"></div>`,\n      },\n      search: { config: { icon: CONFIG.icons.search } },\n      breadcrumbs: { wrapper: '' },\n    };\n\n    this.setupUniversalNav();\n    this.elements = {};\n  }\n\n  setupUniversalNav = () => {\n    const meta = getMetadata('universal-nav')?.toLowerCase();\n    this.universalNavComponents = meta?.split(',').map((option) => option.trim())\n      .filter((component) => Object.keys(CONFIG.universalNav.components).includes(component) || component === 'signup');\n    this.useUniversalNav = meta === 'on' || !!this.universalNavComponents?.length;\n    if (this.useUniversalNav) {\n      delete this.blocks.profile;\n      this.blocks.universalNav = toFragment`<div class=\"feds-utilities\"></div>`;\n      this.blocks.universalNav.addEventListener('click', () => {\n        if (this.isToggleExpanded()) this.toggleMenuMobile();\n      }, true);\n    }\n  };\n\n  init = () => logErrorFor(async () => {\n    this.elements.curtain = toFragment`<div class=\"feds-curtain\"></div>`;\n\n    // Order is important, decorateTopnavWrapper will render the nav\n    // Ensure any critical task is executed before it\n    const tasks = [\n      this.decorateMainNav,\n      this.decorateTopNav,\n      this.decorateAside,\n      this.decorateTopnavWrapper,\n      loadBaseStyles,\n      this.ims,\n      this.addChangeEventListeners,\n    ];\n    this.block.addEventListener('click', this.loadDelayed);\n    this.block.addEventListener('keydown', setupKeyboardNav);\n    setTimeout(this.loadDelayed, CONFIG.delays.loadDelayed);\n    setTimeout(setupKeyboardNav, CONFIG.delays.keyboardNav);\n    for await (const task of tasks) {\n      await yieldToMain();\n      await task();\n    }\n\n    document.addEventListener('click', closeOnClickOutside);\n    isDesktop.addEventListener('change', closeAllDropdowns);\n  }, 'Error in global navigation init', 'errorType=error,module=gnav');\n\n  ims = async () => (window.adobeIMS?.initialized ? this.imsReady() : loadIms()\n    .then(() => this.imsReady())\n    .catch((e) => {\n      if (e?.message === 'IMS timeout') {\n        window.addEventListener('onImsLibInstance', () => this.imsReady());\n        return;\n      }\n      lanaLog({ message: 'GNAV: Error with IMS', e, tags: 'errorType=info,module=gnav' });\n    }));\n\n  decorateTopNav = () => {\n    this.elements.mobileToggle = this.decorateToggle();\n    this.elements.topnav = toFragment`\n      <nav class=\"feds-topnav\" aria-label=\"Main\">\n        <div class=\"feds-brand-container\">\n          ${this.elements.mobileToggle}\n          ${this.decorateBrand()}\n        </div>\n        ${this.elements.navWrapper}\n        ${getConfig().searchEnabled === 'on' ? toFragment`<div class=\"feds-client-search\"></div>` : ''}\n        ${this.useUniversalNav ? this.blocks.universalNav : ''}\n        ${(!this.useUniversalNav && this.blocks.profile.rawElem) ? this.blocks.profile.decoratedElem : ''}\n        ${this.decorateLogo()}\n      </nav>\n    `;\n  };\n\n  decorateTopnavWrapper = async () => {\n    const breadcrumbs = isDesktop.matches ? await this.decorateBreadcrumbs() : '';\n    this.elements.topnavWrapper = toFragment`<div class=\"feds-topnav-wrapper\">\n        ${this.elements.topnav}\n        ${breadcrumbs}\n      </div>`;\n\n    this.block.append(this.elements.curtain, this.elements.aside, this.elements.topnavWrapper);\n  };\n\n  addChangeEventListeners = () => {\n    // Ensure correct DOM order for elements between mobile and desktop\n    isDesktop.addEventListener('change', () => {\n      if (isDesktop.matches) {\n        // On desktop, search is after nav\n        if (this.elements.mainNav instanceof HTMLElement\n          && this.elements.search instanceof HTMLElement) {\n          this.elements.mainNav.after(this.elements.search);\n        }\n\n        // On desktop, breadcrumbs are below the whole nav\n        if (this.elements.topnav instanceof HTMLElement\n          && this.elements.breadcrumbsWrapper instanceof HTMLElement) {\n          this.elements.topnav.after(this.elements.breadcrumbsWrapper);\n        }\n      } else {\n        // On mobile, nav is after search\n        if (this.elements.mainNav instanceof HTMLElement\n          && this.elements.search instanceof HTMLElement) {\n          this.elements.mainNav.before(this.elements.search);\n        }\n\n        // On mobile, breadcrumbs are before the search and nav\n        if (this.elements.navWrapper instanceof HTMLElement\n          && this.elements.breadcrumbsWrapper instanceof HTMLElement) {\n          this.elements.navWrapper.prepend(this.elements.breadcrumbsWrapper);\n        }\n      }\n    });\n\n    // Add a modifier when the nav is tangent to the viewport and content is partly hidden\n    const toggleContraction = () => {\n      const isOverflowing = isTangentToViewport.matches\n        && this.elements.topnav?.scrollWidth\n        && this.elements.topnav.scrollWidth > document.body.clientWidth;\n\n      this.elements.topnav.classList.toggle(selectors.overflowingTopNav.slice(1), isOverflowing);\n      window.dispatchEvent(new CustomEvent('feds:navOverflow', { detail: { isOverflowing } }));\n    };\n\n    toggleContraction();\n    isTangentToViewport.addEventListener('change', toggleContraction);\n  };\n\n  loadDelayed = async () => {\n    this.ready = this.ready || new Promise(async (resolve) => {\n      try {\n        this.block.removeEventListener('click', this.loadDelayed);\n        this.block.removeEventListener('keydown', this.loadDelayed);\n        if (this.searchPresent()) {\n          const [\n            { default: Search },\n          ] = await Promise.all([\n            import('./features/search/gnav-search.js'),\n            loadStyles(rootPath('features/search/gnav-search.css')),\n          ]);\n          this.Search = Search;\n        }\n\n        if (!this.useUniversalNav) {\n          const [{ default: ProfileDropdown }] = await Promise.all([\n            import('./features/profile/dropdown.js'),\n            loadStyles(rootPath('features/profile/dropdown.css')),\n          ]);\n          this.ProfileDropdown = ProfileDropdown;\n        }\n\n        resolve();\n      } catch (e) {\n        lanaLog({ message: 'GNAV: Error within loadDelayed', e, tags: 'errorType=warn,module=gnav' });\n        resolve();\n      }\n    });\n\n    return this.ready;\n  };\n\n  imsReady = async () => {\n    if (!window.adobeIMS.isSignedInUser() || !this.useUniversalNav) setUserProfile({});\n\n    const tasks = [this.useUniversalNav ? this.decorateUniversalNav : this.decorateProfile];\n\n    try {\n      for await (const task of tasks) {\n        await yieldToMain();\n        await task();\n      }\n    } catch (e) {\n      lanaLog({ message: 'GNAV: issues within onReady', e, tags: 'errorType=info,module=gnav' });\n    }\n  };\n\n  decorateProfile = async () => {\n    const { rawElem, decoratedElem } = this.blocks.profile;\n    if (!rawElem) return;\n\n    const isSignedInUser = window.adobeIMS.isSignedInUser();\n\n    // If user is not signed in, decorate the 'Sign In' element\n    if (!isSignedInUser) {\n      await decorateSignIn({ rawElem, decoratedElem });\n      return;\n    }\n\n    // If user is signed in, decorate the profile avatar\n    const accessToken = window.adobeIMS.getAccessToken();\n    const { env } = getConfig();\n    const headers = new Headers({ Authorization: `Bearer ${accessToken.token}` });\n    const profileData = await fetch(`https://${env.adobeIO}/profile`, { headers });\n\n    if (profileData.status !== 200) {\n      lanaLog({\n        message: 'GNAV: decorateProfile has failed to fetch profile data',\n        e: `${profileData.statusText} url: ${profileData.url}`,\n        tags: 'errorType=info,module=gnav',\n      });\n      return;\n    }\n\n    const { sections, user: { avatar } } = await profileData.json();\n\n    this.blocks.profile.buttonElem = await decorateProfileTrigger({ avatar });\n    decoratedElem.append(this.blocks.profile.buttonElem);\n\n    // Decorate the profile dropdown\n    // after user interacts with button or after 3s have passed\n    let decorationTimeout;\n\n    const decorateDropdown = async (e) => {\n      this.blocks.profile.buttonElem.removeEventListener('click', decorateDropdown);\n      clearTimeout(decorationTimeout);\n      await this.loadDelayed();\n      this.blocks.profile.dropdownInstance = new this.ProfileDropdown({\n        rawElem,\n        decoratedElem,\n        avatar,\n        sections,\n        buttonElem: this.blocks.profile.buttonElem,\n        // If the dropdown has been decorated due to a click, open it\n        openOnInit: e instanceof Event,\n      });\n    };\n\n    this.blocks.profile.buttonElem.addEventListener('click', decorateDropdown);\n    decorationTimeout = setTimeout(decorateDropdown, CONFIG.delays.loadDelayed);\n  };\n\n  decorateUniversalNav = async () => {\n    const config = getConfig();\n    const locale = getUniversalNavLocale(config.locale);\n    const environment = config.env.name === 'prod' ? 'prod' : 'stage';\n    const visitorGuid = window.alloy ? await window.alloy('getIdentity')\n      .then((data) => data?.identity?.ECID).catch(() => undefined) : undefined;\n    const experienceName = getExperienceName();\n\n    const getDevice = () => {\n      const agent = navigator.userAgent;\n      for (const [os, osName] of Object.entries(osMap)) {\n        if (agent.includes(os)) return osName;\n      }\n      return 'linux';\n    };\n\n    const unavVersion = new URLSearchParams(window.location.search).get('unavVersion') || '1.3';\n    await Promise.all([\n      loadScript(`https://${environment}.adobeccstatic.com/unav/${unavVersion}/UniversalNav.js`),\n      loadStyles(`https://${environment}.adobeccstatic.com/unav/${unavVersion}/UniversalNav.css`, true),\n    ]);\n\n    const getChildren = () => {\n      const children = [CONFIG.universalNav.components.profile];\n      // reset sign up value on change\n      children[0].attributes.isSignUpRequired = false;\n\n      this.universalNavComponents?.forEach((component) => {\n        if (component === 'profile') return;\n        if (component === 'signup') {\n          children[0].attributes.isSignUpRequired = true;\n          return;\n        }\n\n        children.push(CONFIG.universalNav.components[component]);\n      });\n\n      return children;\n    };\n\n    const onAnalyticsEvent = (data) => {\n      if (!data) return;\n      if (!data.event) data.event = { type: data.type, subtype: data.subtype };\n      if (!data.source) data.source = { name: data.workflow?.toLowerCase().trim() };\n\n      const getInteraction = () => {\n        const {\n          event: { type, subtype } = {},\n          source: { name } = {},\n          content: { name: contentName } = {},\n        } = data;\n\n        switch (`${name}|${type}|${subtype}${contentName ? `|${contentName}` : ''}`) {\n          case 'profile|click|sign-in':\n            return `Sign In|gnav|${experienceName}|unav`;\n          case 'profile|render|component':\n            return `Account|gnav|${experienceName}|unav`;\n          case 'profile|click|account':\n            return `View Account|gnav|${experienceName}|unav`;\n          case 'profile|click|sign-out':\n            return `Sign Out|gnav|${experienceName}|unav`;\n          case 'app-switcher|render|component':\n            return 'AppLauncher.appIconToggle';\n          case `app-switcher|click|app|${contentName}`:\n            return `AppLauncher.appClick.${convertToPascalCase(contentName)}`;\n          case 'app-switcher|click|footer|adobe-home':\n            return 'AppLauncher.adobe.com';\n          case 'app-switcher|click|footer|all-apps':\n            return 'AppLauncher.allapps';\n          case 'app-switcher|click|footer|adobe-dot-com':\n            return 'AppLauncher.adobe.com';\n          case 'app-switcher|click|footer|see-all-apps':\n            return 'AppLauncher.allapps';\n          case 'unc|click|icon':\n            return 'Open Notifications panel';\n          case 'unc|click|link':\n            return 'Open Notification';\n          case 'unc|click|markRead':\n            return 'Mark Notification as read';\n          case 'unc|click|dismiss':\n            return 'Dismiss Notifications';\n          case 'unc|click|markUnread':\n            return 'Mark Notification as unread';\n          default:\n            return null;\n        }\n      };\n      const interaction = getInteraction();\n\n      if (!interaction) return;\n      // eslint-disable-next-line no-underscore-dangle\n      window._satellite?.track('event', {\n        xdm: {},\n        data: { web: { webInteraction: { name: interaction } } },\n      });\n    };\n\n    const getConfiguration = () => ({\n      target: this.blocks.universalNav,\n      env: environment,\n      locale,\n      imsClientId: window.adobeid?.client_id,\n      theme: isDarkMode() ? 'dark' : 'light',\n      analyticsContext: {\n        consumer: {\n          name: 'adobecom',\n          version: '1.0',\n          platform: 'Web',\n          device: getDevice(),\n          os_version: navigator.platform,\n        },\n        event: { visitor_guid: visitorGuid },\n        onAnalyticsEvent,\n      },\n      children: getChildren(),\n      isSectionDividerRequired: getConfig()?.unav?.showSectionDivider,\n    });\n\n    // Exposing UNAV config for consumers\n    CONFIG.universalNav.universalNavConfig = getConfiguration();\n    await window.UniversalNav(CONFIG.universalNav.universalNavConfig);\n    this.decorateAppPrompt({ getAnchorState: () => window.UniversalNav.getComponent?.('app-switcher') });\n    isDesktop.addEventListener('change', () => {\n      window.UniversalNav.reload(CONFIG.universalNav.universalNavConfig);\n    });\n  };\n\n  decorateAppPrompt = async ({ getAnchorState } = {}) => {\n    const state = getMetadata('app-prompt')?.toLowerCase();\n    const entName = getMetadata('app-prompt-entitlement')?.toLowerCase();\n    const promptPath = getMetadata('app-prompt-path')?.toLowerCase();\n    const hasMobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Touch/i.test(navigator.userAgent);\n\n    if (state === 'off'\n      || !window.adobeIMS?.isSignedInUser()\n      || !isDesktop.matches\n      || hasMobileUA\n      || !entName?.length\n      || !promptPath?.length) return;\n\n    const { base } = getConfig();\n    const [\n      webappPrompt,\n    ] = await Promise.all([\n      import('../../features/webapp-prompt/webapp-prompt.js'),\n      loadStyles(`${base}/features/webapp-prompt/webapp-prompt.css`),\n    ]);\n\n    webappPrompt.default({ promptPath, entName, parent: this.blocks.universalNav, getAnchorState });\n  };\n\n  loadSearch = () => {\n    const instanceAlreadyExists = !!this.blocks?.search?.instance;\n    const searchNotInContent = !this.searchPresent();\n    if (instanceAlreadyExists || searchNotInContent) return null;\n\n    return this.loadDelayed().then(() => {\n      this.blocks.search.instance = new this.Search(this.blocks.search.config);\n    }).catch(() => {});\n  };\n\n  isToggleExpanded = () => this.elements.mobileToggle?.getAttribute('aria-expanded') === 'true';\n\n  toggleMenuMobile = () => {\n    const toggle = this.elements.mobileToggle;\n    const isExpanded = this.isToggleExpanded();\n    toggle?.setAttribute('aria-expanded', !isExpanded);\n    document.body.classList.toggle('disable-scroll', !isExpanded);\n    this.elements.navWrapper?.classList?.toggle('feds-nav-wrapper--expanded', !isExpanded);\n    closeAllDropdowns();\n    setCurtainState(!isExpanded);\n    toggle?.setAttribute('daa-ll', `hamburgermenu|${isExpanded ? 'open' : 'close'}`);\n  };\n\n  decorateToggle = () => {\n    if (!this.mainNavItemCount) return '';\n\n    const toggle = toFragment`<button\n      class=\"feds-toggle\"\n      daa-ll=\"hamburgermenu|open\"\n      aria-expanded=\"false\"\n      aria-haspopup=\"true\"\n      aria-label=\"Navigation menu\"\n      aria-controls=\"feds-nav-wrapper\"\n      data-feds-preventAutoClose>\n      </button>`;\n\n    const setHamburgerPadding = () => {\n      if (isDesktop.matches) {\n        this.elements.mainNav.style.removeProperty('padding-bottom');\n      } else {\n        const offset = Math.ceil(this.elements.topnavWrapper.getBoundingClientRect().bottom);\n        this.elements.mainNav.style.setProperty('padding-bottom', `${2 * offset}px`);\n      }\n    };\n\n    const onToggleClick = async () => {\n      this.toggleMenuMobile();\n\n      if (this.blocks?.search?.instance) {\n        this.blocks.search.instance.clearSearchForm();\n      } else {\n        await this.loadSearch();\n      }\n\n      if (this.isToggleExpanded()) setHamburgerPadding();\n    };\n\n    toggle.addEventListener('click', () => logErrorFor(onToggleClick, 'Toggle click failed', 'errorType=error,module=gnav'));\n\n    const onDeviceChange = () => {\n      if (isDesktop.matches) {\n        toggle.setAttribute('aria-expanded', false);\n        this.elements.navWrapper.classList.remove('feds-nav-wrapper--expanded');\n        document.body.classList.remove('disable-scroll');\n        setCurtainState(false);\n        closeAllDropdowns();\n        this.blocks?.search?.instance?.clearSearchForm();\n      }\n    };\n\n    isDesktop.addEventListener('change', () => logErrorFor(onDeviceChange, 'Toggle logic failed on device change', 'errorType=error,module=gnav'));\n\n    return toggle;\n  };\n\n  decorateGenericLogo = ({ selector, classPrefix, includeLabel = true, analyticsValue } = {}) => {\n    const rawBlock = this.content.querySelector(selector);\n    if (!rawBlock) return '';\n\n    // Get all non-image links\n    const imgRegex = /(\\.png|\\.jpg|\\.jpeg)/;\n    const blockLinks = [...rawBlock.querySelectorAll('a')];\n    const link = blockLinks.find((blockLink) => !imgRegex.test(blockLink.href)\n      && !imgRegex.test(blockLink.textContent));\n\n    if (!link) return '';\n\n    // Check which elements should be rendered\n    const renderImage = !rawBlock.matches('.no-logo');\n    const renderLabel = includeLabel && !rawBlock.matches('.image-only');\n\n    if (!renderImage && !renderLabel) return '';\n\n    // Create image element\n    const getImageEl = () => {\n      if (isDarkMode()) {\n        const allSvgImgs = rawBlock.querySelectorAll('picture img[src$=\".svg\"]');\n        if (allSvgImgs.length === 2) return allSvgImgs[1];\n\n        const images = blockLinks.filter((blockLink) => imgRegex.test(blockLink.href)\n        || imgRegex.test(blockLink.textContent));\n        if (images.length === 2) return getBrandImage(images[1]);\n      }\n      const svgImg = rawBlock.querySelector('picture img[src$=\".svg\"]');\n      if (svgImg) return svgImg;\n\n      const image = blockLinks.find((blockLink) => imgRegex.test(blockLink.href)\n        || imgRegex.test(blockLink.textContent));\n      return getBrandImage(image);\n    };\n\n    const imageEl = renderImage\n      ? toFragment`<span class=\"${classPrefix}-image\">${getImageEl()}</span>`\n      : '';\n\n    // Create label element\n    const labelEl = renderLabel\n      ? toFragment`<span class=\"${classPrefix}-label\">${link.textContent}</span>`\n      : '';\n\n    // Create final template\n    const decoratedElem = toFragment`\n      <a href=\"${link.href}\" class=\"${classPrefix}\" daa-ll=\"${analyticsValue}\">\n        ${imageEl}\n        ${labelEl}\n      </a>`;\n\n    // Add accessibility attributes if just an image is rendered\n    if (!renderLabel && link.textContent.length) decoratedElem.setAttribute('aria-label', link.textContent);\n\n    return decoratedElem;\n  };\n\n  decorateAside = async () => {\n    this.elements.aside = '';\n    const promoPath = getMetadata('gnav-promo-source');\n    if (!promoPath) {\n      this.block.classList.remove('has-promo');\n      return this.elements.aside;\n    }\n\n    const { default: decorate } = await import('./features/aside/aside.js');\n    if (!decorate) return this.elements.aside;\n    this.elements.aside = await decorate({ headerElem: this.block, promoPath });\n    return this.elements.aside;\n  };\n\n  decorateBrand = () => this.decorateGenericLogo({\n    selector: '.gnav-brand',\n    classPrefix: 'feds-brand',\n    analyticsValue: 'Brand',\n  });\n\n  decorateLogo = () => this.decorateGenericLogo({\n    selector: '.adobe-logo',\n    classPrefix: 'feds-logo',\n    includeLabel: false,\n    analyticsValue: 'Logo',\n  });\n\n  decorateMainNav = async () => {\n    const breadcrumbs = isDesktop.matches ? '' : await this.decorateBreadcrumbs();\n    this.elements.mainNav = toFragment`<div class=\"feds-nav\"></div>`;\n    this.elements.navWrapper = toFragment`\n      <div class=\"feds-nav-wrapper\" id=\"feds-nav-wrapper\">\n        ${breadcrumbs}\n        ${isDesktop.matches ? '' : this.decorateSearch()}\n        ${this.elements.mainNav}\n        ${isDesktop.matches ? this.decorateSearch() : ''}\n      </div>\n    `;\n\n    // Get all main menu items, but exclude any that are nested inside other features\n    const items = [...this.content.querySelectorAll('h2, p:only-child > strong > a, p:only-child > em > a')]\n      .filter((item) => CONFIG.features.every((feature) => !item.closest(`.${feature}`)));\n\n    // Save number of items to decide whether a hamburger menu is required\n    this.mainNavItemCount = items.length;\n\n    for await (const [index, item] of items.entries()) {\n      await yieldToMain();\n      const mainNavItem = this.decorateMainNavItem(item, index);\n      if (mainNavItem) {\n        this.elements.mainNav.appendChild(mainNavItem);\n      }\n    }\n\n    if (!hasActiveLink()) {\n      const sections = this.elements.mainNav.querySelectorAll('.feds-navItem--section');\n      const disableAED = getDisableAEDState();\n\n      if (!disableAED && sections.length === 1) {\n        sections[0].classList.add(selectors.activeNavItem.slice(1));\n        setActiveLink(true);\n      }\n    }\n\n    return this.elements.mainNav;\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getMainNavItemType = (item) => {\n    const itemTopParent = item.closest('div');\n    const isLinkGroup = !!item.closest('.link-group');\n    const hasSyncDropdown = itemTopParent instanceof HTMLElement\n      && !isLinkGroup && itemTopParent.childElementCount > 1;\n    if (hasSyncDropdown) return 'syncDropdownTrigger';\n    const hasAsyncDropdown = itemTopParent instanceof HTMLElement\n      && itemTopParent.closest('.large-menu') instanceof HTMLElement;\n    if (hasAsyncDropdown) return 'asyncDropdownTrigger';\n    const isPrimaryCta = item.closest('strong') instanceof HTMLElement;\n    if (isPrimaryCta) return 'primaryCta';\n    const isSecondaryCta = item.closest('em') instanceof HTMLElement;\n    if (isSecondaryCta) return 'secondaryCta';\n    const isText = !(item.querySelector('a') instanceof HTMLElement);\n    if (isText) return 'text';\n    return 'link';\n  };\n\n  decorateMainNavItem = (item, index) => {\n    const itemType = this.getMainNavItemType(item);\n\n    const itemHasActiveLink = ['syncDropdownTrigger', 'link'].includes(itemType)\n      && getActiveLink(item.closest('div')) instanceof HTMLElement;\n    const activeModifier = itemHasActiveLink ? ` ${selectors.activeNavItem.slice(1)}` : '';\n\n    // All dropdown decoration is delayed\n    const delayDropdownDecoration = ({ template } = {}) => {\n      let decorationTimeout;\n\n      const decorateDropdown = () => logErrorFor(async () => {\n        template.removeEventListener('click', decorateDropdown);\n        clearTimeout(decorationTimeout);\n\n        const menuLogic = await loadDecorateMenu();\n\n        await menuLogic.decorateMenu({\n          item,\n          template,\n          type: itemType,\n        });\n      }, 'Decorate dropdown failed', 'errorType=info,module=gnav');\n\n      template.addEventListener('click', decorateDropdown);\n      decorationTimeout = setTimeout(decorateDropdown, CONFIG.delays.mainNavDropdowns);\n    };\n\n    // Decorate item based on its type\n    switch (itemType) {\n      case 'syncDropdownTrigger':\n      case 'asyncDropdownTrigger': {\n        const dropdownTrigger = toFragment`<button\n          class=\"feds-navLink feds-navLink--hoverCaret\"\n          aria-expanded=\"false\"\n          aria-haspopup=\"true\"\n          daa-ll=\"${getAnalyticsValue(item.textContent, index + 1)}\"\n          daa-lh=\"header|Open\">\n            ${item.textContent.trim()}\n          </button>`;\n\n        const isSectionMenu = item.closest('.section') instanceof HTMLElement;\n        const tag = isSectionMenu ? 'section' : 'div';\n        const sectionModifier = isSectionMenu ? ' feds-navItem--section' : '';\n        const triggerTemplate = toFragment`\n          <${tag} class=\"feds-navItem${sectionModifier}${activeModifier}\">\n            ${dropdownTrigger}\n          </${tag}>`;\n\n        // Toggle trigger's dropdown on click\n        dropdownTrigger.addEventListener('click', (e) => {\n          trigger({ element: dropdownTrigger, event: e });\n          setActiveDropdown(dropdownTrigger);\n        });\n\n        // Update analytics value when dropdown is expanded/collapsed\n        const observer = new MutationObserver(() => {\n          const isExpanded = dropdownTrigger.getAttribute('aria-expanded') === 'true';\n          const analyticsValue = `header|${isExpanded ? 'Close' : 'Open'}`;\n          dropdownTrigger.setAttribute('daa-lh', analyticsValue);\n        });\n        observer.observe(dropdownTrigger, { attributeFilter: ['aria-expanded'] });\n\n        delayDropdownDecoration({ template: triggerTemplate });\n        return addMepHighlightAndTargetId(triggerTemplate, item);\n      }\n      case 'primaryCta':\n      case 'secondaryCta':\n        // Remove its 'em' or 'strong' wrapper\n        item.parentElement.replaceWith(item);\n\n        return addMepHighlightAndTargetId(toFragment`<div class=\"feds-navItem feds-navItem--centered\">\n            ${decorateCta({ elem: item, type: itemType, index: index + 1 })}\n          </div>`, item);\n      case 'link': {\n        let customLinkModifier = '';\n        let removeCustomLink = false;\n        const linkElem = item.querySelector('a');\n        const customLinksSection = item.closest('.link-group');\n        linkElem.className = 'feds-navLink';\n        linkElem.setAttribute('daa-ll', getAnalyticsValue(linkElem.textContent, index + 1));\n\n        if (customLinksSection) {\n          const removeLink = () => {\n            const url = new URL(linkElem.href);\n            linkElem.setAttribute('href', `${url.origin}${url.pathname}${url.search}`);\n            if (isActiveLink(linkElem)) {\n              linkElem.removeAttribute('href');\n            }\n            const linkHash = url.hash.slice(2);\n            return !this.customLinks.includes(linkHash);\n          };\n          [...customLinksSection.classList].splice(1).forEach((className) => {\n            customLinkModifier = ` feds-navItem--${className}`;\n          });\n          removeCustomLink = removeLink();\n        } else if (itemHasActiveLink) {\n          linkElem.removeAttribute('href');\n          linkElem.setAttribute('role', 'link');\n          linkElem.setAttribute('aria-disabled', 'true');\n          linkElem.setAttribute('aria-current', 'page');\n          linkElem.setAttribute('tabindex', 0);\n        }\n\n        const linkTemplate = toFragment`\n          <div class=\"feds-navItem${activeModifier}${customLinkModifier}\">\n            ${linkElem}\n          </div>`;\n        return removeCustomLink ? '' : addMepHighlightAndTargetId(linkTemplate, item);\n      }\n      case 'text':\n        return addMepHighlightAndTargetId(toFragment`<div class=\"feds-navItem feds-navItem--centered\">\n            ${item.textContent}\n          </div>`, item);\n      default:\n        /* c8 ignore next 3 */\n        return addMepHighlightAndTargetId(toFragment`<div class=\"feds-navItem feds-navItem--centered\">\n            ${item}\n          </div>`, item);\n    }\n  };\n\n  decorateBreadcrumbs = async () => {\n    if (!this.block.classList.contains('has-breadcrumbs')) return null;\n    if (this.elements.breadcrumbsWrapper) return this.elements.breadcrumbsWrapper;\n    const breadcrumbsElem = this.block.querySelector('.breadcrumbs');\n    // Breadcrumbs are not initially part of the nav, need to decorate the links\n    if (breadcrumbsElem) decorateLinks(breadcrumbsElem);\n    const { default: createBreadcrumbs } = await import('./features/breadcrumbs/breadcrumbs.js');\n    this.elements.breadcrumbsWrapper = await createBreadcrumbs(breadcrumbsElem);\n    return this.elements.breadcrumbsWrapper;\n  };\n\n  searchPresent = () => !!this.content.querySelector('.search');\n\n  decorateSearch = () => {\n    if (!this.searchPresent()) return null;\n\n    this.blocks.search.config.trigger = toFragment`\n      <button class=\"feds-search-trigger\" aria-label=\"Search\" aria-expanded=\"false\" aria-controls=\"feds-search-bar\" daa-ll=\"Search\">\n        ${this.blocks.search.config.icon}\n        <span class=\"feds-search-close\"></span>\n      </button>`;\n\n    this.elements.search = toFragment`\n      <div class=\"feds-search\">\n        ${this.blocks.search.config.trigger}\n      </div>`;\n\n    // Replace the aria-label value once placeholder is fetched\n    replaceKey('search', getFedsPlaceholderConfig()).then((placeholder) => {\n      if (placeholder && placeholder.length) {\n        this.blocks.search.config.trigger.setAttribute('aria-label', placeholder);\n      }\n    });\n\n    this.blocks.search.config.trigger.addEventListener('click', async () => {\n      await this.loadSearch();\n    });\n\n    return this.elements.search;\n  };\n}\n\nconst getSource = async () => {\n  const { locale, dynamicNavKey } = getConfig();\n  let url = getMetadata('gnav-source') || `${locale.contentRoot}/gnav`;\n  if (dynamicNavKey) {\n    const { default: dynamicNav } = await import('../../features/dynamic-navigation/dynamic-navigation.js');\n    url = dynamicNav(url, dynamicNavKey);\n  }\n  return url;\n};\n\nexport default async function init(block) {\n  const { mep } = getConfig();\n  const sourceUrl = await getSource();\n  const [url, hash = ''] = sourceUrl.split('#');\n  if (hash === '_noActiveItem') {\n    setDisableAEDState();\n  }\n  const content = await fetchAndProcessPlainHtml({ url });\n  if (!content) {\n    const error = new Error('Could not create global navigation. Content not found!');\n    error.tags = 'errorType=error,module=gnav';\n    error.url = url;\n    lanaLog({ message: error.message, error, tags: 'errorType=error,module=gnav' });\n    throw error;\n  }\n  const gnav = new Gnav({\n    content,\n    block,\n  });\n  await gnav.init();\n  block.setAttribute('daa-im', 'true');\n  const mepMartech = mep?.martech || '';\n  block.setAttribute('daa-lh', `gnav|${getExperienceName()}${mepMartech}`);\n  if (isDarkMode()) block.classList.add('feds--dark');\n  block.classList.add('ready');\n  return gnav;\n}\n"],
  "mappings": "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",
  "names": []
}
