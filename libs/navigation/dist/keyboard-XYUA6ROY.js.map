{
  "version": 3,
  "sources": ["../../blocks/global-navigation/utilities/keyboard/utils.js", "../../blocks/global-navigation/utilities/keyboard/popup.js", "../../blocks/global-navigation/utilities/keyboard/mobilePopup.js", "../../blocks/global-navigation/utilities/keyboard/mainNav.js", "../../blocks/global-navigation/utilities/keyboard/index.js"],
  "sourcesContent": ["import { selectors as baseSelectors } from '../utilities.js';\n\nconst selectors = {\n  ...baseSelectors,\n  globalFooter: '.global-footer',\n  mainNavItems:\n    '.feds-navItem > a, .feds-navItem > button, .feds-navItem > .feds-cta-wrapper > .feds-cta',\n  brand: '.feds-brand',\n  mainNavToggle: '.feds-toggle',\n  searchTrigger: '.feds-search-trigger',\n  searchField: '.feds-search-input',\n  signIn: '.feds-signIn',\n  signInDropdown: '.feds-signIn-dropdown',\n  profileButton: '.feds-profile-button, .feds-signIn',\n  logo: '.feds-logo',\n  profileMenu: '.feds-profile-menu',\n  profile: '.feds-profile',\n  breadCrumbItems: '.feds-breadcrumbs li > a',\n  expandedPopupTrigger: '.feds-navLink[aria-expanded = \"true\"]',\n  promoLink: '.feds-promo-link',\n  imagePromo: 'a.feds-promo-image',\n  fedsNav: '.feds-nav',\n  popup: '.feds-popup',\n  headline: '.feds-menu-headline',\n  section: '.feds-menu-section',\n  column: '.feds-menu-column:not(.feds-menu-column--group)',\n  cta: '.feds-cta',\n  openSearch: '.feds-search-trigger[aria-expanded = \"true\"]',\n  regionPicker: '.feds-regionPicker',\n  socialLink: '.feds-social-link',\n  privacyLink: '.feds-footer-privacyLink',\n  menuContent: '.feds-menu-content',\n};\n\nselectors.profileDropdown = `\n  ${selectors.signInDropdown} a[href],\n  ${selectors.signInDropdown} button:not([disabled]),\n  ${selectors.profileMenu} a[href],\n  ${selectors.profileMenu} button:not([disabled])\n`;\n\nselectors.popupItems = `\n  ${selectors.navLink},\n  ${selectors.promoLink},\n  ${selectors.imagePromo},\n  ${selectors.cta},\n  ${selectors.regionPicker},\n  ${selectors.socialLink},\n  ${selectors.privacyLink}\n`;\n\n// This method covers focusable elements only, so we aren\u2019t interested in SVGs for example.\nconst isElementVisible = (elem) => !!(\n  elem\n    && elem instanceof HTMLElement\n    && (elem.offsetWidth && elem.offsetHeight)\n    && window.getComputedStyle(elem).getPropertyValue('visibility') !== 'hidden'\n);\n\nconst getNextVisibleItemPosition = (position, items) => {\n  for (let newPosition = position + 1; newPosition < items.length; newPosition += 1) {\n    if (isElementVisible(items[newPosition])) return newPosition;\n  }\n  return -1;\n};\n\nconst getPreviousVisibleItemPosition = (position, items) => {\n  for (let newPosition = position - 1; newPosition >= 0; newPosition -= 1) {\n    if (isElementVisible(items[newPosition])) return newPosition;\n  }\n  return -1;\n};\n\nconst getOpenPopup = () => document.querySelector(selectors.expandedPopupTrigger)\n  ?.parentElement.querySelector(selectors.popup);\n\nexport {\n  isElementVisible,\n  getNextVisibleItemPosition,\n  getPreviousVisibleItemPosition,\n  selectors,\n  getOpenPopup,\n};\n", "/* eslint-disable class-methods-use-this */\nimport {\n  getNextVisibleItemPosition,\n  getPreviousVisibleItemPosition,\n  getOpenPopup,\n  selectors,\n} from './utils.js';\nimport { closeAllDropdowns, logErrorFor } from '../utilities.js';\n\nconst getState = ({ e, element } = {}) => {\n  if (!element) return {};\n  const popupItems = [...element.querySelectorAll(selectors.popupItems)];\n  const curr = popupItems.findIndex((el) => el === e.target);\n  const column = document.activeElement.closest(selectors.column);\n  const visibleColumns = [...element.querySelectorAll(selectors.column)];\n  const currentColumn = visibleColumns.findIndex((node) => node.isEqualNode(column));\n\n  return {\n    popupItems,\n    curr,\n    prev: getPreviousVisibleItemPosition(curr, popupItems),\n    next: getNextVisibleItemPosition(curr, popupItems),\n    prevColumn: visibleColumns[currentColumn - 1],\n    nextColumn: visibleColumns[currentColumn + 1],\n  };\n};\n\nclass Popup {\n  constructor({ mainNav }) {\n    this.mainNav = mainNav;\n    this.addEventListeners();\n    this.desktop = window.matchMedia('(min-width: 900px)');\n  }\n\n  open({ focus } = {}) {\n    const popupItems = [...(getOpenPopup()?.querySelectorAll(selectors.popupItems) || [])];\n    if (!popupItems.length) return;\n    const first = getNextVisibleItemPosition(-1, popupItems);\n    const last = getPreviousVisibleItemPosition(popupItems.length, popupItems);\n    if (focus === 'first') popupItems[first].focus();\n    if (focus === 'last') popupItems[last].focus();\n  }\n\n  focusMainNav = (isFooter) => {\n    if (isFooter) return; // There is no main nav for the footer, so we can ignore this\n    this.mainNav.focusCurr();\n  };\n\n  focusMainNavNext = (isFooter) => {\n    if (isFooter) return;\n    const { next } = this.mainNav.getState();\n    if (next >= 0) {\n      this.mainNav.focusNext();\n      this.mainNav.open();\n      return;\n    }\n\n    // On the last main nav item, close all dropdowns and focus current main nav item\n    closeAllDropdowns();\n    this.mainNav.focusCurr();\n  };\n\n  handleKeyDown = ({ e, element, isFooter }) => {\n    const { popupItems, prev, next, prevColumn, nextColumn } = getState({ e, element });\n\n    const shiftTabOutOfFooter = isFooter && e.code === 'Tab' && e.shiftKey && prev === -1;\n    const tabOutOfFooter = isFooter && e.code === 'Tab' && !e.shiftKey && next === -1;\n\n    if (tabOutOfFooter || shiftTabOutOfFooter) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    switch (e.code) {\n      case 'Tab': {\n        if (e.shiftKey) {\n          if (prev === -1) {\n            this.focusMainNav(isFooter);\n            break;\n          }\n          popupItems[prev].focus();\n        } else {\n          if (next === -1) {\n            this.focusMainNavNext(isFooter);\n            break;\n          }\n          popupItems[next].focus();\n        }\n\n        break;\n      }\n      case 'Escape': {\n        closeAllDropdowns();\n        this.focusMainNav(isFooter);\n        break;\n      }\n      case 'ArrowLeft': {\n        const noPrev = document.dir !== 'rtl' && !prevColumn?.querySelector(selectors.popupItems);\n        const noNext = document.dir === 'rtl' && !nextColumn?.querySelector(selectors.popupItems);\n        if (noPrev || noNext) {\n          this.focusMainNav(isFooter);\n          break;\n        }\n        if (document.dir !== 'rtl') {\n          prevColumn.querySelector(selectors.popupItems).focus();\n        } else {\n          nextColumn.querySelector(selectors.popupItems).focus();\n        }\n        break;\n      }\n      case 'ArrowUp': {\n        if (prev === -1) {\n          this.focusMainNav(isFooter);\n          break;\n        }\n        popupItems[prev].focus();\n        break;\n      }\n      case 'ArrowRight': {\n        const noNext = document.dir !== 'rtl' && !nextColumn?.querySelector(selectors.popupItems);\n        const noPrev = document.dir === 'rtl' && !prevColumn?.querySelector(selectors.popupItems);\n        if (noNext || noPrev) {\n          this.focusMainNav(isFooter);\n          break;\n        }\n        if (document.dir !== 'rtl') {\n          nextColumn.querySelector(selectors.popupItems).focus();\n        } else {\n          prevColumn.querySelector(selectors.popupItems).focus();\n        }\n        break;\n      }\n      case 'ArrowDown': {\n        if (next === -1) {\n          this.focusMainNavNext(isFooter);\n          break;\n        }\n        popupItems[next].focus();\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  addEventListeners = () => {\n    document.querySelector(selectors.globalNav)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        const element = getOpenPopup();\n        if (!e.target.closest(selectors.popup) || !element || !this.desktop.matches) return;\n        this.handleKeyDown({ e, element, isFooter: false });\n      }, `popup key failed ${e.code}`, 'errorType=error,module=gnav-keyboard'));\n\n    document.querySelector(selectors.globalFooter)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!this.desktop.matches) return;\n        const element = e.target.closest(selectors.globalFooter);\n        this.handleKeyDown({ e, element, isFooter: true });\n      }, `footer key failed ${e.code}`, 'errorType=error,module=gnav-keyboard'));\n  };\n}\n\nexport default Popup;\n", "/* eslint-disable class-methods-use-this */\nimport {\n  getNextVisibleItemPosition,\n  getPreviousVisibleItemPosition,\n  isElementVisible,\n  getOpenPopup,\n  selectors,\n} from './utils.js';\nimport { closeAllDropdowns, logErrorFor, setActiveDropdown } from '../utilities.js';\n\nconst closeHeadlines = () => {\n  const open = [...document.querySelectorAll(`${selectors.headline}[aria-expanded=\"true\"]`)];\n  open.forEach((el) => el.setAttribute('aria-expanded', 'false'));\n  // Shift active class back to the parent of the first closed headline\n  setActiveDropdown(open[0]);\n};\n\nconst openHeadline = ({ headline, focus } = {}) => {\n  closeHeadlines();\n  if (headline.getAttribute('aria-haspopup') === 'true') {\n    headline.setAttribute('aria-expanded', 'true');\n    setActiveDropdown(headline);\n    const section = headline.closest(selectors.section)\n      || headline.closest(selectors.column);\n    const items = [...section.querySelectorAll(selectors.popupItems)]\n      .filter((el) => isElementVisible(el));\n    if (focus === 'first') items[0].focus();\n    if (focus === 'last') items[items.length - 1].focus();\n  }\n};\n\nconst getState = (element = getOpenPopup()) => {\n  if (!element) return { popupItems: [] };\n  const popupItems = [...element.querySelectorAll(selectors.popupItems)];\n  // In the markup either a section OR column can contain a expandable headline\n  // which is what we are interested in - so we can treat them both as sections.\n  const section = document.activeElement.closest(selectors.section)\n    || document.activeElement.closest(selectors.column);\n  let allSections = [...element.querySelectorAll(selectors.section)];\n  if (!allSections.length) allSections = [...element.querySelectorAll(selectors.column)];\n  const visibleSections = allSections.filter((el) => isElementVisible(el));\n  const currentSection = visibleSections.findIndex((node) => node.isEqualNode(section));\n  const firstHeadline = visibleSections[0]?.querySelector(selectors.headline);\n  const lastHeadline = visibleSections[visibleSections.length - 1]\n    ?.querySelector(selectors.headline);\n  const prevHeadline = visibleSections[currentSection - 1]\n    ?.querySelector(selectors.headline);\n  const nextHeadline = visibleSections[currentSection + 1]\n    ?.querySelector(selectors.headline);\n  return {\n    visibleSections,\n    currentSection,\n    firstHeadline,\n    lastHeadline,\n    prevHeadline,\n    nextHeadline,\n    popupItems,\n  };\n};\n\nclass Popup {\n  constructor({ mainNav }) {\n    this.mainNav = mainNav;\n    this.addEventListeners();\n    this.desktop = window.matchMedia('(min-width: 900px)');\n  }\n\n  open({ focus } = {}) {\n    const { firstHeadline, lastHeadline, popupItems } = getState();\n    if (!popupItems.length) return;\n\n    const headline = focus === 'last' ? lastHeadline : firstHeadline;\n\n    if (headline && headline.getAttribute('aria-haspopup') === 'true') {\n      closeHeadlines();\n      headline.setAttribute('aria-expanded', 'true');\n    }\n\n    const first = getNextVisibleItemPosition(-1, popupItems);\n    const last = getPreviousVisibleItemPosition(popupItems.length, popupItems);\n    if (focus === 'first') popupItems[first].focus();\n    if (focus === 'last') popupItems[last].focus();\n    setActiveDropdown(focus === 'first' ? popupItems[first] : popupItems[last]);\n  }\n\n  mobileArrowUp = ({ prev, curr, element, isFooter }) => {\n    // Case 1:  Move focus to the previous item\n    if (prev !== -1 && curr - 1 === prev) {\n      const { currentSection, popupItems } = getState(element);\n      popupItems[prev].focus();\n      if (currentSection !== getState(element).currentSection) closeHeadlines();\n      return;\n    }\n\n    // Case 2: No headline + no previous item, move to the main nav\n    const { prevHeadline } = getState(element);\n    if (!prevHeadline) {\n      this.focusMainNav(isFooter);\n      return;\n    }\n\n    // Case 3: Open the previous headline\n    openHeadline({ headline: prevHeadline, focus: 'last' });\n  };\n\n  mobileArrowDown = ({ next, element, isFooter }) => {\n    // Case 1: Move focus to the next item\n    if (next !== -1) {\n      const { currentSection, popupItems } = getState(element);\n      popupItems[next].focus();\n      if (currentSection !== getState(element).currentSection) closeHeadlines();\n      return;\n    }\n    // Case 2: No headline + no next item, move to the main nav\n    const { nextHeadline } = getState(element);\n    if (!nextHeadline) {\n      closeHeadlines();\n      this.focusMainNavNext(isFooter);\n      return;\n    }\n\n    // Case 3: Open the next headline\n    openHeadline({ headline: nextHeadline, focus: 'first' });\n  };\n\n  focusMainNav = (isFooter) => {\n    if (isFooter) return;\n    this.mainNav.focusCurr();\n  };\n\n  focusMainNavNext = (isFooter) => {\n    if (isFooter) return;\n    this.mainNav.focusNext();\n    this.mainNav.open();\n  };\n\n  handleKeyDown = ({ e, element, isFooter }) => {\n    const popupItems = [...element.querySelectorAll(selectors.popupItems)];\n    const curr = popupItems.findIndex((el) => el === e.target);\n    const prev = getPreviousVisibleItemPosition(curr, popupItems);\n    const next = getNextVisibleItemPosition(curr, popupItems);\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    switch (e.code) {\n      case 'Tab': {\n        if (e.shiftKey) {\n          this.mobileArrowUp({ prev, curr, element, isFooter });\n        } else {\n          this.mobileArrowDown({ curr, next, element, isFooter });\n        }\n        break;\n      }\n      case 'Escape': {\n        closeAllDropdowns();\n        this.focusMainNav(isFooter);\n        break;\n      }\n      case 'ArrowLeft': {\n        const { prevHeadline, nextHeadline } = getState(element);\n        const headline = document.dir !== 'rtl' ? prevHeadline : nextHeadline;\n        if (!headline) {\n          if (!isFooter) closeHeadlines();\n          if (document.dir !== 'rtl') {\n            this.focusMainNav(isFooter);\n          } else {\n            this.focusMainNavNext(isFooter);\n          }\n          break;\n        }\n        openHeadline({ headline, focus: 'first' });\n        break;\n      }\n      case 'ArrowUp': {\n        this.mobileArrowUp({ prev, curr, element, isFooter });\n        break;\n      }\n      case 'ArrowRight': {\n        const { prevHeadline, nextHeadline } = getState(element);\n        const headline = document.dir !== 'rtl' ? nextHeadline : prevHeadline;\n        if (!headline) {\n          if (!isFooter) closeHeadlines();\n          if (document.dir !== 'rtl') {\n            this.focusMainNavNext(isFooter);\n          } else {\n            this.focusMainNav(isFooter);\n          }\n          break;\n        }\n        openHeadline({ headline, focus: 'first' });\n        break;\n      }\n      case 'ArrowDown': {\n        this.mobileArrowDown({ next, element, isFooter });\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  addEventListeners = () => {\n    document.querySelector(selectors.globalNav)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        const element = getOpenPopup();\n        if (!e.target.closest(selectors.popup) || !element || this.desktop.matches) return;\n        this.handleKeyDown({ e, element, popupEl: element, isFooter: false });\n      }, `popup key failed ${e.code}`, 'errorType=error,module=gnav-keyboard'));\n\n    document.querySelector(selectors.globalFooter)\n      ?.addEventListener('keydown', (e) => logErrorFor(() => {\n        const element = e.target.closest(selectors.menuContent);\n        if (!element || this.desktop.matches) return;\n\n        const firstNavLink = element.querySelector(selectors.popupItems);\n        const firstHeadline = element.querySelector(selectors.headline);\n        const isFirstNavlink = e.target === firstNavLink;\n        const isFirstHeadline = e.target === firstHeadline;\n        const shiftTabOutOfFooter = e.shiftKey && (isFirstNavlink || isFirstHeadline);\n        if (shiftTabOutOfFooter) return;\n\n        // special case, the first dropdown needs some special logic to allow opening.\n        if (e.target.closest(selectors.headline)) {\n          openHeadline({ headline: e.target.closest(selectors.headline), focus: 'first' });\n          e.preventDefault();\n          e.stopPropagation();\n          return;\n        }\n\n        this.handleKeyDown({\n          e,\n          element,\n          isFooter: true,\n        });\n      }, `footer key failed ${e.code}`, 'errorType=error,module=gnav-keyboard'));\n  };\n}\n\nexport default Popup;\n", "/* eslint-disable class-methods-use-this */\nimport { selectors, getNextVisibleItemPosition, getPreviousVisibleItemPosition } from './utils.js';\nimport Popup from './popup.js';\nimport MobilePopup from './mobilePopup.js';\nimport { closeAllDropdowns, trigger, logErrorFor } from '../utilities.js';\n\nclass MainNavItem {\n  constructor() {\n    this.desktop = window.matchMedia('(min-width: 900px)');\n    this.popup = new Popup({ mainNav: this });\n    this.mobilePopup = new MobilePopup({ mainNav: this });\n    this.addEventListeners();\n  }\n\n  addEventListeners() {\n    document.querySelector(selectors.globalNav)\n      .addEventListener('keydown', (e) => logErrorFor(() => {\n        if (!e.target.closest(selectors.fedsNav) || e.target.closest(selectors.popup)) {\n          return;\n        }\n\n        switch (e.code) {\n          case 'Tab': {\n            if (e.shiftKey) {\n              const { prev, openTrigger } = this.getState();\n              if (openTrigger) {\n                if (prev === -1) {\n                  closeAllDropdowns();\n                } else {\n                  e.preventDefault();\n                  this.focusPrev({ focus: 'last' });\n                }\n              }\n            }\n            break;\n          }\n          case 'Escape': {\n            closeAllDropdowns();\n            break;\n          }\n          case 'ArrowLeft': {\n            const { next, prev } = this.getState();\n            if (document.dir !== 'rtl') {\n              if (prev === -1) break;\n              this.focusPrev({ focus: null });\n            } else {\n              if (next === -1) break;\n              this.focusNext({ focus: null });\n            }\n            break;\n          }\n          case 'ArrowUp': {\n            e.preventDefault();\n            e.stopPropagation();\n            this.focusPrev({ focus: 'last' });\n            break;\n          }\n          case 'ArrowRight': {\n            const { next, prev, openTrigger } = this.getState();\n            if (document.dir !== 'rtl') {\n              if (next === -1) break;\n              this.focusNext();\n            } else {\n              if (prev === -1) break;\n              this.focusPrev({ focus: null });\n            }\n            if (openTrigger) {\n              this.open();\n            }\n            break;\n          }\n          case 'ArrowDown': {\n            e.stopPropagation();\n            e.preventDefault();\n            const { items, curr } = this.getState();\n            if (items[curr] && items[curr].hasAttribute('aria-haspopup')) {\n              this.open({ focus: 'first' });\n              return;\n            }\n            this.focusNext();\n            break;\n          }\n          default:\n            break;\n        }\n      }, `mainNav key failed ${e.code}`, 'errorType=error,module=gnav-keyboard'));\n  }\n\n  getState = () => {\n    const items = [...document.querySelectorAll(selectors.mainNavItems)];\n    const openTrigger = document.querySelector(selectors.expandedPopupTrigger);\n    const currentEl = document.activeElement\n      .closest(selectors.navItem)\n      ?.querySelector(selectors.mainNavItems);\n    const curr = items.findIndex((el) => el === currentEl);\n    return {\n      items,\n      curr,\n      prev: getPreviousVisibleItemPosition(curr, items),\n      next: getNextVisibleItemPosition(curr, items),\n      openTrigger,\n    };\n  };\n\n  focusCurr = () => {\n    const { items, curr } = this.getState();\n    items[curr].focus();\n  };\n\n  focusPrev = ({ focus } = {}) => {\n    const { items, prev } = this.getState();\n    const open = document.querySelector(selectors.expandedPopupTrigger);\n    closeAllDropdowns();\n    if (prev === -1) return;\n    items[prev].focus();\n    if (open) {\n      this.open({ focus });\n    }\n  };\n\n  focusNext = () => {\n    const { items, next } = this.getState();\n    if (next === -1) return;\n    closeAllDropdowns();\n    items[next].focus();\n  };\n\n  open = ({ focus, triggerEl, e } = {}) => {\n    const { items, curr } = this.getState();\n    const triggerElement = triggerEl || items[curr];\n    if (!triggerElement || !triggerElement.hasAttribute('aria-haspopup')) return;\n    if (e) e.preventDefault();\n    if (triggerElement.getAttribute('aria-expanded') === 'false') {\n      trigger({ element: triggerElement });\n    }\n    const navItem = triggerElement.parentElement;\n    const popupEl = navItem.querySelector(selectors.popup);\n    if (popupEl) {\n      if (this.desktop.matches) {\n        this.popup.open({ focus });\n      } else {\n        this.mobilePopup.open({ focus });\n      }\n      return;\n    }\n\n    // We need to wait for the popup to be added to the DOM before we can open it.\n    const observer = new MutationObserver(() => {\n      observer.disconnect();\n      if (this.desktop.matches) {\n        this.popup.open({ focus });\n      } else {\n        this.mobilePopup.open({ focus });\n      }\n    });\n    observer.observe(navItem, { childList: true });\n  };\n}\n\nexport default MainNavItem;\n", "/* eslint-disable class-methods-use-this */\nimport { getNextVisibleItemPosition, getPreviousVisibleItemPosition, selectors } from './utils.js';\nimport MainNav from './mainNav.js';\nimport { closeAllDropdowns, lanaLog, logErrorFor } from '../utilities.js';\n\nconst cycleOnOpenSearch = ({ e, isDesktop }) => {\n  const withoutBreadcrumbs = [\n    ...document.querySelectorAll(`\n      ${selectors.brand},\n      ${selectors.mainNavToggle},\n      ${selectors.mainNavItems},\n      ${selectors.searchTrigger},\n      ${selectors.searchField},\n      ${selectors.signIn},\n      ${selectors.profileButton},\n      ${selectors.logo}\n  `),\n  ];\n  const first = getNextVisibleItemPosition(-1, withoutBreadcrumbs);\n  const last = getPreviousVisibleItemPosition(withoutBreadcrumbs.length, withoutBreadcrumbs);\n  const openSearch = isDesktop && document.querySelector(selectors.openSearch);\n  if (openSearch && document.activeElement === withoutBreadcrumbs[e.shiftKey ? first : last]) {\n    e.preventDefault();\n    withoutBreadcrumbs[e.shiftKey ? last : first].focus();\n  }\n};\n\nconst openProfile = ({ e, el }) => {\n  const button = e.target.closest(`${selectors.signIn}, ${selectors.profileButton}`);\n  if (button?.getAttribute('aria-expanded') === 'false') {\n    e.target.click();\n    el.querySelector(selectors.profileDropdown)?.focus();\n    return true;\n  }\n  return false;\n};\n\nconst getProfileItems = ({ e }) => {\n  const profileDropdownLinks = document.querySelectorAll(selectors.profileDropdown);\n  if (!profileDropdownLinks.length) return { next: -1, prev: -1, items: [] };\n  const items = [...profileDropdownLinks];\n  const curr = items.findIndex((element) => element === e.target);\n  return { next: curr + 1, prev: curr - 1, curr, items };\n};\n\nconst closeProfile = () => {\n  closeAllDropdowns();\n  document.querySelector(`${selectors.profileButton}, ${selectors.signIn}`)?.focus();\n};\n\nconst focusNextProfileItem = ({ e }) => {\n  const { items, next } = getProfileItems({ e });\n  if (items[next]) {\n    items[next].focus();\n    return;\n  }\n\n  e.preventDefault();\n  e.stopPropagation();\n  closeProfile();\n};\n\nconst focusPrevProfileItem = ({ e }) => {\n  const { items, prev } = getProfileItems({ e });\n  if (items[prev]) {\n    items[prev].focus();\n    return;\n  }\n\n  e.preventDefault();\n  e.stopPropagation();\n  closeProfile();\n};\n\nclass KeyboardNavigation {\n  constructor() {\n    try {\n      this.addEventListeners();\n      this.mainNav = new MainNav();\n      this.desktop = window.matchMedia('(min-width: 900px)');\n    } catch (e) {\n      lanaLog({ message: 'Keyboard Navigation failed to load', e, tags: 'errorType=error,module=gnav-keyboard' });\n    }\n  }\n\n  addEventListeners = () => {\n    [...document.querySelectorAll(`${selectors.globalNav}, ${selectors.globalFooter}`)]\n      .forEach((el) => {\n        el.addEventListener('keydown', (e) => logErrorFor(() => {\n          switch (e.code) {\n            case 'Tab': {\n              cycleOnOpenSearch({ e, isDesktop: this.desktop.matches });\n              const { items } = getProfileItems({ e });\n\n              const profileBtn = e.target.closest(`${selectors.signIn}, ${selectors.profileButton}`);\n              if (e.shiftKey && e.target === profileBtn) closeProfile();\n              if (items[items.length - 1] === e.target) {\n                e.preventDefault();\n                e.stopPropagation();\n                closeProfile();\n              }\n              break;\n            }\n            case 'Enter':\n            case 'Space': {\n              if (e.target.closest(selectors.searchField)) return;\n              e.stopPropagation();\n              e.preventDefault();\n              e.target.click();\n              break;\n            }\n            case 'ArrowDown': {\n              if (e.target.closest(selectors.profile)) {\n                if (openProfile({ e, el })) break;\n                focusNextProfileItem({ e });\n              }\n              break;\n            }\n            case 'ArrowUp': {\n              if (e.target.closest(selectors.profile)) {\n                focusPrevProfileItem({ e });\n              }\n              break;\n            }\n            default:\n              break;\n          }\n        }, `KeyboardNavigation index failed. ${e.code}`, 'errorType=error,module=gnav-keyboard'));\n      });\n  };\n}\n\nexport default KeyboardNavigation;\n"],
  "mappings": "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",
  "names": ["selectors", "selectors", "selectors", "getState", "Popup", "selectors", "selectors"]
}
