{
  "version": 3,
  "sources": ["../../blocks/global-navigation/features/aside/aside.js"],
  "sourcesContent": ["import { loadBlock, decorateAutoBlock } from '../../../../utils/utils.js';\nimport { toFragment, lanaLog } from '../../utilities/utilities.js';\nimport { processTrackingLabels } from '../../../../martech/attributes.js';\n\nexport default async function decorateAside({ headerElem, promoPath } = {}) {\n  const onError = () => {\n    headerElem?.classList.remove('has-promo');\n    lanaLog({ message: 'Gnav Promo fragment not replaced, potential CLS' });\n    return '';\n  };\n\n  const fragLink = toFragment`<a href=\"${promoPath}\">${promoPath}</a>`;\n  const fragTemplate = toFragment`<div>${fragLink}</div>`;\n  decorateAutoBlock(fragLink);\n  if (!fragLink.classList.contains('fragment')) return onError();\n  await loadBlock(fragLink).catch(() => onError());\n  const aside = fragTemplate.querySelector('.aside');\n  if (fragTemplate.contains(fragLink) || !aside) return onError();\n\n  aside.removeAttribute('data-block');\n  aside.setAttribute('daa-lh', 'Promo');\n\n  aside.querySelectorAll('a').forEach((link, index) => {\n    link.setAttribute('daa-ll', `${processTrackingLabels(link.textContent)}--${index + 1}`);\n  });\n\n  return aside;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAIA,eAAO,cAAqC,EAAE,YAAY,UAAU,IAAI,CAAC,GAAG;AAC1E,QAAM,UAAU,MAAM;AACpB,gBAAY,UAAU,OAAO,WAAW;AACxC,YAAQ,EAAE,SAAS,kDAAkD,CAAC;AACtE,WAAO;AAAA,EACT;AAEA,QAAM,WAAW,sBAAsB,SAAS,KAAK,SAAS;AAC9D,QAAM,eAAe,kBAAkB,QAAQ;AAC/C,oBAAkB,QAAQ;AAC1B,MAAI,CAAC,SAAS,UAAU,SAAS,UAAU,EAAG,QAAO,QAAQ;AAC7D,QAAM,UAAU,QAAQ,EAAE,MAAM,MAAM,QAAQ,CAAC;AAC/C,QAAM,QAAQ,aAAa,cAAc,QAAQ;AACjD,MAAI,aAAa,SAAS,QAAQ,KAAK,CAAC,MAAO,QAAO,QAAQ;AAE9D,QAAM,gBAAgB,YAAY;AAClC,QAAM,aAAa,UAAU,OAAO;AAEpC,QAAM,iBAAiB,GAAG,EAAE,QAAQ,CAAC,MAAM,UAAU;AACnD,SAAK,aAAa,UAAU,GAAG,sBAAsB,KAAK,WAAW,CAAC,KAAK,QAAQ,CAAC,EAAE;AAAA,EACxF,CAAC;AAED,SAAO;AACT;",
  "names": []
}
