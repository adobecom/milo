
> @adobecom/milo@1.0.0 test
> wtr --config ./web-test-runner.config.mjs "./test/**/*.test.(js|html)" --node-resolve --port=2000 --coverage --concurrent-browsers 4


Chrome: |‚ñà‚ñà‚ñè                           | 0/82 test files | 0 passed, 0 failed

Running tests...

Running 82 test files...


[2K[1A[2K[Gtest/utils/lana.test.js:

 üöß Browser logs:
      An error was thrown in a Promise outside a test. Did you forget to await a function or assertion?
      Promise Rejection
      An error was thrown in a Promise outside a test. Did you forget to await a function or assertion?
      [90mundefined[39m
      LANA Msg:  Test debug log message 
      Opts: {
        clientId: [32m'debugClientId'[39m,
        endpoint: [32m'https://lana.adobeio.com/'[39m,
        endpointStage: [32m'https://www.stage.adobe.com/lana/ll'[39m,
        errorType: [32m'e'[39m,
        sampleRate: [33m100[39m,
        tags: [32m''[39m,
        implicitSampleRate: [33m100[39m,
        useProd: [33mtrue[39m
      }
      LANA response: client=debugClientId,type=e,sample=1,user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36,referer=undefined,ip=23.56.175.228,message=Test debug log message
      LANA Msg:  Test localhost log message 
      Opts: {
        clientId: [32m'testClientId'[39m,
        endpoint: [32m'https://lana.adobeio.com/'[39m,
        endpointStage: [32m'https://www.stage.adobe.com/lana/ll'[39m,
        errorType: [32m'e'[39m,
        sampleRate: [33m100[39m,
        tags: [32m''[39m,
        implicitSampleRate: [33m100[39m,
        useProd: [33mtrue[39m
      }
      LANA ClientID is not set in options.


[2K[1A[2K[GError while generating code coverage for https://use.typekit.net/hah7vzn.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/hah7vzn.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/hah7vzn.js'[39m
}

[2K[1A[2K[Gtest/utils/getUuid.test.js:

 üöß 404 network requests:
    - undefined/ui/controls/accordion.css
    - undefined/ui/controls/tagSelector.css
    - undefined/ui/controls/multifield.css


[2K[1A[2K[GError while generating code coverage for https://www.adobe.com/marketingtech/main.standard.min.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/marketingtech/main.standard.min.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/marketingtech/main.standard.min.js'[39m
}

[2K[1A[2K[Gtest/utils/samplerum.test.js:

 üöß Browser logs:
      ping:test { foo: [32m'bar'[39m }
      ping:cwv { foo: [32m'bar'[39m }


[2K[1A[2K[Gtest/scripts/scripts.test.js:

 üöß Browser logs:
      Failed loading hero TypeError: Failed to fetch dynamically imported module: http://localhost:2000/libs/blocks/hero/hero.js
      Failed loading hero TypeError: Failed to fetch dynamically imported module: http://localhost:2000/libs/blocks/hero/hero.js
      LANA Msg:  test 
      Opts: {
        clientId: [32m'myclient'[39m,
        endpoint: [32m'https://www.adobe.com/lana/ll'[39m,
        endpointStage: [32m'https://www.stage.adobe.com/lana/ll'[39m,
        errorType: [32m'e'[39m,
        sampleRate: [33m0[39m,
        tags: [32m''[39m,
        implicitSampleRate: [33m1[39m,
        useProd: [33mtrue[39m
      }
      LANA Msg:  test2 
      Opts: {
        clientId: [32m'myclient'[39m,
        endpoint: [32m'https://www.adobe.com/lana/ll'[39m,
        endpointStage: [32m'https://www.stage.adobe.com/lana/ll'[39m,
        errorType: [32m'e'[39m,
        sampleRate: [33m0[39m,
        tags: [32m''[39m,
        implicitSampleRate: [33m1[39m,
        useProd: [33mtrue[39m
      }

 üöß 404 network requests:
    - test/mocks/media_.png
    - libs/blocks/hero/hero.css
    - libs/blocks/hero/hero.js


[2K[1A[2K[Gtest/blocks/aside/aside.test.js:

 üöß 404 network requests:
    - media_1c93cf2bdf612f082bbf51805ddb83ffbba17fbd1.jpeg?width=2000&format=webply&optimize=medium


[2K[1A[2K[GError while generating code coverage for https://www.adobe.com/etc.clientlibs/globalnav/clientlibs/base/privacy-standalone.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/etc.clientlibs/globalnav/clientlibs/base/privacy-standalone.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/etc.clientlibs/globalnav/clientlibs/base/privacy-standalone.js'[39m
}

[2K[1A[2K[Gtest/blocks/author-header/author-header.test.js:

 üöß 404 network requests:
    - media_109b289ba2841014b405e8cda9dbeb3e6f7471201.jpeg?width=2000&format=webply&optimize=medium


[2K[1A[2K[Gtest/blocks/caas/utils.test.js:

 üöß Browser logs:
      ***
      fr
      ***


[2K[1A[2K[Gtest/blocks/caas/caas.test.html:

 üöß Browser logs:
      ***
      


[2K[1A[2K[GError while generating code coverage for https://www.adobe.com/marketingtech/main.standard.min.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/marketingtech/main.standard.min.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/marketingtech/main.standard.min.js'[39m
}

[2K[1A[2K[GError while generating code coverage for https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.min.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.min.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.min.js'[39m
}

[2K[1A[2K[GError while generating code coverage for https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/be543aee3765/RCe38272911c514ec78e73daaa0928bd90-file.min.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/d4d114c60e50/a0e989131fd5/be543aee3765/RCe38272911c514ec78e73daaa0928bd90-file.min.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/d4d114c60e50/a0e989131fd5/be543aee3765/RCe38272911c514ec78e73daaa0928bd90-file.min.js'[39m
}

[2K[1A[2K[Gtest/utils/utils.test.js:

 üöß Browser logs:
      InvalidCharacterError: Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.
        at b64ToUtf8 (libs/utils/utils.js:697:68)
        at Object.parseEncodedConfig (libs/utils/utils.js:701:23)
        at qy.<anonymous> (test/utils/utils.test.js:139:11)
      Failed to load svg. Failed to construct 'URL': Invalid URL
      Failed loading hero TypeError: Failed to fetch dynamically imported module: http://localhost:2000/libs/blocks/hero/hero.js
      Failed loading hero TypeError: Failed to fetch dynamically imported module: http://localhost:2000/libs/blocks/hero/hero.js
      Failed loading breadcrumbs TypeError: Failed to fetch dynamically imported module: http://localhost:2000/libs/blocks/breadcrumbs/breadcrumbs.js
      Could not get fragment
      Could not get fragment
      Could not get fragment
      failed to load module for template-sidebar TypeError: Failed to fetch dynamically imported module: http://localhost:2000/libs/templates/template-sidebar/template-sidebar.js
      Invalid or missing locale: TypeError: First argument to Intl.Locale constructor can't be empty or missing
        at new Locale (<anonymous>)
        at Object.setConfig (libs/utils/utils.js:145:55)
        at setConfigWithPath (test/utils/utils.test.js:217:13)
        at o.<anonymous> (test/utils/utils.test.js:233:7)

 üöß 404 network requests:
    - test/utils/mocks/error.js
    - keywords.json?limit=1000
    - placeholders.json
    - libs/blocks/breadcrumbs/breadcrumbs.css
    - libs/blocks/breadcrumbs/breadcrumbs.js
    - libs/templates/template-sidebar/template-sidebar.css
    - libs/templates/template-sidebar/template-sidebar.js


[2K[1A[2K[Gtest/blocks/card/card.test.js:

 üöß 404 network requests:
    - undefined/deps/caas.css
    - media_12a6837d8a5cdf59dafcc02afe4e3f2e7cbbaa990.jpeg?width=750&format=jpeg&optimize=medium
    - media_12a6837d8a5cdf59dafcc02afe4e3f2e7cbbaa990.jpeg?width=2000&format=webply&optimize=medium


[2K[1A[2K[Gtest/blocks/carousel/carousel.test.js:

 üöß 404 network requests:
    - media_17eeae49074a795a261f1f6cfe1189cfd9324b5f8.jpeg?width=2000&format=webply&optimize=medium
    - media_1dd6205cf85514586cdd62ee1f6f8b2688966ae58.jpeg?width=2000&format=webply&optimize=medium
    - undefined/blocks/carousel/img/arrow.svg
    - undefined/blocks/carousel/img/expand.svg
    - undefined/blocks/carousel/img/close.svg


[2K[1A[2K[GError while generating code coverage for https://www.youtube.com/s/player/11e3a4ec/www-embed-player.vflset/www-embed-player.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/s/player/11e3a4ec/www-embed-player.vflset/www-embed-player.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/s/player/11e3a4ec/www-embed-player.vflset/www-embed-player.js'[39m
}

[2K[1A[2K[Gtest/blocks/chart/list.test.js:

 üöß Browser logs:
      List chart error: Add table sheet

 üöß 404 network requests:
    - undefined/blocks/chart/list.css
    - image.png


[2K[1A[2K[Gtest/blocks/faas/faas-modal.test.js:

 üöß Browser logs:
      Demandbase enabled true Full


[2K[1A[2K[Gtest/blocks/chart/chart.test.js:

 üöß Browser logs:
      An error was thrown in a Promise outside a test. Did you forget to await a function or assertion?
      TypeError: Cannot read properties of undefined (reading 'ok')
        at libs/features/placeholders.js:9:21
      An error was thrown in a Promise outside a test. Did you forget to await a function or assertion?
      TypeError: Cannot read properties of undefined (reading 'ok')
        at libs/features/placeholders.js:9:21
      An error was thrown in a Promise outside a test. Did you forget to await a function or assertion?
      TypeError: Cannot read properties of undefined (reading 'ok')
        at libs/features/placeholders.js:9:21
      An error was thrown in a Promise outside a test. Did you forget to await a function or assertion?
      TypeError: Cannot read properties of undefined (reading 'ok')
        at libs/features/placeholders.js:9:21


[2K[1A[2K[Gtest/blocks/featured-article/featured-article.test.js:

 üöß Browser logs:
      Could not retrieve metadata for /test/blocks/featured-article/mocks/bad-request.html

 üöß 404 network requests:
    - media_1cd7a8c416aaff1e70d71679b74441e46c4c545f3.png?width=2000&format=webply&optimize=medium
    - test/blocks/featured-article/mocks/bad-request.html


[2K[1A[2K[Gtest/blocks/faas/utils.test.js:

 üöß Browser logs:
      Channel Subtype Full : undefined
      Form Subtype Full : 2847
      clearbit enabled true Full
      Demandbase enabled true Full
      HTMLAnchorElement: <a></a>


[2K[1A[2K[Gtest/blocks/figure/figure.test.js:

 üöß Browser logs:
      <main>
        <!-- #0 -->
        <div class="section">
          <div class="figure">
            <div>
              <div>
                <p>
                  <picture>
                    <source type="image/webp" srcset="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=2000&amp;format=webply&amp;optimize=medium" media="(min-width: 400px)">
                    <source type="image/webp" srcset="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=750&amp;format=webply&amp;optimize=medium">
                    <source type="image/png" srcset="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=2000&amp;format=png&amp;optimize=medium" media="(min-width: 400px)">
                    <img loading="eager" alt="Still from 'New York Minute'" type="image/png" src="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=750&amp;format=png&amp;optimize=medium" width="1600" height="1067">
                  </picture>
                </p>
                <p><em>caption</em></p>
              </div>
            </div>
          </div>
        </div>
        <!-- #1 -->
        <div class="section">
          <div class="figure">
            <div>
              <div>
                <p>
                  <picture>
                    <source type="image/webp" srcset="./media_1fc468ed24da9dc2b5dabcc47503bbbfc6fdf4bbd.jpeg?width=2000&amp;format=webply&amp;optimize=medium" media="(min-width: 400px)">
                    <source type="image/webp" srcset="./media_1fc468ed24da9dc2b5dabcc47503bbbfc6fdf4bbd.jpeg?width=750&amp;format=webply&amp;optimize=medium">
                    <source type="image/jpeg" srcset="./media_1fc468ed24da9dc2b5dabcc47503bbbfc6fdf4bbd.jpeg?width=2000&amp;format=jpeg&amp;optimize=medium" media="(min-width: 400px)">
                    <img loading="lazy" alt="" type="image/jpeg" src="./media_1fc468ed24da9dc2b5dabcc47503bbbfc6fdf4bbd.jpeg?width=750&amp;format=jpeg&amp;optimize=medium" width="750" height="329">
                  </picture>
                </p>
                <p><em>Lorem ipsum</em></p>
              </div>
            </div>
            <div>
              <div>
                <p>
                  <video>
                    <source type="image/webp" srcset="./media_1bf5438483174f23cfe8f7084f53b086358555804.jpeg?width=2000&amp;format=webply&amp;optimize=medium" media="(min-width: 400px)">
                    <source type="image/webp" srcset="./media_1bf5438483174f23cfe8f7084f53b086358555804.jpeg?width=750&amp;format=webply&amp;optimize=medium">
                    <source type="image/jpeg" srcset="./media_1bf5438483174f23cfe8f7084f53b086358555804.jpeg?width=2000&amp;format=jpeg&amp;optimize=medium" media="(min-width: 400px)">
                    <img loading="lazy" alt="" type="image/jpeg" src="./media_1bf5438483174f23cfe8f7084f53b086358555804.jpeg?width=750&amp;format=jpeg&amp;optimize=medium" width="2000" height="876">
                  </video>
                </p>
                <p><em>caption</em></p>
              </div>
            </div>
          </div>
        </div>
        <!-- #2 -->
        <div class="section">
          <div class="figure">
            <div>
              <div>
                <picture>
                  <source type="image/webp" srcset="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=2000&amp;format=webply&amp;optimize=medium" media="(min-width: 400px)">
                  <source type="image/webp" srcset="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=750&amp;format=webply&amp;optimize=medium">
                  <source type="image/png" srcset="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=2000&amp;format=png&amp;optimize=medium" media="(min-width: 400px)">
                  <img loading="eager" alt="Still from 'New York Minute'" type="image/png" src="./media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=750&amp;format=png&amp;optimize=medium" width="1600" height="1067">
                </picture>
              </div>
            </div>
          </div>
        </div>
      
        <!-- #3 -->
        <div class="section">
          <div class="figure">
            <!-- picture link -->
            <div>
              <div>
                <p>
                  <picture>
                    <source type="image/webp" srcset="./media_17d21c4a94b2d3e08b3b3b6aa999fbabdb72bdcdb.jpeg?width=2000&amp;format=webply&amp;optimize=medium" media="(min-width: 400px)">
                    <source type="image/webp" srcset="./media_17d21c4a94b2d3e08b3b3b6aa999fbabdb72bdcdb.jpeg?width=750&amp;format=webply&amp;optimize=medium">
                    <source type="image/jpeg" srcset="./media_17d21c4a94b2d3e08b3b3b6aa999fbabdb72bdcdb.jpeg?width=2000&amp;format=jpeg&amp;optimize=medium" media="(min-width: 400px)">
                    <img loading="lazy" alt="" type="image/jpeg" src="./media_17d21c4a94b2d3e08b3b3b6aa999fbabdb72bdcdb.jpeg?width=750&amp;format=jpeg&amp;optimize=medium" width="2000" height="876">
                  </picture>
                </p>
                <p><a href="https://blog.adobe.com/en/publish/2022/12/07/kah-milah-ledgester-breathes-life-into-award-winning-art-with-adobe-creative-cloud">https://blog.adobe.com/en/publish/2022/12/07/kah-milah-ledgester-breathes-life-into-award-winning-art-with-adobe-creative-cloud</a></p>
              </div>
            </div>
      
            <!-- video link -->
            <div>
              <div>
                <p>
                  <video width="320" height="240" controls="">
                    <source src="movie.mp4" type="video/mp4">
                    <source src="movie.ogg" type="video/ogg">
                  </video>
                </p>
                <p><a href="https://blog.adobe.com/en/publish/2022/12/07/kah-milah-ledgester-breathes-life-into-award-winning-art-with-adobe-creative-cloud">https://blog.adobe.com/en/publish/2022/12/07/kah-milah-ledgester-breathes-life-into-award-winning-art-with-adobe-creative-cloud</a></p>
              </div>
            </div>
          </div>
        </div>
      </main>
      

 üöß 404 network requests:
    - media_11a2b82bae131dfc473a57f71771f45af7a41bb4f.png?width=2000&format=webply&optimize=medium
    - movie.mp4
    - media_1fc468ed24da9dc2b5dabcc47503bbbfc6fdf4bbd.jpeg?width=2000&format=webply&optimize=medium
    - media_17d21c4a94b2d3e08b3b3b6aa999fbabdb72bdcdb.jpeg?width=2000&format=webply&optimize=medium
    - movie.ogg


[2K[1A[2K[Gtest/blocks/fragment/fragment.test.js:

 üöß Browser logs:
      Could not get fragment
      [ [ [32m'Could not make fragment'[39m ] ]
      ERROR: Fragment Circular Reference loading http://localhost:2000/test/blocks/fragment/mocks/fragments/frag-a

 üöß 404 network requests:
    - test/blocks/fragment/mocks/fragments/bad.plain.html


[2K[1A[2K[Gtest/blocks/gnav/missing-gnav.test.js:

 üöß Browser logs:
      Could not create global navigation: TypeError: Cannot read properties of null (reading 'querySelector')
        at Gnav.setBreadcrumbSEO (libs/blocks/gnav/gnav.js:485:32)
        at Gnav.init (libs/blocks/gnav/gnav.js:98:10)
        at Module.init (libs/blocks/gnav/gnav.js:630:10)
        at async o.<anonymous> (test/blocks/gnav/missing-gnav.test.js:29:18)


[2K[1A[2K[Gtest/blocks/how-to/how-to.test.js:

 üöß 404 network requests:
    - media_11010316338257212d075d5d8b91d144d6809bd02.jpeg?width=2000&format=webply&optimize=medium


[2K[1A[2K[GError while generating code coverage for https://www.instagram.com/embed.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/embed.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/embed.js'[39m
}

[2K[1A[2K[Gtest/blocks/interlinks/interlinks.test.js:

 üöß 404 network requests:
    - test/blocks/interlinks/mocks/invalid.json?limit=1000


[2K[1A[2K[GChrome: |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè            | 42/82 test files | 326 passed, 0 failed

Running tests...


[2K[1A[2K[Gtest/blocks/marquee/marquee.test.js:

 üöß 404 network requests:
    - media_1b0c6020b0f41b430ac84da37e444fa7495597d68.png?width=2000&format=webply&optimize=medium
    - media_14397d257748618c661379e599afb2fdd682c2335.png?width=2000&format=webply&optimize=medium
    - drafts/methomas/media_16e79d59a997bc94e5f1b2a518acb152a14f97490.mp4
    - media_1cddb4d5e38f953e8624d70389b6f2a4932f597e9.png?width=2000&format=webply&optimize=medium


[2K[1A[2K[GError while generating code coverage for https://app-aba.marketo.com/js/forms2/js/forms2.min.js.
[Error: ENOENT: no such file or directory, open '/Users/sanrai/Documents/milo/js/forms2/js/forms2.min.js'] {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/Users/sanrai/Documents/milo/js/forms2/js/forms2.min.js'[39m
}

[2K[1A[2K[Gtest/blocks/modals/modals.test.js:

 ‚ùå Modals > Locks focus when tabbing forward through tabbable elements
      AssertionError: expected 'milo-button-2' to equal 'milo-button-1'
      + expected - actual
      
      -milo-button-2
      +milo-button-1
      
      at o.<anonymous> (test/blocks/modals/modals.test.js:108:58)

 ‚ùå Modals > Locks focus when tabbing backward through tabbable elements
      AssertionError: expected 'milo-button-2' to equal 'milo-button-1'
      + expected - actual
      
      -milo-button-2
      +milo-button-1
      
      at o.<anonymous> (test/blocks/modals/modals.test.js:125:58)


[2K[1A[2K[Gtest/blocks/reading-time/reading-time.test.js:

 üöß 404 network requests:
    - test/blocks/reading-time/mocks/placeholders.json


